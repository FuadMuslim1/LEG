const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UserDashboard-4vzgmi2Y.js","assets/Layout-C20-kRFR.js","assets/log-out-DAX5-8ca.js","assets/external-link-B3HVBvR-.js","assets/ProfileSettings-suejE3dg.js","assets/circle-check-big-D2dOgAAE.js","assets/save-DmZFUPOU.js","assets/AdminReferral-BdWLM7sC.js","assets/AdminLayout-ySf5CHEQ.js","assets/Skeleton-BX0QDTub.js","assets/xlsx-DV0spwX2.js","assets/rotate-ccw-CqGlC2K7.js","assets/chevron-left-DnAGv6LE.js","assets/AdminDatabase-DvhX7lBT.js","assets/arrow-right-jm2l9Inu.js","assets/AdminReward-CRhKHsF8.js","assets/AdminNotification-DFlNTnFr.js","assets/AdminLord-CgMEc3R7.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function eA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bp={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function pR(){if(ME)return xu;ME=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return xu.Fragment=e,xu.jsx=t,xu.jsxs=t,xu}var PE;function gR(){return PE||(PE=1,Bp.exports=pR()),Bp.exports}var b=gR(),Fp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function yR(){if(LE)return Re;LE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,F={};function X(V,ie,ue){this.props=V,this.context=ie,this.refs=F,this.updater=ue||z}X.prototype.isReactComponent={},X.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},X.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ee(){}ee.prototype=X.prototype;function U(V,ie,ue){this.props=V,this.context=ie,this.refs=F,this.updater=ue||z}var de=U.prototype=new ee;de.constructor=U,Q(de,X.prototype),de.isPureReactComponent=!0;var ge=Array.isArray;function me(){}var R={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function x(V,ie,ue){var ce=ue.ref;return{$$typeof:r,type:V,key:ie,ref:ce!==void 0?ce:null,props:ue}}function M(V,ie){return x(V.type,ie,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return ie[ue]})}var C=/\/+/g;function lt(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):ie.toString(36)}function Lt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(me,me):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Z(V,ie,ue,ce,we){var Ne=typeof V;(Ne==="undefined"||Ne==="boolean")&&(V=null);var ze=!1;if(V===null)ze=!0;else switch(Ne){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(V.$$typeof){case r:case e:ze=!0;break;case _:return ze=V._init,Z(ze(V._payload),ie,ue,ce,we)}}if(ze)return we=we(V),ze=ce===""?"."+lt(V,0):ce,ge(we)?(ue="",ze!=null&&(ue=ze.replace(C,"$&/")+"/"),Z(we,ie,ue,"",function(Vs){return Vs})):we!=null&&(D(we)&&(we=M(we,ue+(we.key==null||V&&V.key===we.key?"":(""+we.key).replace(C,"$&/")+"/")+ze)),ie.push(we)),1;ze=0;var jt=ce===""?".":ce+":";if(ge(V))for(var ut=0;ut<V.length;ut++)ce=V[ut],Ne=jt+lt(ce,ut),ze+=Z(ce,ie,ue,Ne,we);else if(ut=k(V),typeof ut=="function")for(V=ut.call(V),ut=0;!(ce=V.next()).done;)ce=ce.value,Ne=jt+lt(ce,ut++),ze+=Z(ce,ie,ue,Ne,we);else if(Ne==="object"){if(typeof V.then=="function")return Z(Lt(V),ie,ue,ce,we);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ze}function le(V,ie,ue){if(V==null)return V;var ce=[],we=0;return Z(V,ce,"","",function(Ne){return ie.call(ue,Ne,we++)}),ce}function Ee(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var Fe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ye={map:le,forEach:function(V,ie,ue){le(V,function(){ie.apply(this,arguments)},ue)},count:function(V){var ie=0;return le(V,function(){ie++}),ie},toArray:function(V){return le(V,function(ie){return ie})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Re.Activity=T,Re.Children=Ye,Re.Component=X,Re.Fragment=t,Re.Profiler=a,Re.PureComponent=U,Re.StrictMode=i,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(V,ie,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=Q({},V.props),we=V.key;if(ie!=null)for(Ne in ie.key!==void 0&&(we=""+ie.key),ie)!I.call(ie,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ie.ref===void 0||(ce[Ne]=ie[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=ue;else if(1<Ne){for(var ze=Array(Ne),jt=0;jt<Ne;jt++)ze[jt]=arguments[jt+2];ce.children=ze}return x(V.type,we,ce)},Re.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Re.createElement=function(V,ie,ue){var ce,we={},Ne=null;if(ie!=null)for(ce in ie.key!==void 0&&(Ne=""+ie.key),ie)I.call(ie,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(we[ce]=ie[ce]);var ze=arguments.length-2;if(ze===1)we.children=ue;else if(1<ze){for(var jt=Array(ze),ut=0;ut<ze;ut++)jt[ut]=arguments[ut+2];we.children=jt}if(V&&V.defaultProps)for(ce in ze=V.defaultProps,ze)we[ce]===void 0&&(we[ce]=ze[ce]);return x(V,Ne,we)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:d,render:V}},Re.isValidElement=D,Re.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:Ee}},Re.memo=function(V,ie){return{$$typeof:g,type:V,compare:ie===void 0?null:ie}},Re.startTransition=function(V){var ie=R.T,ue={};R.T=ue;try{var ce=V(),we=R.S;we!==null&&we(ue,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(me,Fe)}catch(Ne){Fe(Ne)}finally{ie!==null&&ue.types!==null&&(ie.types=ue.types),R.T=ie}},Re.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Re.use=function(V){return R.H.use(V)},Re.useActionState=function(V,ie,ue){return R.H.useActionState(V,ie,ue)},Re.useCallback=function(V,ie){return R.H.useCallback(V,ie)},Re.useContext=function(V){return R.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,ie){return R.H.useDeferredValue(V,ie)},Re.useEffect=function(V,ie){return R.H.useEffect(V,ie)},Re.useEffectEvent=function(V){return R.H.useEffectEvent(V)},Re.useId=function(){return R.H.useId()},Re.useImperativeHandle=function(V,ie,ue){return R.H.useImperativeHandle(V,ie,ue)},Re.useInsertionEffect=function(V,ie){return R.H.useInsertionEffect(V,ie)},Re.useLayoutEffect=function(V,ie){return R.H.useLayoutEffect(V,ie)},Re.useMemo=function(V,ie){return R.H.useMemo(V,ie)},Re.useOptimistic=function(V,ie){return R.H.useOptimistic(V,ie)},Re.useReducer=function(V,ie,ue){return R.H.useReducer(V,ie,ue)},Re.useRef=function(V){return R.H.useRef(V)},Re.useState=function(V){return R.H.useState(V)},Re.useSyncExternalStore=function(V,ie,ue){return R.H.useSyncExternalStore(V,ie,ue)},Re.useTransition=function(){return R.H.useTransition()},Re.version="19.2.3",Re}var jE;function $g(){return jE||(jE=1,Fp.exports=yR()),Fp.exports}var G=$g();const Cs=eA(G);var qp={exports:{}},Cu={},Hp={exports:{}},Gp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function _R(){return UE||(UE=1,(function(r){function e(Z,le){var Ee=Z.length;Z.push(le);e:for(;0<Ee;){var Fe=Ee-1>>>1,Ye=Z[Fe];if(0<a(Ye,le))Z[Fe]=le,Z[Ee]=Ye,Ee=Fe;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var le=Z[0],Ee=Z.pop();if(Ee!==le){Z[0]=Ee;e:for(var Fe=0,Ye=Z.length,V=Ye>>>1;Fe<V;){var ie=2*(Fe+1)-1,ue=Z[ie],ce=ie+1,we=Z[ce];if(0>a(ue,Ee))ce<Ye&&0>a(we,ue)?(Z[Fe]=we,Z[ce]=Ee,Fe=ce):(Z[Fe]=ue,Z[ie]=Ee,Fe=ie);else if(ce<Ye&&0>a(we,Ee))Z[Fe]=we,Z[ce]=Ee,Fe=ce;else break e}}return le}function a(Z,le){var Ee=Z.sortIndex-le.sortIndex;return Ee!==0?Ee:Z.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,T=null,w=3,k=!1,z=!1,Q=!1,F=!1,X=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function de(Z){for(var le=t(g);le!==null;){if(le.callback===null)i(g);else if(le.startTime<=Z)i(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function ge(Z){if(Q=!1,de(Z),!z)if(t(p)!==null)z=!0,me||(me=!0,P());else{var le=t(g);le!==null&&Lt(ge,le.startTime-Z)}}var me=!1,R=-1,I=5,x=-1;function M(){return F?!0:!(r.unstable_now()-x<I)}function D(){if(F=!1,me){var Z=r.unstable_now();x=Z;var le=!0;try{e:{z=!1,Q&&(Q=!1,ee(R),R=-1),k=!0;var Ee=w;try{t:{for(de(Z),T=t(p);T!==null&&!(T.expirationTime>Z&&M());){var Fe=T.callback;if(typeof Fe=="function"){T.callback=null,w=T.priorityLevel;var Ye=Fe(T.expirationTime<=Z);if(Z=r.unstable_now(),typeof Ye=="function"){T.callback=Ye,de(Z),le=!0;break t}T===t(p)&&i(p),de(Z)}else i(p);T=t(p)}if(T!==null)le=!0;else{var V=t(g);V!==null&&Lt(ge,V.startTime-Z),le=!1}}break e}finally{T=null,w=Ee,k=!1}le=void 0}}finally{le?P():me=!1}}}var P;if(typeof U=="function")P=function(){U(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,lt=C.port2;C.port1.onmessage=D,P=function(){lt.postMessage(null)}}else P=function(){X(D,0)};function Lt(Z,le){R=X(function(){Z(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var Ee=w;w=le;try{return Z()}finally{w=Ee}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Ee=w;w=Z;try{return le()}finally{w=Ee}},r.unstable_scheduleCallback=function(Z,le,Ee){var Fe=r.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Fe+Ee:Fe):Ee=Fe,Z){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=Ee+Ye,Z={id:_++,callback:le,priorityLevel:Z,startTime:Ee,expirationTime:Ye,sortIndex:-1},Ee>Fe?(Z.sortIndex=Ee,e(g,Z),t(p)===null&&Z===t(g)&&(Q?(ee(R),R=-1):Q=!0,Lt(ge,Ee-Fe))):(Z.sortIndex=Ye,e(p,Z),z||k||(z=!0,me||(me=!0,P()))),Z},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Z){var le=w;return function(){var Ee=w;w=le;try{return Z.apply(this,arguments)}finally{w=Ee}}}})(Gp)),Gp}var zE;function vR(){return zE||(zE=1,Hp.exports=_R()),Hp.exports}var Kp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function ER(){if(BE)return nn;BE=1;var r=$g();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},nn.flushSync=function(p){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=_,i.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:k}):_==="script"&&i.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);i.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},nn.requestFormReset=function(p){i.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var FE;function TR(){if(FE)return Kp.exports;FE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kp.exports=ER(),Kp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function bR(){if(qE)return Cu;qE=1;var r=vR(),e=$g(),t=TR();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),n;if(m===u)return p(f),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var v=!1,A=f.child;A;){if(A===o){v=!0,o=f,u=m;break}if(A===u){v=!0,u=f,o=m;break}A=A.sibling}if(!v){for(A=m.child;A;){if(A===o){v=!0,o=m,u=f;break}if(A===u){v=!0,u=m,o=f;break}A=A.sibling}if(!v)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function _(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=_(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),U=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function lt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Q:return"Fragment";case X:return"Profiler";case F:return"StrictMode";case ge:return"Suspense";case me:return"SuspenseList";case x:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case z:return"Portal";case U:return n.displayName||"Context";case ee:return(n._context.displayName||"Context")+".Consumer";case de:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:lt(n.type)||"Memo";case I:s=n._payload,n=n._init;try{return lt(n(s))}catch{}}return null}var Lt=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Fe=[],Ye=-1;function V(n){return{current:n}}function ie(n){0>Ye||(n.current=Fe[Ye],Fe[Ye]=null,Ye--)}function ue(n,s){Ye++,Fe[Ye]=n.current,n.current=s}var ce=V(null),we=V(null),Ne=V(null),ze=V(null);function jt(n,s){switch(ue(Ne,s),ue(we,n),ue(ce,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?rE(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=rE(s),n=sE(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(ce),ue(ce,n)}function ut(){ie(ce),ie(we),ie(Ne)}function Vs(n){n.memoizedState!==null&&ue(ze,n);var s=ce.current,o=sE(s,n.type);s!==o&&(ue(we,n),ue(ce,o))}function qa(n){we.current===n&&(ie(ce),ie(we)),ze.current===n&&(ie(ze),wu._currentValue=Ee)}var Ha,Ga;function _i(n){if(Ha===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ha=s&&s[1]||"",Ga=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ha+n+Ga}var wl=!1;function Ms(n,s){if(!n||wl)return"";wl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var K=$}Reflect.construct(n,[],ne)}else{try{ne.call()}catch($){K=$}n.call(ne.prototype)}}else{try{throw Error()}catch($){K=$}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),v=m[0],A=m[1];if(v&&A){var N=v.split(`
`),H=A.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===H.length)for(u=N.length-1,f=H.length-1;1<=u&&0<=f&&N[u]!==H[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==H[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==H[f]){var W=`
`+N[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=f);break}}}finally{wl=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?_i(o):""}function Sl(n,s){switch(n.tag){case 26:case 27:case 5:return _i(n.type);case 16:return _i("Lazy");case 13:return n.child!==s&&s!==null?_i("Suspense Fallback"):_i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Ms(n.type,!1);case 11:return Ms(n.type.render,!1);case 1:return Ms(n.type,!0);case 31:return _i("Activity");default:return""}}function Il(n){try{var s="",o=null;do s+=Sl(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var St=Object.prototype.hasOwnProperty,Ut=r.unstable_scheduleCallback,Nr=r.unstable_cancelCallback,qd=r.unstable_shouldYield,jc=r.unstable_requestPaint,un=r.unstable_now,Ps=r.unstable_getCurrentPriorityLevel,Rl=r.unstable_ImmediatePriority,xl=r.unstable_UserBlockingPriority,Dr=r.unstable_NormalPriority,Hd=r.unstable_LowPriority,Uc=r.unstable_IdlePriority,zc=r.log,Bc=r.unstable_setDisableYieldValue,Zn=null,Yt=null;function Pn(n){if(typeof zc=="function"&&Bc(n),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Zn,n)}catch{}}var Tt=Math.clz32?Math.clz32:qc,Fc=Math.log,Ka=Math.LN2;function qc(n){return n>>>=0,n===0?32:31-(Fc(n)/Ka|0)|0}var vi=256,Ls=262144,It=4194304;function Ei(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ti(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?f=Ei(u):(v&=A,v!==0?f=Ei(v):o||(o=A&~n,o!==0&&(f=Ei(o))))):(A=u&~m,A!==0?f=Ei(A):v!==0?f=Ei(v):o||(o=u&~n,o!==0&&(f=Ei(o)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:f}function ei(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Gd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hc(){var n=It;return It<<=1,(It&62914560)===0&&(It=4194304),n}function bi(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function js(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Kd(n,s,o,u,f,m){var v=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var A=n.entanglements,N=n.expirationTimes,H=n.hiddenUpdates;for(o=v&~o;0<o;){var W=31-Tt(o),ne=1<<W;A[W]=0,N[W]=-1;var K=H[W];if(K!==null)for(H[W]=null,W=0;W<K.length;W++){var $=K[W];$!==null&&($.lane&=-536870913)}o&=~ne}u!==0&&Us(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(v&~s))}function Us(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Tt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Cl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Tt(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function Nl(n,s){var o=s&-s;return o=(o&42)!==0?1:zs(o),(o&(n.suspendedLanes|s))!==0?0:o}function zs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Xi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Gc(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:xE(n.type))}function ti(n,s){var o=le.p;try{return le.p=n,s()}finally{le.p=o}}var ni=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ni,Ht="__reactProps$"+ni,Ai="__reactContainer$"+ni,Qa="__reactEvents$"+ni,Qd="__reactListeners$"+ni,Kc="__reactHandles$"+ni,Qc="__reactResources$"+ni,wi="__reactMarker$"+ni;function Ya(n){delete n[Rt],delete n[Ht],delete n[Qa],delete n[Qd],delete n[Kc]}function Si(n){var s=n[Rt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Ai]||o[Rt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=fE(n);n!==null;){if(o=n[Rt])return o;n=fE(n)}return s}n=o,o=n.parentNode}return null}function Ln(n){if(n=n[Rt]||n[Ai]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function bn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Ii(n){var s=n[Qc];return s||(s=n[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xt(n){n[wi]=!0}var Dl=new Set,kl={};function Ri(n,s){xi(n,s),xi(n+"Capture",s)}function xi(n,s){for(kl[n]=s,n=0;n<s.length;n++)Dl.add(s[n])}var Ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},Ml={};function Yc(n){return St.call(Ml,n)?!0:St.call(Vl,n)?!1:Ol.test(n)?Ml[n]=!0:(Vl[n]=!0,!1)}function $a(n,s,o){if(Yc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function An(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Ct(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function Gt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function kr(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pl(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){o=""+v,m.call(this,v)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function $e(n){if(!n._valueTracker){var s=kr(n)?"checked":"value";n._valueTracker=Pl(n,s,""+n[s])}}function Bs(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=kr(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Ci(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Fs=/[\n"\\]/g;function mn(n){return n.replace(Fs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xa(n,s,o,u,f,m,v,A){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),s!=null?v==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Gt(s)):n.value!==""+Gt(s)&&(n.value=""+Gt(s)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),s!=null?Ll(n,v,Gt(s)):o!=null?Ll(n,v,Gt(o)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+Gt(A):n.removeAttribute("name")}function $c(n,s,o,u,f,m,v,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){$e(n);return}o=o!=null?""+Gt(o):"",s=s!=null?""+Gt(s):o,A||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=A?n.checked:!!u,n.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),$e(n)}function Ll(n,s,o){s==="number"&&Ci(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Or(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Gt(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Xc(n,s,o){if(s!=null&&(s=""+Gt(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Gt(o):""}function Vr(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Lt(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Gt(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),$e(n)}function pn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Jc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Jc.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Ul(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&jl(n,f,u)}else for(var m in s)s.hasOwnProperty(m)&&jl(n,m,s[m])}function Ja(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(n){return Mr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ii(){}var zl=null;function jn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pr=null,Ni=null;function qs(n){var s=Ln(n);if(s&&(n=s.stateNode)){var o=n[Ht]||null;e:switch(n=s.stateNode,s.type){case"input":if(Xa(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+mn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Ht]||null;if(!f)throw Error(i(90));Xa(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Bs(u)}break e;case"textarea":Xc(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Or(n,!!o.multiple,s,!1)}}}var Za=!1;function Lr(n,s,o){if(Za)return n(s,o);Za=!0;try{var u=n(s);return u}finally{if(Za=!1,(Pr!==null||Ni!==null)&&(Gh(),Pr&&(s=Pr,n=Ni,Ni=Pr=null,qs(s),n)))for(s=0;s<n.length;s++)qs(n[s])}}function ri(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(Un)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Hs=!1}var Di=null,Bl=null,Gs=null;function Fl(){if(Gs)return Gs;var n,s=Bl,o=s.length,u,f="value"in Di?Di.value:Di.textContent,m=f.length;for(n=0;n<o&&s[n]===f[n];n++);var v=o-n;for(u=1;u<=v&&s[o-u]===f[m-u];u++);return Gs=f.slice(n,1<u?1-u:void 0)}function Ks(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ji(){return!0}function si(){return!1}function $t(n){function s(o,u,f,m,v){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(o=n[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ji:si,this.isPropagationStopped=si,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=$t(Wi),jr=T({},Wi,{view:0,detail:0}),ql=$t(jr),Ur,eo,Oi,to=T({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Oi&&(Oi&&n.type==="mousemove"?(Ur=n.screenX-Oi.screenX,eo=n.screenY-Oi.screenY):eo=Ur=0,Oi=n),Ur)},movementY:function(n){return"movementY"in n?n.movementY:eo}}),Hl=$t(to),Qs=T({},to,{dataTransfer:0}),Zc=$t(Qs),eh=T({},jr,{relatedTarget:0}),Ys=$t(eh),Gl=T({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),th=$t(Gl),no=T({},Wi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),nh=$t(no),ih=T({},Wi,{data:0}),Vi=$t(ih),rh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ah[n])?!!s[n]:!1}function zr(){return oh}var cn=T({},jr,{key:function(n){if(n.key){var s=rh[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ks(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?sh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(n){return n.type==="keypress"?Ks(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ks(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),lh=$t(cn),uh=T({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=$t(uh),h=T({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),y=$t(h),E=T({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=$t(E),B=T({},to,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=$t(B),ae=T({},Wi,{newState:0,oldState:0}),xe=$t(ae),bt=[9,13,27,32],Ge=Un&&"CompositionEvent"in window,ct=null;Un&&"documentMode"in document&&(ct=document.documentMode);var zn=Un&&"TextEvent"in window&&!ct,Mi=Un&&(!Ge||ct&&8<ct&&11>=ct),ai=" ",oi=!1;function $s(n,s){switch(n){case"keyup":return bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ro=!1;function U1(n,s){switch(n){case"compositionend":return io(s);case"keypress":return s.which!==32?null:(oi=!0,ai);case"textInput":return n=s.data,n===ai&&oi?null:n;default:return null}}function z1(n,s){if(ro)return n==="compositionend"||!Ge&&$s(n,s)?(n=Fl(),Gs=Bl=Di=null,ro=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Mi&&s.locale!=="ko"?null:s.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p_(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!B1[n.type]:s==="textarea"}function g_(n,s,o,u){Pr?Ni?Ni.push(u):Ni=[u]:Pr=u,s=Wh(s,"onChange"),0<s.length&&(o=new ki("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Kl=null,Ql=null;function F1(n){W0(n,0)}function ch(n){var s=bn(n);if(Bs(s))return n}function y_(n,s){if(n==="change")return s}var __=!1;if(Un){var Yd;if(Un){var $d="oninput"in document;if(!$d){var v_=document.createElement("div");v_.setAttribute("oninput","return;"),$d=typeof v_.oninput=="function"}Yd=$d}else Yd=!1;__=Yd&&(!document.documentMode||9<document.documentMode)}function E_(){Kl&&(Kl.detachEvent("onpropertychange",T_),Ql=Kl=null)}function T_(n){if(n.propertyName==="value"&&ch(Ql)){var s=[];g_(s,Ql,n,jn(n)),Lr(F1,s)}}function q1(n,s,o){n==="focusin"?(E_(),Kl=s,Ql=o,Kl.attachEvent("onpropertychange",T_)):n==="focusout"&&E_()}function H1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ch(Ql)}function G1(n,s){if(n==="click")return ch(s)}function K1(n,s){if(n==="input"||n==="change")return ch(s)}function Q1(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var wn=typeof Object.is=="function"?Object.is:Q1;function Yl(n,s){if(wn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!St.call(s,f)||!wn(n[f],s[f]))return!1}return!0}function b_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function A_(n,s){var o=b_(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=b_(o)}}function w_(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?w_(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function S_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ci(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Ci(n.document)}return s}function Xd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Y1=Un&&"documentMode"in document&&11>=document.documentMode,so=null,Jd=null,$l=null,Wd=!1;function I_(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Wd||so==null||so!==Ci(u)||(u=so,"selectionStart"in u&&Xd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$l&&Yl($l,u)||($l=u,u=Wh(Jd,"onSelect"),0<u.length&&(s=new ki("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=so)))}function Xs(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var ao={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},Zd={},R_={};Un&&(R_=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function Js(n){if(Zd[n])return Zd[n];if(!ao[n])return n;var s=ao[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in R_)return Zd[n]=s[o];return n}var x_=Js("animationend"),C_=Js("animationiteration"),N_=Js("animationstart"),$1=Js("transitionrun"),X1=Js("transitionstart"),J1=Js("transitioncancel"),D_=Js("transitionend"),k_=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");em.push("scrollEnd");function li(n,s){k_.set(n,s),Ri(s,[n])}var hh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Bn=[],oo=0,tm=0;function fh(){for(var n=oo,s=tm=oo=0;s<n;){var o=Bn[s];Bn[s++]=null;var u=Bn[s];Bn[s++]=null;var f=Bn[s];Bn[s++]=null;var m=Bn[s];if(Bn[s++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}m!==0&&O_(o,f,m)}}function dh(n,s,o,u){Bn[oo++]=n,Bn[oo++]=s,Bn[oo++]=o,Bn[oo++]=u,tm|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function nm(n,s,o,u){return dh(n,s,o,u),mh(n)}function Ws(n,s){return dh(n,null,null,s),mh(n)}function O_(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-Tt(o),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),m):null}function mh(n){if(50<yu)throw yu=0,hp=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var lo={};function W1(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(n,s,o,u){return new W1(n,s,o,u)}function im(n){return n=n.prototype,!(!n||!n.isReactComponent)}function er(n,s){var o=n.alternate;return o===null?(o=Sn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function V_(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function ph(n,s,o,u,f,m){var v=0;if(u=n,typeof n=="function")im(n)&&(v=1);else if(typeof n=="string")v=iR(n,o,ce.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case x:return n=Sn(31,o,s,f),n.elementType=x,n.lanes=m,n;case Q:return Zs(o.children,f,m,s);case F:v=8,f|=24;break;case X:return n=Sn(12,o,s,f|2),n.elementType=X,n.lanes=m,n;case ge:return n=Sn(13,o,s,f),n.elementType=ge,n.lanes=m,n;case me:return n=Sn(19,o,s,f),n.elementType=me,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:v=10;break e;case ee:v=9;break e;case de:v=11;break e;case R:v=14;break e;case I:v=16,u=null;break e}v=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=Sn(v,o,s,f),s.elementType=n,s.type=u,s.lanes=m,s}function Zs(n,s,o,u){return n=Sn(7,n,u,s),n.lanes=o,n}function rm(n,s,o){return n=Sn(6,n,null,s),n.lanes=o,n}function M_(n){var s=Sn(18,null,null,0);return s.stateNode=n,s}function sm(n,s,o){return s=Sn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var P_=new WeakMap;function Fn(n,s){if(typeof n=="object"&&n!==null){var o=P_.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Il(s)},P_.set(n,s),s)}return{value:n,source:s,stack:Il(s)}}var uo=[],co=0,gh=null,Xl=0,qn=[],Hn=0,Br=null,Pi=1,Li="";function tr(n,s){uo[co++]=Xl,uo[co++]=gh,gh=n,Xl=s}function L_(n,s,o){qn[Hn++]=Pi,qn[Hn++]=Li,qn[Hn++]=Br,Br=n;var u=Pi;n=Li;var f=32-Tt(u)-1;u&=~(1<<f),o+=1;var m=32-Tt(s)+f;if(30<m){var v=f-f%5;m=(u&(1<<v)-1).toString(32),u>>=v,f-=v,Pi=1<<32-Tt(s)+f|o<<f|u,Li=m+n}else Pi=1<<m|o<<f|u,Li=n}function am(n){n.return!==null&&(tr(n,1),L_(n,1,0))}function om(n){for(;n===gh;)gh=uo[--co],uo[co]=null,Xl=uo[--co],uo[co]=null;for(;n===Br;)Br=qn[--Hn],qn[Hn]=null,Li=qn[--Hn],qn[Hn]=null,Pi=qn[--Hn],qn[Hn]=null}function j_(n,s){qn[Hn++]=Pi,qn[Hn++]=Li,qn[Hn++]=Br,Pi=s.id,Li=s.overflow,Br=n}var Xt=null,at=null,Ue=!1,Fr=null,Gn=!1,lm=Error(i(519));function qr(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(Fn(s,n)),lm}function U_(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Rt]=n,s[Ht]=u,o){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(o=0;o<vu.length;o++)Ve(vu[o],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),$c(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),Vr(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||nE(s.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),u.onScroll!=null&&Ve("scroll",s),u.onScrollEnd!=null&&Ve("scrollend",s),u.onClick!=null&&(s.onclick=ii),s=!0):s=!1,s||qr(n,!0)}function z_(n){for(Xt=n.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xt=Xt.return}}function ho(n){if(n!==Xt)return!1;if(!Ue)return z_(n),Ue=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Ip(n.type,n.memoizedProps)),o=!o),o&&at&&qr(n),z_(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));at=hE(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));at=hE(n)}else s===27?(s=at,is(n.type)?(n=Dp,Dp=null,at=n):at=s):at=Xt?Qn(n.stateNode.nextSibling):null;return!0}function ea(){at=Xt=null,Ue=!1}function um(){var n=Fr;return n!==null&&(vn===null?vn=n:vn.push.apply(vn,n),Fr=null),n}function Jl(n){Fr===null?Fr=[n]:Fr.push(n)}var cm=V(null),ta=null,nr=null;function Hr(n,s,o){ue(cm,s._currentValue),s._currentValue=o}function ir(n){n._currentValue=cm.current,ie(cm)}function hm(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function fm(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var N=0;N<s.length;N++)if(A.context===s[N]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),hm(m.return,o,n),u||(v=null);break e}m=A.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(i(341));v.lanes|=o,m=v.alternate,m!==null&&(m.lanes|=o),hm(v,o,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function fo(n,s,o,u){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var A=f.type;wn(f.pendingProps.value,v.value)||(n!==null?n.push(A):n=[A])}}else if(f===ze.current){if(v=f.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(wu):n=[wu])}f=f.return}n!==null&&fm(s,n,o,u),s.flags|=262144}function yh(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function na(n){ta=n,nr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return B_(ta,n)}function _h(n,s){return ta===null&&na(n),B_(n,s)}function B_(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},nr===null){if(n===null)throw Error(i(308));nr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else nr=nr.next=s;return o}var Z1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},eI=r.unstable_scheduleCallback,tI=r.unstable_NormalPriority,Nt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new Z1,data:new Map,refCount:0}}function Wl(n){n.refCount--,n.refCount===0&&eI(tI,function(){n.controller.abort()})}var Zl=null,mm=0,mo=0,po=null;function nI(n,s){if(Zl===null){var o=Zl=[];mm=0,mo=yp(),po={status:"pending",value:void 0,then:function(u){o.push(u)}}}return mm++,s.then(F_,F_),s}function F_(){if(--mm===0&&Zl!==null){po!==null&&(po.status="fulfilled");var n=Zl;Zl=null,mo=0,po=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function iI(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var q_=Z.S;Z.S=function(n,s){I0=un(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&nI(n,s),q_!==null&&q_(n,s)};var ia=V(null);function pm(){var n=ia.current;return n!==null?n:st.pooledCache}function vh(n,s){s===null?ue(ia,ia.current):ue(ia,s.pool)}function H_(){var n=pm();return n===null?null:{parent:Nt._currentValue,pool:n}}var go=Error(i(460)),gm=Error(i(474)),Eh=Error(i(542)),Th={then:function(){}};function G_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function K_(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(ii,ii),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Y_(n),n;default:if(typeof s.status=="string")s.then(ii,ii);else{if(n=st,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Y_(n),n}throw sa=s,go}}function ra(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(sa=o,go):o}}var sa=null;function Q_(){if(sa===null)throw Error(i(459));var n=sa;return sa=null,n}function Y_(n){if(n===go||n===Eh)throw Error(i(483))}var yo=null,eu=0;function bh(n){var s=eu;return eu+=1,yo===null&&(yo=[]),K_(yo,n,s)}function tu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ah(n,s){throw s.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function $_(n){function s(L,O){if(n){var q=L.deletions;q===null?(L.deletions=[O],L.flags|=16):q.push(O)}}function o(L,O){if(!n)return null;for(;O!==null;)s(L,O),O=O.sibling;return null}function u(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=er(L,O),L.index=0,L.sibling=null,L}function m(L,O,q){return L.index=q,n?(q=L.alternate,q!==null?(q=q.index,q<O?(L.flags|=67108866,O):q):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function v(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function A(L,O,q,te){return O===null||O.tag!==6?(O=rm(q,L.mode,te),O.return=L,O):(O=f(O,q),O.return=L,O)}function N(L,O,q,te){var _e=q.type;return _e===Q?W(L,O,q.props.children,te,q.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===I&&ra(_e)===O.type)?(O=f(O,q.props),tu(O,q),O.return=L,O):(O=ph(q.type,q.key,q.props,null,L.mode,te),tu(O,q),O.return=L,O)}function H(L,O,q,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=sm(q,L.mode,te),O.return=L,O):(O=f(O,q.children||[]),O.return=L,O)}function W(L,O,q,te,_e){return O===null||O.tag!==7?(O=Zs(q,L.mode,te,_e),O.return=L,O):(O=f(O,q),O.return=L,O)}function ne(L,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=rm(""+O,L.mode,q),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return q=ph(O.type,O.key,O.props,null,L.mode,q),tu(q,O),q.return=L,q;case z:return O=sm(O,L.mode,q),O.return=L,O;case I:return O=ra(O),ne(L,O,q)}if(Lt(O)||P(O))return O=Zs(O,L.mode,q,null),O.return=L,O;if(typeof O.then=="function")return ne(L,bh(O),q);if(O.$$typeof===U)return ne(L,_h(L,O),q);Ah(L,O)}return null}function K(L,O,q,te){var _e=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return _e!==null?null:A(L,O,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case k:return q.key===_e?N(L,O,q,te):null;case z:return q.key===_e?H(L,O,q,te):null;case I:return q=ra(q),K(L,O,q,te)}if(Lt(q)||P(q))return _e!==null?null:W(L,O,q,te,null);if(typeof q.then=="function")return K(L,O,bh(q),te);if(q.$$typeof===U)return K(L,O,_h(L,q),te);Ah(L,q)}return null}function $(L,O,q,te,_e){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return L=L.get(q)||null,A(O,L,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case k:return L=L.get(te.key===null?q:te.key)||null,N(O,L,te,_e);case z:return L=L.get(te.key===null?q:te.key)||null,H(O,L,te,_e);case I:return te=ra(te),$(L,O,q,te,_e)}if(Lt(te)||P(te))return L=L.get(q)||null,W(O,L,te,_e,null);if(typeof te.then=="function")return $(L,O,q,bh(te),_e);if(te.$$typeof===U)return $(L,O,q,_h(O,te),_e);Ah(O,te)}return null}function he(L,O,q,te){for(var _e=null,qe=null,pe=O,De=O=0,Pe=null;pe!==null&&De<q.length;De++){pe.index>De?(Pe=pe,pe=null):Pe=pe.sibling;var He=K(L,pe,q[De],te);if(He===null){pe===null&&(pe=Pe);break}n&&pe&&He.alternate===null&&s(L,pe),O=m(He,O,De),qe===null?_e=He:qe.sibling=He,qe=He,pe=Pe}if(De===q.length)return o(L,pe),Ue&&tr(L,De),_e;if(pe===null){for(;De<q.length;De++)pe=ne(L,q[De],te),pe!==null&&(O=m(pe,O,De),qe===null?_e=pe:qe.sibling=pe,qe=pe);return Ue&&tr(L,De),_e}for(pe=u(pe);De<q.length;De++)Pe=$(pe,L,De,q[De],te),Pe!==null&&(n&&Pe.alternate!==null&&pe.delete(Pe.key===null?De:Pe.key),O=m(Pe,O,De),qe===null?_e=Pe:qe.sibling=Pe,qe=Pe);return n&&pe.forEach(function(ls){return s(L,ls)}),Ue&&tr(L,De),_e}function Te(L,O,q,te){if(q==null)throw Error(i(151));for(var _e=null,qe=null,pe=O,De=O=0,Pe=null,He=q.next();pe!==null&&!He.done;De++,He=q.next()){pe.index>De?(Pe=pe,pe=null):Pe=pe.sibling;var ls=K(L,pe,He.value,te);if(ls===null){pe===null&&(pe=Pe);break}n&&pe&&ls.alternate===null&&s(L,pe),O=m(ls,O,De),qe===null?_e=ls:qe.sibling=ls,qe=ls,pe=Pe}if(He.done)return o(L,pe),Ue&&tr(L,De),_e;if(pe===null){for(;!He.done;De++,He=q.next())He=ne(L,He.value,te),He!==null&&(O=m(He,O,De),qe===null?_e=He:qe.sibling=He,qe=He);return Ue&&tr(L,De),_e}for(pe=u(pe);!He.done;De++,He=q.next())He=$(pe,L,De,He.value,te),He!==null&&(n&&He.alternate!==null&&pe.delete(He.key===null?De:He.key),O=m(He,O,De),qe===null?_e=He:qe.sibling=He,qe=He);return n&&pe.forEach(function(mR){return s(L,mR)}),Ue&&tr(L,De),_e}function rt(L,O,q,te){if(typeof q=="object"&&q!==null&&q.type===Q&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case k:e:{for(var _e=q.key;O!==null;){if(O.key===_e){if(_e=q.type,_e===Q){if(O.tag===7){o(L,O.sibling),te=f(O,q.props.children),te.return=L,L=te;break e}}else if(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===I&&ra(_e)===O.type){o(L,O.sibling),te=f(O,q.props),tu(te,q),te.return=L,L=te;break e}o(L,O);break}else s(L,O);O=O.sibling}q.type===Q?(te=Zs(q.props.children,L.mode,te,q.key),te.return=L,L=te):(te=ph(q.type,q.key,q.props,null,L.mode,te),tu(te,q),te.return=L,L=te)}return v(L);case z:e:{for(_e=q.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){o(L,O.sibling),te=f(O,q.children||[]),te.return=L,L=te;break e}else{o(L,O);break}else s(L,O);O=O.sibling}te=sm(q,L.mode,te),te.return=L,L=te}return v(L);case I:return q=ra(q),rt(L,O,q,te)}if(Lt(q))return he(L,O,q,te);if(P(q)){if(_e=P(q),typeof _e!="function")throw Error(i(150));return q=_e.call(q),Te(L,O,q,te)}if(typeof q.then=="function")return rt(L,O,bh(q),te);if(q.$$typeof===U)return rt(L,O,_h(L,q),te);Ah(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(o(L,O.sibling),te=f(O,q),te.return=L,L=te):(o(L,O),te=rm(q,L.mode,te),te.return=L,L=te),v(L)):o(L,O)}return function(L,O,q,te){try{eu=0;var _e=rt(L,O,q,te);return yo=null,_e}catch(pe){if(pe===go||pe===Eh)throw pe;var qe=Sn(29,pe,null,L.mode);return qe.lanes=te,qe.return=L,qe}finally{}}}var aa=$_(!0),X_=$_(!1),Gr=!1;function ym(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _m(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Kr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Qr(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=mh(n),O_(n,null,o),s}return dh(n,u,s,o),mh(n)}function nu(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Cl(n,o)}}function vm(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Em=!1;function iu(){if(Em){var n=po;if(n!==null)throw n}}function ru(n,s,o,u){Em=!1;var f=n.updateQueue;Gr=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,H=N.next;N.next=null,v===null?m=H:v.next=H,v=N;var W=n.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==v&&(A===null?W.firstBaseUpdate=H:A.next=H,W.lastBaseUpdate=N))}if(m!==null){var ne=f.baseState;v=0,W=H=N=null,A=m;do{var K=A.lane&-536870913,$=K!==A.lane;if($?(Me&K)===K:(u&K)===K){K!==0&&K===mo&&(Em=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var he=n,Te=A;K=s;var rt=o;switch(Te.tag){case 1:if(he=Te.payload,typeof he=="function"){ne=he.call(rt,ne,K);break e}ne=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Te.payload,K=typeof he=="function"?he.call(rt,ne,K):he,K==null)break e;ne=T({},ne,K);break e;case 2:Gr=!0}}K=A.callback,K!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[K]:$.push(K))}else $={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(H=W=$,N=ne):W=W.next=$,v|=K;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;$=A,A=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);W===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Wr|=v,n.lanes=v,n.memoizedState=ne}}function J_(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function W_(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)J_(o[n],s)}var _o=V(null),wh=V(0);function Z_(n,s){n=fr,ue(wh,n),ue(_o,s),fr=n|s.baseLanes}function Tm(){ue(wh,fr),ue(_o,_o.current)}function bm(){fr=wh.current,ie(_o),ie(wh)}var In=V(null),Kn=null;function Yr(n){var s=n.alternate;ue(At,At.current&1),ue(In,n),Kn===null&&(s===null||_o.current!==null||s.memoizedState!==null)&&(Kn=n)}function Am(n){ue(At,At.current),ue(In,n),Kn===null&&(Kn=n)}function ev(n){n.tag===22?(ue(At,At.current),ue(In,n),Kn===null&&(Kn=n)):$r()}function $r(){ue(At,At.current),ue(In,In.current)}function Rn(n){ie(In),Kn===n&&(Kn=null),ie(At)}var At=V(0);function Sh(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Cp(o)||Np(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var rr=0,Ce=null,nt=null,Dt=null,Ih=!1,vo=!1,oa=!1,Rh=0,su=0,Eo=null,rI=0;function yt(){throw Error(i(321))}function wm(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!wn(n[o],s[o]))return!1;return!0}function Sm(n,s,o,u,f,m){return rr=m,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=n===null||n.memoizedState===null?Lv:zm,oa=!1,m=o(u,f),oa=!1,vo&&(m=nv(s,o,u,f)),tv(n),m}function tv(n){Z.H=lu;var s=nt!==null&&nt.next!==null;if(rr=0,Dt=nt=Ce=null,Ih=!1,su=0,Eo=null,s)throw Error(i(300));n===null||kt||(n=n.dependencies,n!==null&&yh(n)&&(kt=!0))}function nv(n,s,o,u){Ce=n;var f=0;do{if(vo&&(Eo=null),su=0,vo=!1,25<=f)throw Error(i(301));if(f+=1,Dt=nt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=jv,m=s(o,u)}while(vo);return m}function sI(){var n=Z.H,s=n.useState()[0];return s=typeof s.then=="function"?au(s):s,n=n.useState()[0],(nt!==null?nt.memoizedState:null)!==n&&(Ce.flags|=1024),s}function Im(){var n=Rh!==0;return Rh=0,n}function Rm(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function xm(n){if(Ih){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ih=!1}rr=0,Dt=nt=Ce=null,vo=!1,su=Rh=0,Eo=null}function hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ce.memoizedState=Dt=n:Dt=Dt.next=n,Dt}function wt(){if(nt===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var s=Dt===null?Ce.memoizedState:Dt.next;if(s!==null)Dt=s,nt=n;else{if(n===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Dt===null?Ce.memoizedState=Dt=n:Dt=Dt.next=n}return Dt}function xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(n){var s=su;return su+=1,Eo===null&&(Eo=[]),n=K_(Eo,n,s),s=Ce,(Dt===null?s.memoizedState:Dt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?Lv:zm),n}function Ch(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return au(n);if(n.$$typeof===U)return Jt(n)}throw Error(i(438,String(n)))}function Cm(n){var s=null,o=Ce.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=xh(),Ce.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=M;return s.index++,o}function sr(n,s){return typeof s=="function"?s(n):s}function Nh(n){var s=wt();return Nm(s,nt,n)}function Nm(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}s.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var A=v=null,N=null,H=s,W=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Me&ne)===ne:(rr&ne)===ne){var K=H.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===mo&&(W=!0);else if((rr&K)===K){H=H.next,K===mo&&(W=!0);continue}else ne={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=ne,v=m):N=N.next=ne,Ce.lanes|=K,Wr|=K;ne=H.action,oa&&o(m,ne),m=H.hasEagerState?H.eagerState:o(m,ne)}else K={lane:ne,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=K,v=m):N=N.next=K,Ce.lanes|=ne,Wr|=ne;H=H.next}while(H!==null&&H!==s);if(N===null?v=m:N.next=A,!wn(m,n.memoizedState)&&(kt=!0,W&&(o=po,o!==null)))throw o;n.memoizedState=m,n.baseState=v,n.baseQueue=N,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Dm(n){var s=wt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var v=f=f.next;do m=n(m,v.action),v=v.next;while(v!==f);wn(m,s.memoizedState)||(kt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function iv(n,s,o){var u=Ce,f=wt(),m=Ue;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var v=!wn((nt||f).memoizedState,o);if(v&&(f.memoizedState=o,kt=!0),f=f.queue,Vm(av.bind(null,u,f,n),[n]),f.getSnapshot!==s||v||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,To(9,{destroy:void 0},sv.bind(null,u,f,o,s),null),st===null)throw Error(i(349));m||(rr&127)!==0||rv(u,s,o)}return o}function rv(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ce.updateQueue,s===null?(s=xh(),Ce.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function sv(n,s,o,u){s.value=o,s.getSnapshot=u,ov(s)&&lv(n)}function av(n,s,o){return o(function(){ov(s)&&lv(n)})}function ov(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!wn(n,o)}catch{return!0}}function lv(n){var s=Ws(n,2);s!==null&&En(s,n,2)}function km(n){var s=hn();if(typeof n=="function"){var o=n;if(n=o(),oa){Pn(!0);try{o()}finally{Pn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:n},s}function uv(n,s,o,u){return n.baseState=o,Nm(n,nt,typeof u=="function"?u:sr)}function aI(n,s,o,u,f){if(Oh(n))throw Error(i(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};Z.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,cv(s,m)):(m.next=o.next,s.pending=o.next=m)}}function cv(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var m=Z.T,v={};Z.T=v;try{var A=o(f,u),N=Z.S;N!==null&&N(v,A),hv(n,s,A)}catch(H){Om(n,s,H)}finally{m!==null&&v.types!==null&&(m.types=v.types),Z.T=m}}else try{m=o(f,u),hv(n,s,m)}catch(H){Om(n,s,H)}}function hv(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){fv(n,s,u)},function(u){return Om(n,s,u)}):fv(n,s,o)}function fv(n,s,o){s.status="fulfilled",s.value=o,dv(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,cv(n,o)))}function Om(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,dv(s),s=s.next;while(s!==u)}n.action=null}function dv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function mv(n,s){return s}function pv(n,s){if(Ue){var o=st.formState;if(o!==null){e:{var u=Ce;if(Ue){if(at){t:{for(var f=at,m=Gn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Qn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){at=Qn(f.nextSibling),u=f.data==="F!";break e}}qr(u)}u=!1}u&&(s=o[0])}}return o=hn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:s},o.queue=u,o=Vv.bind(null,Ce,u),u.dispatch=o,u=km(!1),m=Um.bind(null,Ce,!1,u.queue),u=hn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=aI.bind(null,Ce,f,m,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function gv(n){var s=wt();return yv(s,nt,n)}function yv(n,s,o){if(s=Nm(n,s,mv)[0],n=Nh(sr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=au(s)}catch(v){throw v===go?Eh:v}else u=s;s=wt();var f=s.queue,m=f.dispatch;return o!==s.memoizedState&&(Ce.flags|=2048,To(9,{destroy:void 0},oI.bind(null,f,o),null)),[u,m,n]}function oI(n,s){n.action=s}function _v(n){var s=wt(),o=nt;if(o!==null)return yv(s,o,n);wt(),s=s.memoizedState,o=wt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function To(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=xh(),Ce.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function vv(){return wt().memoizedState}function Dh(n,s,o,u){var f=hn();Ce.flags|=n,f.memoizedState=To(1|s,{destroy:void 0},o,u===void 0?null:u)}function kh(n,s,o,u){var f=wt();u=u===void 0?null:u;var m=f.memoizedState.inst;nt!==null&&u!==null&&wm(u,nt.memoizedState.deps)?f.memoizedState=To(s,m,o,u):(Ce.flags|=n,f.memoizedState=To(1|s,m,o,u))}function Ev(n,s){Dh(8390656,8,n,s)}function Vm(n,s){kh(2048,8,n,s)}function lI(n){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=xh(),Ce.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function Tv(n){var s=wt().memoizedState;return lI({ref:s,nextImpl:n}),function(){if((Ke&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function bv(n,s){return kh(4,2,n,s)}function Av(n,s){return kh(4,4,n,s)}function wv(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Sv(n,s,o){o=o!=null?o.concat([n]):null,kh(4,4,wv.bind(null,s,n),o)}function Mm(){}function Iv(n,s){var o=wt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&wm(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function Rv(n,s){var o=wt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&wm(s,u[1]))return u[0];if(u=n(),oa){Pn(!0);try{n()}finally{Pn(!1)}}return o.memoizedState=[u,s],u}function Pm(n,s,o){return o===void 0||(rr&1073741824)!==0&&(Me&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=x0(),Ce.lanes|=n,Wr|=n,o)}function xv(n,s,o,u){return wn(o,s)?o:_o.current!==null?(n=Pm(n,o,u),wn(n,s)||(kt=!0),n):(rr&42)===0||(rr&1073741824)!==0&&(Me&261930)===0?(kt=!0,n.memoizedState=o):(n=x0(),Ce.lanes|=n,Wr|=n,s)}function Cv(n,s,o,u,f){var m=le.p;le.p=m!==0&&8>m?m:8;var v=Z.T,A={};Z.T=A,Um(n,!1,s,o);try{var N=f(),H=Z.S;if(H!==null&&H(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=iI(N,u);ou(n,s,W,Nn(n))}else ou(n,s,u,Nn(n))}catch(ne){ou(n,s,{then:function(){},status:"rejected",reason:ne},Nn())}finally{le.p=m,v!==null&&A.types!==null&&(v.types=A.types),Z.T=v}}function uI(){}function Lm(n,s,o,u){if(n.tag!==5)throw Error(i(476));var f=Nv(n).queue;Cv(n,f,s,Ee,o===null?uI:function(){return Dv(n),o(u)})}function Nv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:Ee},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Dv(n){var s=Nv(n);s.next===null&&(s=n.alternate.memoizedState),ou(n,s.next.queue,{},Nn())}function jm(){return Jt(wu)}function kv(){return wt().memoizedState}function Ov(){return wt().memoizedState}function cI(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Nn();n=Kr(o);var u=Qr(s,n,o);u!==null&&(En(u,s,o),nu(u,s,o)),s={cache:dm()},n.payload=s;return}s=s.return}}function hI(n,s,o){var u=Nn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Oh(n)?Mv(s,o):(o=nm(n,s,o,u),o!==null&&(En(o,n,u),Pv(o,s,u)))}function Vv(n,s,o){var u=Nn();ou(n,s,o,u)}function ou(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Oh(n))Mv(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,A=m(v,o);if(f.hasEagerState=!0,f.eagerState=A,wn(A,v))return dh(n,s,f,0),st===null&&fh(),!1}catch{}finally{}if(o=nm(n,s,f,u),o!==null)return En(o,n,u),Pv(o,s,u),!0}return!1}function Um(n,s,o,u){if(u={lane:2,revertLane:yp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Oh(n)){if(s)throw Error(i(479))}else s=nm(n,o,u,2),s!==null&&En(s,n,2)}function Oh(n){var s=n.alternate;return n===Ce||s!==null&&s===Ce}function Mv(n,s){vo=Ih=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Pv(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Cl(n,o)}}var lu={readContext:Jt,use:Ch,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};lu.useEffectEvent=yt;var Lv={readContext:Jt,use:Ch,useCallback:function(n,s){return hn().memoizedState=[n,s===void 0?null:s],n},useContext:Jt,useEffect:Ev,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Dh(4194308,4,wv.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Dh(4194308,4,n,s)},useInsertionEffect:function(n,s){Dh(4,2,n,s)},useMemo:function(n,s){var o=hn();s=s===void 0?null:s;var u=n();if(oa){Pn(!0);try{n()}finally{Pn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=hn();if(o!==void 0){var f=o(s);if(oa){Pn(!0);try{o(s)}finally{Pn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=hI.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var s=hn();return n={current:n},s.memoizedState=n},useState:function(n){n=km(n);var s=n.queue,o=Vv.bind(null,Ce,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Mm,useDeferredValue:function(n,s){var o=hn();return Pm(o,n,s)},useTransition:function(){var n=km(!1);return n=Cv.bind(null,Ce,n.queue,!0,!1),hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Ce,f=hn();if(Ue){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),st===null)throw Error(i(349));(Me&127)!==0||rv(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,Ev(av.bind(null,u,m,n),[n]),u.flags|=2048,To(9,{destroy:void 0},sv.bind(null,u,m,o,s),null),o},useId:function(){var n=hn(),s=st.identifierPrefix;if(Ue){var o=Li,u=Pi;o=(u&~(1<<32-Tt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Rh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=rI++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:jm,useFormState:pv,useActionState:pv,useOptimistic:function(n){var s=hn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Um.bind(null,Ce,!0,o),o.dispatch=s,[n,s]},useMemoCache:Cm,useCacheRefresh:function(){return hn().memoizedState=cI.bind(null,Ce)},useEffectEvent:function(n){var s=hn(),o={impl:n};return s.memoizedState=o,function(){if((Ke&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},zm={readContext:Jt,use:Ch,useCallback:Iv,useContext:Jt,useEffect:Vm,useImperativeHandle:Sv,useInsertionEffect:bv,useLayoutEffect:Av,useMemo:Rv,useReducer:Nh,useRef:vv,useState:function(){return Nh(sr)},useDebugValue:Mm,useDeferredValue:function(n,s){var o=wt();return xv(o,nt.memoizedState,n,s)},useTransition:function(){var n=Nh(sr)[0],s=wt().memoizedState;return[typeof n=="boolean"?n:au(n),s]},useSyncExternalStore:iv,useId:kv,useHostTransitionStatus:jm,useFormState:gv,useActionState:gv,useOptimistic:function(n,s){var o=wt();return uv(o,nt,n,s)},useMemoCache:Cm,useCacheRefresh:Ov};zm.useEffectEvent=Tv;var jv={readContext:Jt,use:Ch,useCallback:Iv,useContext:Jt,useEffect:Vm,useImperativeHandle:Sv,useInsertionEffect:bv,useLayoutEffect:Av,useMemo:Rv,useReducer:Dm,useRef:vv,useState:function(){return Dm(sr)},useDebugValue:Mm,useDeferredValue:function(n,s){var o=wt();return nt===null?Pm(o,n,s):xv(o,nt.memoizedState,n,s)},useTransition:function(){var n=Dm(sr)[0],s=wt().memoizedState;return[typeof n=="boolean"?n:au(n),s]},useSyncExternalStore:iv,useId:kv,useHostTransitionStatus:jm,useFormState:_v,useActionState:_v,useOptimistic:function(n,s){var o=wt();return nt!==null?uv(o,nt,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Cm,useCacheRefresh:Ov};jv.useEffectEvent=Tv;function Bm(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:T({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Fm={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Nn(),f=Kr(u);f.payload=s,o!=null&&(f.callback=o),s=Qr(n,f,u),s!==null&&(En(s,n,u),nu(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Nn(),f=Kr(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Qr(n,f,u),s!==null&&(En(s,n,u),nu(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Nn(),u=Kr(o);u.tag=2,s!=null&&(u.callback=s),s=Qr(n,u,o),s!==null&&(En(s,n,o),nu(s,n,o))}};function Uv(n,s,o,u,f,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,v):s.prototype&&s.prototype.isPureReactComponent?!Yl(o,u)||!Yl(f,m):!0}function zv(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Fm.enqueueReplaceState(s,s.state,null)}function la(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=T({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function Bv(n){hh(n)}function Fv(n){console.error(n)}function qv(n){hh(n)}function Vh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Hv(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qm(n,s,o){return o=Kr(o),o.tag=3,o.payload={element:null},o.callback=function(){Vh(n,s)},o}function Gv(n){return n=Kr(n),n.tag=3,n}function Kv(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){Hv(s,o,u)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Hv(s,o,u),typeof f!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function fI(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&fo(s,o,f,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return Kn===null?Kh():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Th?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),mp(n,u,f)),!1;case 22:return o.flags|=65536,u===Th?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),mp(n,u,f)),!1}throw Error(i(435,o.tag))}return mp(n,u,f),Kh(),!1}if(Ue)return s=In.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==lm&&(n=Error(i(422),{cause:u}),Jl(Fn(n,o)))):(u!==lm&&(s=Error(i(423),{cause:u}),Jl(Fn(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Fn(u,o),f=qm(n.stateNode,u,f),vm(n,f),_t!==4&&(_t=2)),!1;var m=Error(i(520),{cause:u});if(m=Fn(m,o),gu===null?gu=[m]:gu.push(m),_t!==4&&(_t=2),s===null)return!0;u=Fn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=qm(o.stateNode,u,n),vm(o,n),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zr===null||!Zr.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Gv(f),Kv(f,n,o,u),vm(o,f),!1}o=o.return}while(o!==null);return!1}var Hm=Error(i(461)),kt=!1;function Wt(n,s,o,u){s.child=n===null?X_(s,null,o,u):aa(s,n.child,o,u)}function Qv(n,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var v={};for(var A in u)A!=="ref"&&(v[A]=u[A])}else v=u;return na(s),u=Sm(n,s,o,v,m,f),A=Im(),n!==null&&!kt?(Rm(n,s,f),ar(n,s,f)):(Ue&&A&&am(s),s.flags|=1,Wt(n,s,u,f),s.child)}function Yv(n,s,o,u,f){if(n===null){var m=o.type;return typeof m=="function"&&!im(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,$v(n,s,m,u,f)):(n=ph(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Wm(n,f)){var v=m.memoizedProps;if(o=o.compare,o=o!==null?o:Yl,o(v,u)&&n.ref===s.ref)return ar(n,s,f)}return s.flags|=1,n=er(m,u),n.ref=s.ref,n.return=s,s.child=n}function $v(n,s,o,u,f){if(n!==null){var m=n.memoizedProps;if(Yl(m,u)&&n.ref===s.ref)if(kt=!1,s.pendingProps=u=m,Wm(n,f))(n.flags&131072)!==0&&(kt=!0);else return s.lanes=n.lanes,ar(n,s,f)}return Gm(n,s,o,u,f)}function Xv(n,s,o,u){var f=u.children,m=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,s.child=null;return Jv(n,s,m,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&vh(s,m!==null?m.cachePool:null),m!==null?Z_(s,m):Tm(),ev(s);else return u=s.lanes=536870912,Jv(n,s,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(vh(s,m.cachePool),Z_(s,m),$r(),s.memoizedState=null):(n!==null&&vh(s,null),Tm(),$r());return Wt(n,s,f,o),s.child}function uu(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Jv(n,s,o,u,f){var m=pm();return m=m===null?null:{parent:Nt._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},n!==null&&vh(s,null),Tm(),ev(s),n!==null&&fo(n,s,u,!0),s.childLanes=f,null}function Mh(n,s){return s=Lh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Wv(n,s,o){return aa(s,n.child,null,o),n=Mh(s,s.pendingProps),n.flags|=2,Rn(s),s.memoizedState=null,n}function dI(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ue){if(u.mode==="hidden")return n=Mh(s,u),s.lanes=536870912,uu(null,n);if(Am(s),(n=at)?(n=cE(n,Gn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Br!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},o=M_(n),o.return=s,s.child=o,Xt=s,at=null)):n=null,n===null)throw qr(s);return s.lanes=536870912,null}return Mh(s,u)}var m=n.memoizedState;if(m!==null){var v=m.dehydrated;if(Am(s),f)if(s.flags&256)s.flags&=-257,s=Wv(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(kt||fo(n,s,o,!1),f=(o&n.childLanes)!==0,kt||f){if(u=st,u!==null&&(v=Nl(u,o),v!==0&&v!==m.retryLane))throw m.retryLane=v,Ws(n,v),En(u,n,v),Hm;Kh(),s=Wv(n,s,o)}else n=m.treeContext,at=Qn(v.nextSibling),Xt=s,Ue=!0,Fr=null,Gn=!1,n!==null&&j_(s,n),s=Mh(s,u),s.flags|=4096;return s}return n=er(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Ph(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Gm(n,s,o,u,f){return na(s),o=Sm(n,s,o,u,void 0,f),u=Im(),n!==null&&!kt?(Rm(n,s,f),ar(n,s,f)):(Ue&&u&&am(s),s.flags|=1,Wt(n,s,o,f),s.child)}function Zv(n,s,o,u,f,m){return na(s),s.updateQueue=null,o=nv(s,u,o,f),tv(n),u=Im(),n!==null&&!kt?(Rm(n,s,m),ar(n,s,m)):(Ue&&u&&am(s),s.flags|=1,Wt(n,s,o,m),s.child)}function e0(n,s,o,u,f){if(na(s),s.stateNode===null){var m=lo,v=o.contextType;typeof v=="object"&&v!==null&&(m=Jt(v)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Fm,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},ym(s),v=o.contextType,m.context=typeof v=="object"&&v!==null?Jt(v):lo,m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Bm(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&Fm.enqueueReplaceState(m,m.state,null),ru(s,u,m,f),iu(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){m=s.stateNode;var A=s.memoizedProps,N=la(o,A);m.props=N;var H=m.context,W=o.contextType;v=lo,typeof W=="object"&&W!==null&&(v=Jt(W));var ne=o.getDerivedStateFromProps;W=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||H!==v)&&zv(s,m,u,v),Gr=!1;var K=s.memoizedState;m.state=K,ru(s,u,m,f),iu(),H=s.memoizedState,A||K!==H||Gr?(typeof ne=="function"&&(Bm(s,o,ne,u),H=s.memoizedState),(N=Gr||Uv(s,o,N,u,K,H,v))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),m.props=u,m.state=H,m.context=v,u=N):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,_m(n,s),v=s.memoizedProps,W=la(o,v),m.props=W,ne=s.pendingProps,K=m.context,H=o.contextType,N=lo,typeof H=="object"&&H!==null&&(N=Jt(H)),A=o.getDerivedStateFromProps,(H=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==ne||K!==N)&&zv(s,m,u,N),Gr=!1,K=s.memoizedState,m.state=K,ru(s,u,m,f),iu();var $=s.memoizedState;v!==ne||K!==$||Gr||n!==null&&n.dependencies!==null&&yh(n.dependencies)?(typeof A=="function"&&(Bm(s,o,A,u),$=s.memoizedState),(W=Gr||Uv(s,o,W,u,K,$,N)||n!==null&&n.dependencies!==null&&yh(n.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,$,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,$,N)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=$),m.props=u,m.state=$,m.context=N,u=W):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),u=!1)}return m=u,Ph(n,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&u?(s.child=aa(s,n.child,null,f),s.child=aa(s,null,o,f)):Wt(n,s,o,f),s.memoizedState=m.state,n=s.child):n=ar(n,s,f),n}function t0(n,s,o,u){return ea(),s.flags|=256,Wt(n,s,o,u),s.child}var Km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(n){return{baseLanes:n,cachePool:H_()}}function Ym(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Cn),n}function n0(n,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=n!==null&&n.memoizedState===null?!1:(At.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ue){if(f?Yr(s):$r(),(n=at)?(n=cE(n,Gn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Br!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},o=M_(n),o.return=s,s.child=o,Xt=s,at=null)):n=null,n===null)throw qr(s);return Np(n)?s.lanes=32:s.lanes=536870912,null}var A=u.children;return u=u.fallback,f?($r(),f=s.mode,A=Lh({mode:"hidden",children:A},f),u=Zs(u,f,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,u=s.child,u.memoizedState=Qm(o),u.childLanes=Ym(n,v,o),s.memoizedState=Km,uu(null,u)):(Yr(s),$m(s,A))}var N=n.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(m)s.flags&256?(Yr(s),s.flags&=-257,s=Xm(n,s,o)):s.memoizedState!==null?($r(),s.child=n.child,s.flags|=128,s=null):($r(),A=u.fallback,f=s.mode,u=Lh({mode:"visible",children:u.children},f),A=Zs(A,f,o,null),A.flags|=2,u.return=s,A.return=s,u.sibling=A,s.child=u,aa(s,n.child,null,o),u=s.child,u.memoizedState=Qm(o),u.childLanes=Ym(n,v,o),s.memoizedState=Km,s=uu(null,u));else if(Yr(s),Np(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var H=v.dgst;v=H,u=Error(i(419)),u.stack="",u.digest=v,Jl({value:u,source:null,stack:null}),s=Xm(n,s,o)}else if(kt||fo(n,s,o,!1),v=(o&n.childLanes)!==0,kt||v){if(v=st,v!==null&&(u=Nl(v,o),u!==0&&u!==N.retryLane))throw N.retryLane=u,Ws(n,u),En(v,n,u),Hm;Cp(A)||Kh(),s=Xm(n,s,o)}else Cp(A)?(s.flags|=192,s.child=n.child,s=null):(n=N.treeContext,at=Qn(A.nextSibling),Xt=s,Ue=!0,Fr=null,Gn=!1,n!==null&&j_(s,n),s=$m(s,u.children),s.flags|=4096);return s}return f?($r(),A=u.fallback,f=s.mode,N=n.child,H=N.sibling,u=er(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,H!==null?A=er(H,A):(A=Zs(A,f,o,null),A.flags|=2),A.return=s,u.return=s,u.sibling=A,s.child=u,uu(null,u),u=s.child,A=n.child.memoizedState,A===null?A=Qm(o):(f=A.cachePool,f!==null?(N=Nt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=H_(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=Ym(n,v,o),s.memoizedState=Km,uu(n.child,u)):(Yr(s),o=n.child,n=o.sibling,o=er(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(v=s.deletions,v===null?(s.deletions=[n],s.flags|=16):v.push(n)),s.child=o,s.memoizedState=null,o)}function $m(n,s){return s=Lh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Lh(n,s){return n=Sn(22,n,null,s),n.lanes=0,n}function Xm(n,s,o){return aa(s,n.child,null,o),n=$m(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function i0(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),hm(n.return,s,o)}function Jm(n,s,o,u,f,m){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=o,v.tailMode=f,v.treeForkCount=m)}function r0(n,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var v=At.current,A=(v&2)!==0;if(A?(v=v&1|2,s.flags|=128):v&=1,ue(At,v),Wt(n,s,u,o),u=Ue?Xl:0,!A&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&i0(n,o,s);else if(n.tag===19)i0(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&Sh(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Jm(s,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Sh(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Jm(s,!0,o,null,m,u);break;case"together":Jm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function ar(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Wr|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(fo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=er(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=er(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Wm(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&yh(n)))}function mI(n,s,o){switch(s.tag){case 3:jt(s,s.stateNode.containerInfo),Hr(s,Nt,n.memoizedState.cache),ea();break;case 27:case 5:Vs(s);break;case 4:jt(s,s.stateNode.containerInfo);break;case 10:Hr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Am(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Yr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?n0(n,s,o):(Yr(s),n=ar(n,s,o),n!==null?n.sibling:null);Yr(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(fo(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return r0(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(At,At.current),u)break;return null;case 22:return s.lanes=0,Xv(n,s,o,s.pendingProps);case 24:Hr(s,Nt,n.memoizedState.cache)}return ar(n,s,o)}function s0(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)kt=!0;else{if(!Wm(n,o)&&(s.flags&128)===0)return kt=!1,mI(n,s,o);kt=(n.flags&131072)!==0}else kt=!1,Ue&&(s.flags&1048576)!==0&&L_(s,Xl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=ra(s.elementType),s.type=n,typeof n=="function")im(n)?(u=la(n,u),s.tag=1,s=e0(null,s,n,u,o)):(s.tag=0,s=Gm(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===de){s.tag=11,s=Qv(null,s,n,u,o);break e}else if(f===R){s.tag=14,s=Yv(null,s,n,u,o);break e}}throw s=lt(n)||n,Error(i(306,s,""))}}return s;case 0:return Gm(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=la(u,s.pendingProps),e0(n,s,u,f,o);case 3:e:{if(jt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,_m(n,s),ru(s,u,null,o);var v=s.memoizedState;if(u=v.cache,Hr(s,Nt,u),u!==m.cache&&fm(s,[Nt],o,!0),iu(),u=v.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=t0(n,s,u,o);break e}else if(u!==f){f=Fn(Error(i(424)),s),Jl(f),s=t0(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(at=Qn(n.firstChild),Xt=s,Ue=!0,Fr=null,Gn=!0,o=X_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ea(),u===f){s=ar(n,s,o);break e}Wt(n,s,u,o)}s=s.child}return s;case 26:return Ph(n,s),n===null?(o=gE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ue||(o=s.type,n=s.pendingProps,u=Zh(Ne.current).createElement(o),u[Rt]=s,u[Ht]=n,Zt(u,o,n),xt(u),s.stateNode=u):s.memoizedState=gE(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Vs(s),n===null&&Ue&&(u=s.stateNode=dE(s.type,s.pendingProps,Ne.current),Xt=s,Gn=!0,f=at,is(s.type)?(Dp=f,at=Qn(u.firstChild)):at=f),Wt(n,s,s.pendingProps.children,o),Ph(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ue&&((f=u=at)&&(u=HI(u,s.type,s.pendingProps,Gn),u!==null?(s.stateNode=u,Xt=s,at=Qn(u.firstChild),Gn=!1,f=!0):f=!1),f||qr(s)),Vs(s),f=s.type,m=s.pendingProps,v=n!==null?n.memoizedProps:null,u=m.children,Ip(f,m)?u=null:v!==null&&Ip(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=Sm(n,s,sI,null,null,o),wu._currentValue=f),Ph(n,s),Wt(n,s,u,o),s.child;case 6:return n===null&&Ue&&((n=o=at)&&(o=GI(o,s.pendingProps,Gn),o!==null?(s.stateNode=o,Xt=s,at=null,n=!0):n=!1),n||qr(s)),null;case 13:return n0(n,s,o);case 4:return jt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=aa(s,null,u,o):Wt(n,s,u,o),s.child;case 11:return Qv(n,s,s.type,s.pendingProps,o);case 7:return Wt(n,s,s.pendingProps,o),s.child;case 8:return Wt(n,s,s.pendingProps.children,o),s.child;case 12:return Wt(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Hr(s,s.type,u.value),Wt(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,na(s),f=Jt(f),u=u(f),s.flags|=1,Wt(n,s,u,o),s.child;case 14:return Yv(n,s,s.type,s.pendingProps,o);case 15:return $v(n,s,s.type,s.pendingProps,o);case 19:return r0(n,s,o);case 31:return dI(n,s,o);case 22:return Xv(n,s,o,s.pendingProps);case 24:return na(s),u=Jt(Nt),n===null?(f=pm(),f===null&&(f=st,m=dm(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},ym(s),Hr(s,Nt,f)):((n.lanes&o)!==0&&(_m(n,s),ru(s,null,null,o),iu()),f=n.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Hr(s,Nt,u)):(u=m.cache,Hr(s,Nt,u),u!==f.cache&&fm(s,[Nt],o,!0))),Wt(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function or(n){n.flags|=4}function Zm(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(k0())n.flags|=8192;else throw sa=Th,gm}else n.flags&=-16777217}function a0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!TE(s))if(k0())n.flags|=8192;else throw sa=Th,gm}function jh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Hc():536870912,n.lanes|=s,So|=s)}function cu(n,s){if(!Ue)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ot(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function pI(n,s,o){var u=s.pendingProps;switch(om(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ir(Nt),ut(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ho(s)?or(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,um())),ot(s),null;case 26:var f=s.type,m=s.memoizedState;return n===null?(or(s),m!==null?(ot(s),a0(s,m)):(ot(s),Zm(s,f,null,u,o))):m?m!==n.memoizedState?(or(s),ot(s),a0(s,m)):(ot(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&or(s),ot(s),Zm(s,f,n,u,o)),null;case 27:if(qa(s),o=Ne.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&or(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ot(s),null}n=ce.current,ho(s)?U_(s):(n=dE(f,u,o),s.stateNode=n,or(s))}return ot(s),null;case 5:if(qa(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&or(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ot(s),null}if(m=ce.current,ho(s))U_(s);else{var v=Zh(Ne.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?v.createElement(f,{is:u.is}):v.createElement(f)}}m[Rt]=s,m[Ht]=u;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=m;e:switch(Zt(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&or(s)}}return ot(s),Zm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&or(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=Ne.current,ho(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=Xt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Rt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||nE(n.nodeValue,o)),n||qr(s,!0)}else n=Zh(n).createTextNode(u),n[Rt]=s,s.stateNode=n}return ot(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=ho(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Rt]=s}else ea(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),n=!1}else o=um(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Rn(s),s):(Rn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ot(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ho(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Rt]=s}else ea(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),f=!1}else f=um(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Rn(s),s):(Rn(s),null)}return Rn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),jh(s,s.updateQueue),ot(s),null);case 4:return ut(),n===null&&Tp(s.stateNode.containerInfo),ot(s),null;case 10:return ir(s.type),ot(s),null;case 19:if(ie(At),u=s.memoizedState,u===null)return ot(s),null;if(f=(s.flags&128)!==0,m=u.rendering,m===null)if(f)cu(u,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Sh(n),m!==null){for(s.flags|=128,cu(u,!1),n=m.updateQueue,s.updateQueue=n,jh(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)V_(o,n),o=o.sibling;return ue(At,At.current&1|2),Ue&&tr(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&un()>qh&&(s.flags|=128,f=!0,cu(u,!1),s.lanes=4194304)}else{if(!f)if(n=Sh(m),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,jh(s,n),cu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Ue)return ot(s),null}else 2*un()-u.renderingStartTime>qh&&o!==536870912&&(s.flags|=128,f=!0,cu(u,!1),s.lanes=4194304);u.isBackwards?(m.sibling=s.child,s.child=m):(n=u.last,n!==null?n.sibling=m:s.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=un(),n.sibling=null,o=At.current,ue(At,f?o&1|2:o&1),Ue&&tr(s,u.treeForkCount),n):(ot(s),null);case 22:case 23:return Rn(s),bm(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),o=s.updateQueue,o!==null&&jh(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&ie(ia),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ir(Nt),ot(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function gI(n,s){switch(om(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ir(Nt),ut(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return qa(s),null;case 31:if(s.memoizedState!==null){if(Rn(s),s.alternate===null)throw Error(i(340));ea()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Rn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ea()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ie(At),null;case 4:return ut(),null;case 10:return ir(s.type),null;case 22:case 23:return Rn(s),bm(),n!==null&&ie(ia),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ir(Nt),null;case 25:return null;default:return null}}function o0(n,s){switch(om(s),s.tag){case 3:ir(Nt),ut();break;case 26:case 27:case 5:qa(s);break;case 4:ut();break;case 31:s.memoizedState!==null&&Rn(s);break;case 13:Rn(s);break;case 19:ie(At);break;case 10:ir(s.type);break;case 22:case 23:Rn(s),bm(),n!==null&&ie(ia);break;case 24:ir(Nt)}}function hu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var m=o.create,v=o.inst;u=m(),v.destroy=u}o=o.next}while(o!==f)}}catch(A){Je(s,s.return,A)}}function Xr(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var v=u.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,f=s;var N=o,H=A;try{H()}catch(W){Je(f,N,W)}}}u=u.next}while(u!==m)}}catch(W){Je(s,s.return,W)}}function l0(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{W_(s,o)}catch(u){Je(n,n.return,u)}}}function u0(n,s,o){o.props=la(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Je(n,s,u)}}function fu(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){Je(n,s,f)}}function ji(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Je(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Je(n,s,f)}else o.current=null}function c0(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Je(n,n.return,f)}}function ep(n,s,o){try{var u=n.stateNode;jI(u,n.type,o,s),u[Ht]=s}catch(f){Je(n,n.return,f)}}function h0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&is(n.type)||n.tag===4}function tp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||h0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&is(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function np(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ii));else if(u!==4&&(u===27&&is(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(np(n,s,o),n=n.sibling;n!==null;)np(n,s,o),n=n.sibling}function Uh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&is(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Uh(n,s,o),n=n.sibling;n!==null;)Uh(n,s,o),n=n.sibling}function f0(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Zt(s,u,o),s[Rt]=n,s[Ht]=o}catch(m){Je(n,n.return,m)}}var lr=!1,Ot=!1,ip=!1,d0=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function yI(n,s){if(n=n.containerInfo,wp=of,n=S_(n),Xd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var v=0,A=-1,N=-1,H=0,W=0,ne=n,K=null;t:for(;;){for(var $;ne!==o||f!==0&&ne.nodeType!==3||(A=v+f),ne!==m||u!==0&&ne.nodeType!==3||(N=v+u),ne.nodeType===3&&(v+=ne.nodeValue.length),($=ne.firstChild)!==null;)K=ne,ne=$;for(;;){if(ne===n)break t;if(K===o&&++H===f&&(A=v),K===m&&++W===u&&(N=v),($=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=$}o=A===-1||N===-1?null:{start:A,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sp={focusedElem:n,selectionRange:o},of=!1,Kt=s;Kt!==null;)if(s=Kt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Kt=n;else for(;Kt!==null;){switch(s=Kt,m=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var he=la(o.type,f);n=u.getSnapshotBeforeUpdate(he,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Te){Je(o,o.return,Te)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)xp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":xp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Kt=n;break}Kt=s.return}}function m0(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:cr(n,o),u&4&&hu(5,o);break;case 1:if(cr(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(v){Je(o,o.return,v)}else{var f=la(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(o,o.return,v)}}u&64&&l0(o),u&512&&fu(o,o.return);break;case 3:if(cr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{W_(n,s)}catch(v){Je(o,o.return,v)}}break;case 27:s===null&&u&4&&f0(o);case 26:case 5:cr(n,o),s===null&&u&4&&c0(o),u&512&&fu(o,o.return);break;case 12:cr(n,o);break;case 31:cr(n,o),u&4&&y0(n,o);break;case 13:cr(n,o),u&4&&_0(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=II.bind(null,o),KI(n,o))));break;case 22:if(u=o.memoizedState!==null||lr,!u){s=s!==null&&s.memoizedState!==null||Ot,f=lr;var m=Ot;lr=u,(Ot=s)&&!m?hr(n,o,(o.subtreeFlags&8772)!==0):cr(n,o),lr=f,Ot=m}break;case 30:break;default:cr(n,o)}}function p0(n){var s=n.alternate;s!==null&&(n.alternate=null,p0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ya(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ht=null,gn=!1;function ur(n,s,o){for(o=o.child;o!==null;)g0(n,s,o),o=o.sibling}function g0(n,s,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Zn,o)}catch{}switch(o.tag){case 26:Ot||ji(o,s),ur(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||ji(o,s);var u=ht,f=gn;is(o.type)&&(ht=o.stateNode,gn=!1),ur(n,s,o),Tu(o.stateNode),ht=u,gn=f;break;case 5:Ot||ji(o,s);case 6:if(u=ht,f=gn,ht=null,ur(n,s,o),ht=u,gn=f,ht!==null)if(gn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(m){Je(o,s,m)}else try{ht.removeChild(o.stateNode)}catch(m){Je(o,s,m)}break;case 18:ht!==null&&(gn?(n=ht,lE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Oo(n)):lE(ht,o.stateNode));break;case 4:u=ht,f=gn,ht=o.stateNode.containerInfo,gn=!0,ur(n,s,o),ht=u,gn=f;break;case 0:case 11:case 14:case 15:Xr(2,o,s),Ot||Xr(4,o,s),ur(n,s,o);break;case 1:Ot||(ji(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&u0(o,s,u)),ur(n,s,o);break;case 21:ur(n,s,o);break;case 22:Ot=(u=Ot)||o.memoizedState!==null,ur(n,s,o),Ot=u;break;default:ur(n,s,o)}}function y0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Oo(n)}catch(o){Je(s,s.return,o)}}}function _0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Oo(n)}catch(o){Je(s,s.return,o)}}function _I(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new d0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new d0),s;default:throw Error(i(435,n.tag))}}function zh(n,s){var o=_I(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=RI.bind(null,n,u);u.then(f,f)}})}function yn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=n,v=s,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(is(A.type)){ht=A.stateNode,gn=!1;break e}break;case 5:ht=A.stateNode,gn=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,gn=!0;break e}A=A.return}if(ht===null)throw Error(i(160));g0(m,v,f),ht=null,gn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)v0(s,n),s=s.sibling}var ui=null;function v0(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yn(s,n),_n(n),u&4&&(Xr(3,n,n.return),hu(3,n),Xr(5,n,n.return));break;case 1:yn(s,n),_n(n),u&512&&(Ot||o===null||ji(o,o.return)),u&64&&lr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ui;if(yn(s,n),_n(n),u&512&&(Ot||o===null||ji(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[wi]||m[Rt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Zt(m,u,o),m[Rt]=n,xt(m),u=m;break e;case"link":var v=vE("link","href",f).get(u+(o.href||""));if(v){for(var A=0;A<v.length;A++)if(m=v[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(A,1);break t}}m=f.createElement(u),Zt(m,u,o),f.head.appendChild(m);break;case"meta":if(v=vE("meta","content",f).get(u+(o.content||""))){for(A=0;A<v.length;A++)if(m=v[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(A,1);break t}}m=f.createElement(u),Zt(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[Rt]=n,xt(m),u=m}n.stateNode=u}else EE(f,n.type,n.stateNode);else n.stateNode=_E(f,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?EE(f,n.type,n.stateNode):_E(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&ep(n,n.memoizedProps,o.memoizedProps)}break;case 27:yn(s,n),_n(n),u&512&&(Ot||o===null||ji(o,o.return)),o!==null&&u&4&&ep(n,n.memoizedProps,o.memoizedProps);break;case 5:if(yn(s,n),_n(n),u&512&&(Ot||o===null||ji(o,o.return)),n.flags&32){f=n.stateNode;try{pn(f,"")}catch(he){Je(n,n.return,he)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,ep(n,f,o!==null?o.memoizedProps:f)),u&1024&&(ip=!0);break;case 6:if(yn(s,n),_n(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(he){Je(n,n.return,he)}}break;case 3:if(nf=null,f=ui,ui=ef(s.containerInfo),yn(s,n),ui=f,_n(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Oo(s.containerInfo)}catch(he){Je(n,n.return,he)}ip&&(ip=!1,E0(n));break;case 4:u=ui,ui=ef(n.stateNode.containerInfo),yn(s,n),_n(n),ui=u;break;case 12:yn(s,n),_n(n);break;case 31:yn(s,n),_n(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,zh(n,u)));break;case 13:yn(s,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fh=un()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,zh(n,u)));break;case 22:f=n.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,H=lr,W=Ot;if(lr=H||f,Ot=W||N,yn(s,n),Ot=W,lr=H,_n(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||N||lr||Ot||ua(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){N=o=s;try{if(m=N.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=N.stateNode;var ne=N.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(he){Je(N,N.return,he)}}}else if(s.tag===6){if(o===null){N=s;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(he){Je(N,N.return,he)}}}else if(s.tag===18){if(o===null){N=s;try{var $=N.stateNode;f?uE($,!0):uE(N.stateNode,!1)}catch(he){Je(N,N.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,zh(n,o))));break;case 19:yn(s,n),_n(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,zh(n,u)));break;case 30:break;case 21:break;default:yn(s,n),_n(n)}}function _n(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(h0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=tp(n);Uh(n,m,f);break;case 5:var v=o.stateNode;o.flags&32&&(pn(v,""),o.flags&=-33);var A=tp(n);Uh(n,A,v);break;case 3:case 4:var N=o.stateNode.containerInfo,H=tp(n);np(n,H,N);break;default:throw Error(i(161))}}catch(W){Je(n,n.return,W)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function E0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;E0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function cr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)m0(n,s.alternate,s),s=s.sibling}function ua(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Xr(4,s,s.return),ua(s);break;case 1:ji(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&u0(s,s.return,o),ua(s);break;case 27:Tu(s.stateNode);case 26:case 5:ji(s,s.return),ua(s);break;case 22:s.memoizedState===null&&ua(s);break;case 30:ua(s);break;default:ua(s)}n=n.sibling}}function hr(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:hr(f,m,o),hu(4,m);break;case 1:if(hr(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Je(u,u.return,H)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)J_(N[f],A)}catch(H){Je(u,u.return,H)}}o&&v&64&&l0(m),fu(m,m.return);break;case 27:f0(m);case 26:case 5:hr(f,m,o),o&&u===null&&v&4&&c0(m),fu(m,m.return);break;case 12:hr(f,m,o);break;case 31:hr(f,m,o),o&&v&4&&y0(f,m);break;case 13:hr(f,m,o),o&&v&4&&_0(f,m);break;case 22:m.memoizedState===null&&hr(f,m,o),fu(m,m.return);break;case 30:break;default:hr(f,m,o)}s=s.sibling}}function rp(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Wl(o))}function sp(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Wl(n))}function ci(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)T0(n,s,o,u),s=s.sibling}function T0(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ci(n,s,o,u),f&2048&&hu(9,s);break;case 1:ci(n,s,o,u);break;case 3:ci(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Wl(n)));break;case 12:if(f&2048){ci(n,s,o,u),n=s.stateNode;try{var m=s.memoizedProps,v=m.id,A=m.onPostCommit;typeof A=="function"&&A(v,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Je(s,s.return,N)}}else ci(n,s,o,u);break;case 31:ci(n,s,o,u);break;case 13:ci(n,s,o,u);break;case 23:break;case 22:m=s.stateNode,v=s.alternate,s.memoizedState!==null?m._visibility&2?ci(n,s,o,u):du(n,s):m._visibility&2?ci(n,s,o,u):(m._visibility|=2,bo(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&rp(v,s);break;case 24:ci(n,s,o,u),f&2048&&sp(s.alternate,s);break;default:ci(n,s,o,u)}}function bo(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=n,v=s,A=o,N=u,H=v.flags;switch(v.tag){case 0:case 11:case 15:bo(m,v,A,N,f),hu(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?bo(m,v,A,N,f):du(m,v):(W._visibility|=2,bo(m,v,A,N,f)),f&&H&2048&&rp(v.alternate,v);break;case 24:bo(m,v,A,N,f),f&&H&2048&&sp(v.alternate,v);break;default:bo(m,v,A,N,f)}s=s.sibling}}function du(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:du(o,u),f&2048&&rp(u.alternate,u);break;case 24:du(o,u),f&2048&&sp(u.alternate,u);break;default:du(o,u)}s=s.sibling}}var mu=8192;function Ao(n,s,o){if(n.subtreeFlags&mu)for(n=n.child;n!==null;)b0(n,s,o),n=n.sibling}function b0(n,s,o){switch(n.tag){case 26:Ao(n,s,o),n.flags&mu&&n.memoizedState!==null&&rR(o,ui,n.memoizedState,n.memoizedProps);break;case 5:Ao(n,s,o);break;case 3:case 4:var u=ui;ui=ef(n.stateNode.containerInfo),Ao(n,s,o),ui=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=mu,mu=16777216,Ao(n,s,o),mu=u):Ao(n,s,o));break;default:Ao(n,s,o)}}function A0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function pu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Kt=u,S0(u,n)}A0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)w0(n),n=n.sibling}function w0(n){switch(n.tag){case 0:case 11:case 15:pu(n),n.flags&2048&&Xr(9,n,n.return);break;case 3:pu(n);break;case 12:pu(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Bh(n)):pu(n);break;default:pu(n)}}function Bh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Kt=u,S0(u,n)}A0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Xr(8,s,s.return),Bh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Bh(s));break;default:Bh(s)}n=n.sibling}}function S0(n,s){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:Xr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Wl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Kt=u;else e:for(o=n;Kt!==null;){u=Kt;var f=u.sibling,m=u.return;if(p0(u),u===o){Kt=null;break e}if(f!==null){f.return=m,Kt=f;break e}Kt=m}}}var vI={getCacheForType:function(n){var s=Jt(Nt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return Jt(Nt).controller.signal}},EI=typeof WeakMap=="function"?WeakMap:Map,Ke=0,st=null,Oe=null,Me=0,Xe=0,xn=null,Jr=!1,wo=!1,ap=!1,fr=0,_t=0,Wr=0,ca=0,op=0,Cn=0,So=0,gu=null,vn=null,lp=!1,Fh=0,I0=0,qh=1/0,Hh=null,Zr=null,zt=0,es=null,Io=null,dr=0,up=0,cp=null,R0=null,yu=0,hp=null;function Nn(){return(Ke&2)!==0&&Me!==0?Me&-Me:Z.T!==null?yp():Gc()}function x0(){if(Cn===0)if((Me&536870912)===0||Ue){var n=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),Cn=n}else Cn=536870912;return n=In.current,n!==null&&(n.flags|=32),Cn}function En(n,s,o){(n===st&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(Ro(n,0),ts(n,Me,Cn,!1)),js(n,o),((Ke&2)===0||n!==st)&&(n===st&&((Ke&2)===0&&(ca|=o),_t===4&&ts(n,Me,Cn,!1)),Ui(n))}function C0(n,s,o){if((Ke&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||ei(n,s),f=u?AI(n,s):dp(n,s,!0),m=u;do{if(f===0){wo&&!u&&ts(n,s,0,!1);break}else{if(o=n.current.alternate,m&&!TI(o)){f=dp(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var A=n;f=gu;var N=A.current.memoizedState.isDehydrated;if(N&&(Ro(A,v).flags|=256),v=dp(A,v,!1),v!==2){if(ap&&!N){A.errorRecoveryDisabledLanes|=m,ca|=m,f=4;break e}m=vn,vn=f,m!==null&&(vn===null?vn=m:vn.push.apply(vn,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){Ro(n,0),ts(n,s,0,!0);break}e:{switch(u=n,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ts(u,s,Cn,!Jr);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Fh+300-un(),10<f)){if(ts(u,s,Cn,!Jr),Ti(u,0,!0)!==0)break e;dr=s,u.timeoutHandle=aE(N0.bind(null,u,o,vn,Hh,lp,s,Cn,ca,So,Jr,m,"Throttled",-0,0),f);break e}N0(u,o,vn,Hh,lp,s,Cn,ca,So,Jr,m,null,-0,0)}}break}while(!0);Ui(n)}function N0(n,s,o,u,f,m,v,A,N,H,W,ne,K,$){if(n.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},b0(s,m,ne);var he=(m&62914560)===m?Fh-un():(m&4194048)===m?I0-un():0;if(he=sR(ne,he),he!==null){dr=m,n.cancelPendingCommit=he(j0.bind(null,n,s,m,o,u,f,v,A,N,W,ne,null,K,$)),ts(n,m,v,!H);return}}j0(n,s,m,o,u,f,v,A,N)}function TI(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!wn(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ts(n,s,o,u){s&=~op,s&=~ca,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var m=31-Tt(f),v=1<<m;u[m]=-1,f&=~v}o!==0&&Us(n,o,s)}function Gh(){return(Ke&6)===0?(_u(0),!1):!0}function fp(){if(Oe!==null){if(Xe===0)var n=Oe.return;else n=Oe,nr=ta=null,xm(n),yo=null,eu=0,n=Oe;for(;n!==null;)o0(n.alternate,n),n=n.return;Oe=null}}function Ro(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,BI(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),dr=0,fp(),st=n,Oe=o=er(n.current,null),Me=s,Xe=0,xn=null,Jr=!1,wo=ei(n,s),ap=!1,So=Cn=op=ca=Wr=_t=0,vn=gu=null,lp=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-Tt(u),m=1<<f;s|=n[f],u&=~m}return fr=s,fh(),o}function D0(n,s){Ce=null,Z.H=lu,s===go||s===Eh?(s=Q_(),Xe=3):s===gm?(s=Q_(),Xe=4):Xe=s===Hm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xn=s,Oe===null&&(_t=1,Vh(n,Fn(s,n.current)))}function k0(){var n=In.current;return n===null?!0:(Me&4194048)===Me?Kn===null:(Me&62914560)===Me||(Me&536870912)!==0?n===Kn:!1}function O0(){var n=Z.H;return Z.H=lu,n===null?lu:n}function V0(){var n=Z.A;return Z.A=vI,n}function Kh(){_t=4,Jr||(Me&4194048)!==Me&&In.current!==null||(wo=!0),(Wr&134217727)===0&&(ca&134217727)===0||st===null||ts(st,Me,Cn,!1)}function dp(n,s,o){var u=Ke;Ke|=2;var f=O0(),m=V0();(st!==n||Me!==s)&&(Hh=null,Ro(n,s)),s=!1;var v=_t;e:do try{if(Xe!==0&&Oe!==null){var A=Oe,N=xn;switch(Xe){case 8:fp(),v=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(s=!0);var H=Xe;if(Xe=0,xn=null,xo(n,A,N,H),o&&wo){v=0;break e}break;default:H=Xe,Xe=0,xn=null,xo(n,A,N,H)}}bI(),v=_t;break}catch(W){D0(n,W)}while(!0);return s&&n.shellSuspendCounter++,nr=ta=null,Ke=u,Z.H=f,Z.A=m,Oe===null&&(st=null,Me=0,fh()),v}function bI(){for(;Oe!==null;)M0(Oe)}function AI(n,s){var o=Ke;Ke|=2;var u=O0(),f=V0();st!==n||Me!==s?(Hh=null,qh=un()+500,Ro(n,s)):wo=ei(n,s);e:do try{if(Xe!==0&&Oe!==null){s=Oe;var m=xn;t:switch(Xe){case 1:Xe=0,xn=null,xo(n,s,m,1);break;case 2:case 9:if(G_(m)){Xe=0,xn=null,P0(s);break}s=function(){Xe!==2&&Xe!==9||st!==n||(Xe=7),Ui(n)},m.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:G_(m)?(Xe=0,xn=null,P0(s)):(Xe=0,xn=null,xo(n,s,m,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var A=Oe;if(v?TE(v):A.stateNode.complete){Xe=0,xn=null;var N=A.sibling;if(N!==null)Oe=N;else{var H=A.return;H!==null?(Oe=H,Qh(H)):Oe=null}break t}}Xe=0,xn=null,xo(n,s,m,5);break;case 6:Xe=0,xn=null,xo(n,s,m,6);break;case 8:fp(),_t=6;break e;default:throw Error(i(462))}}wI();break}catch(W){D0(n,W)}while(!0);return nr=ta=null,Z.H=u,Z.A=f,Ke=o,Oe!==null?0:(st=null,Me=0,fh(),_t)}function wI(){for(;Oe!==null&&!qd();)M0(Oe)}function M0(n){var s=s0(n.alternate,n,fr);n.memoizedProps=n.pendingProps,s===null?Qh(n):Oe=s}function P0(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=Zv(o,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=Zv(o,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:xm(s);default:o0(o,s),s=Oe=V_(s,fr),s=s0(o,s,fr)}n.memoizedProps=n.pendingProps,s===null?Qh(n):Oe=s}function xo(n,s,o,u){nr=ta=null,xm(s),yo=null,eu=0;var f=s.return;try{if(fI(n,f,s,o,Me)){_t=1,Vh(n,Fn(o,n.current)),Oe=null;return}}catch(m){if(f!==null)throw Oe=f,m;_t=1,Vh(n,Fn(o,n.current)),Oe=null;return}s.flags&32768?(Ue||u===1?n=!0:wo||(Me&536870912)!==0?n=!1:(Jr=n=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),L0(s,n)):Qh(s)}function Qh(n){var s=n;do{if((s.flags&32768)!==0){L0(s,Jr);return}n=s.return;var o=pI(s.alternate,s,fr);if(o!==null){Oe=o;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=n}while(s!==null);_t===0&&(_t=5)}function L0(n,s){do{var o=gI(n.alternate,n);if(o!==null){o.flags&=32767,Oe=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=o}while(n!==null);_t=6,Oe=null}function j0(n,s,o,u,f,m,v,A,N){n.cancelPendingCommit=null;do Yh();while(zt!==0);if((Ke&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=tm,Kd(n,o,m,v,A,N),n===st&&(Oe=st=null,Me=0),Io=s,es=n,dr=o,up=m,cp=f,R0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,xI(Dr,function(){return q0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=le.p,le.p=2,v=Ke,Ke|=4;try{yI(n,s,o)}finally{Ke=v,le.p=f,Z.T=u}}zt=1,U0(),z0(),B0()}}function U0(){if(zt===1){zt=0;var n=es,s=Io,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=le.p;le.p=2;var f=Ke;Ke|=4;try{v0(s,n);var m=Sp,v=S_(n.containerInfo),A=m.focusedElem,N=m.selectionRange;if(v!==A&&A&&A.ownerDocument&&w_(A.ownerDocument.documentElement,A)){if(N!==null&&Xd(A)){var H=N.start,W=N.end;if(W===void 0&&(W=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(W,A.value.length);else{var ne=A.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var $=K.getSelection(),he=A.textContent.length,Te=Math.min(N.start,he),rt=N.end===void 0?Te:Math.min(N.end,he);!$.extend&&Te>rt&&(v=rt,rt=Te,Te=v);var L=A_(A,Te),O=A_(A,rt);if(L&&O&&($.rangeCount!==1||$.anchorNode!==L.node||$.anchorOffset!==L.offset||$.focusNode!==O.node||$.focusOffset!==O.offset)){var q=ne.createRange();q.setStart(L.node,L.offset),$.removeAllRanges(),Te>rt?($.addRange(q),$.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),$.addRange(q))}}}}for(ne=[],$=A;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var te=ne[A];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}of=!!wp,Sp=wp=null}finally{Ke=f,le.p=u,Z.T=o}}n.current=s,zt=2}}function z0(){if(zt===2){zt=0;var n=es,s=Io,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=le.p;le.p=2;var f=Ke;Ke|=4;try{m0(n,s.alternate,s)}finally{Ke=f,le.p=u,Z.T=o}}zt=3}}function B0(){if(zt===4||zt===3){zt=0,jc();var n=es,s=Io,o=dr,u=R0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,Io=es=null,F0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Zr=null),Xi(o),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Zn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,f=le.p,le.p=2,Z.T=null;try{for(var m=n.onRecoverableError,v=0;v<u.length;v++){var A=u[v];m(A.value,{componentStack:A.stack})}}finally{Z.T=s,le.p=f}}(dr&3)!==0&&Yh(),Ui(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===hp?yu++:(yu=0,hp=n):yu=0,_u(0)}}function F0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Wl(s)))}function Yh(){return U0(),z0(),B0(),q0()}function q0(){if(zt!==5)return!1;var n=es,s=up;up=0;var o=Xi(dr),u=Z.T,f=le.p;try{le.p=32>o?32:o,Z.T=null,o=cp,cp=null;var m=es,v=dr;if(zt=0,Io=es=null,dr=0,(Ke&6)!==0)throw Error(i(331));var A=Ke;if(Ke|=4,w0(m.current),T0(m,m.current,v,o),Ke=A,_u(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Zn,m)}catch{}return!0}finally{le.p=f,Z.T=u,F0(n,s)}}function H0(n,s,o){s=Fn(o,s),s=qm(n.stateNode,s,2),n=Qr(n,s,2),n!==null&&(js(n,2),Ui(n))}function Je(n,s,o){if(n.tag===3)H0(n,n,o);else for(;s!==null;){if(s.tag===3){H0(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zr===null||!Zr.has(u))){n=Fn(o,n),o=Gv(2),u=Qr(s,o,2),u!==null&&(Kv(o,u,s,n),js(u,2),Ui(u));break}}s=s.return}}function mp(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new EI;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(ap=!0,f.add(o),n=SI.bind(null,n,s,o),s.then(n,n))}function SI(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,st===n&&(Me&o)===o&&(_t===4||_t===3&&(Me&62914560)===Me&&300>un()-Fh?(Ke&2)===0&&Ro(n,0):op|=o,So===Me&&(So=0)),Ui(n)}function G0(n,s){s===0&&(s=Hc()),n=Ws(n,s),n!==null&&(js(n,s),Ui(n))}function II(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),G0(n,o)}function RI(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),G0(n,o)}function xI(n,s){return Ut(n,s)}var $h=null,Co=null,pp=!1,Xh=!1,gp=!1,ns=0;function Ui(n){n!==Co&&n.next===null&&(Co===null?$h=Co=n:Co=Co.next=n),Xh=!0,pp||(pp=!0,NI())}function _u(n,s){if(!gp&&Xh){gp=!0;do for(var o=!1,u=$h;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var v=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-Tt(42|n)+1)-1,m&=f&~(v&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,$0(u,m))}else m=Me,m=Ti(u,u===st?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||ei(u,m)||(o=!0,$0(u,m));u=u.next}while(o);gp=!1}}function CI(){K0()}function K0(){Xh=pp=!1;var n=0;ns!==0&&zI()&&(n=ns);for(var s=un(),o=null,u=$h;u!==null;){var f=u.next,m=Q0(u,s);m===0?(u.next=null,o===null?$h=f:o.next=f,f===null&&(Co=o)):(o=u,(n!==0||(m&3)!==0)&&(Xh=!0)),u=f}zt!==0&&zt!==5||_u(n),ns!==0&&(ns=0)}function Q0(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var v=31-Tt(m),A=1<<v,N=f[v];N===-1?((A&o)===0||(A&u)!==0)&&(f[v]=Gd(A,s)):N<=s&&(n.expiredLanes|=A),m&=~A}if(s=st,o=Me,o=Ti(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Nr(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ei(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Nr(u),Xi(o)){case 2:case 8:o=xl;break;case 32:o=Dr;break;case 268435456:o=Uc;break;default:o=Dr}return u=Y0.bind(null,n),o=Ut(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Nr(u),n.callbackPriority=2,n.callbackNode=null,2}function Y0(n,s){if(zt!==0&&zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Yh()&&n.callbackNode!==o)return null;var u=Me;return u=Ti(n,n===st?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(C0(n,u,s),Q0(n,un()),n.callbackNode!=null&&n.callbackNode===o?Y0.bind(null,n):null)}function $0(n,s){if(Yh())return null;C0(n,s,!0)}function NI(){FI(function(){(Ke&6)!==0?Ut(Rl,CI):K0()})}function yp(){if(ns===0){var n=mo;n===0&&(n=vi,vi<<=1,(vi&261888)===0&&(vi=256)),ns=n}return ns}function X0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Wa(""+n)}function J0(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function DI(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=X0((f[Ht]||null).action),v=u.submitter;v&&(s=(s=v[Ht]||null)?X0(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var A=new ki("action","action",null,u,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ns!==0){var N=v?J0(f,v):new FormData(f);Lm(o,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(A.preventDefault(),N=v?J0(f,v):new FormData(f),Lm(o,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var _p=0;_p<em.length;_p++){var vp=em[_p],kI=vp.toLowerCase(),OI=vp[0].toUpperCase()+vp.slice(1);li(kI,"on"+OI)}li(x_,"onAnimationEnd"),li(C_,"onAnimationIteration"),li(N_,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li($1,"onTransitionRun"),li(X1,"onTransitionStart"),li(J1,"onTransitionCancel"),li(D_,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function W0(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var v=u.length-1;0<=v;v--){var A=u[v],N=A.instance,H=A.currentTarget;if(A=A.listener,N!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=H;try{m(f)}catch(W){hh(W)}f.currentTarget=null,m=N}else for(v=0;v<u.length;v++){if(A=u[v],N=A.instance,H=A.currentTarget,A=A.listener,N!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=H;try{m(f)}catch(W){hh(W)}f.currentTarget=null,m=N}}}}function Ve(n,s){var o=s[Qa];o===void 0&&(o=s[Qa]=new Set);var u=n+"__bubble";o.has(u)||(Z0(s,n,2,!1),o.add(u))}function Ep(n,s,o){var u=0;s&&(u|=4),Z0(o,n,u,s)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function Tp(n){if(!n[Jh]){n[Jh]=!0,Dl.forEach(function(o){o!=="selectionchange"&&(VI.has(o)||Ep(o,!1,n),Ep(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Jh]||(s[Jh]=!0,Ep("selectionchange",!1,s))}}function Z0(n,s,o,u){switch(xE(s)){case 2:var f=lR;break;case 8:f=uR;break;default:f=Pp}o=f.bind(null,s,o,n),f=void 0,!Hs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function bp(n,s,o,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var A=u.stateNode.containerInfo;if(A===f)break;if(v===4)for(v=u.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;A!==null;){if(v=Si(A),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){u=m=v;continue e}A=A.parentNode}}u=u.return}Lr(function(){var H=m,W=jn(o),ne=[];e:{var K=k_.get(n);if(K!==void 0){var $=ki,he=n;switch(n){case"keypress":if(Ks(o)===0)break e;case"keydown":case"keyup":$=lh;break;case"focusin":he="focus",$=Ys;break;case"focusout":he="blur",$=Ys;break;case"beforeblur":case"afterblur":$=Ys;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case x_:case C_:case N_:$=th;break;case D_:$=S;break;case"scroll":case"scrollend":$=ql;break;case"wheel":$=Y;break;case"copy":case"cut":case"paste":$=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Zi;break;case"toggle":case"beforetoggle":$=xe}var Te=(s&4)!==0,rt=!Te&&(n==="scroll"||n==="scrollend"),L=Te?K!==null?K+"Capture":null:K;Te=[];for(var O=H,q;O!==null;){var te=O;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||L===null||(te=ri(O,L),te!=null&&Te.push(Eu(O,te,q))),rt)break;O=O.return}0<Te.length&&(K=new $(K,he,null,o,W),ne.push({event:K,listeners:Te}))}}if((s&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",K&&o!==zl&&(he=o.relatedTarget||o.fromElement)&&(Si(he)||he[Ai]))break e;if(($||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,$?(he=o.relatedTarget||o.toElement,$=H,he=he?Si(he):null,he!==null&&(rt=l(he),Te=he.tag,he!==rt||Te!==5&&Te!==27&&Te!==6)&&(he=null)):($=null,he=H),$!==he)){if(Te=Hl,te="onMouseLeave",L="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(Te=Zi,te="onPointerLeave",L="onPointerEnter",O="pointer"),rt=$==null?K:bn($),q=he==null?K:bn(he),K=new Te(te,O+"leave",$,o,W),K.target=rt,K.relatedTarget=q,te=null,Si(W)===H&&(Te=new Te(L,O+"enter",he,o,W),Te.target=q,Te.relatedTarget=rt,te=Te),rt=te,$&&he)t:{for(Te=MI,L=$,O=he,q=0,te=L;te;te=Te(te))q++;te=0;for(var _e=O;_e;_e=Te(_e))te++;for(;0<q-te;)L=Te(L),q--;for(;0<te-q;)O=Te(O),te--;for(;q--;){if(L===O||O!==null&&L===O.alternate){Te=L;break t}L=Te(L),O=Te(O)}Te=null}else Te=null;$!==null&&eE(ne,K,$,Te,!1),he!==null&&rt!==null&&eE(ne,rt,he,Te,!0)}}e:{if(K=H?bn(H):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var qe=y_;else if(p_(K))if(__)qe=K1;else{qe=H1;var pe=q1}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?H&&Ja(H.elementType)&&(qe=y_):qe=G1;if(qe&&(qe=qe(n,H))){g_(ne,qe,o,W);break e}pe&&pe(n,K,H),n==="focusout"&&H&&K.type==="number"&&H.memoizedProps.value!=null&&Ll(K,"number",K.value)}switch(pe=H?bn(H):window,n){case"focusin":(p_(pe)||pe.contentEditable==="true")&&(so=pe,Jd=H,$l=null);break;case"focusout":$l=Jd=so=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,I_(ne,o,W);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":I_(ne,o,W)}var De;if(Ge)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ro?$s(n,o)&&(Pe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(Mi&&o.locale!=="ko"&&(ro||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ro&&(De=Fl()):(Di=W,Bl="value"in Di?Di.value:Di.textContent,ro=!0)),pe=Wh(H,Pe),0<pe.length&&(Pe=new Vi(Pe,n,null,o,W),ne.push({event:Pe,listeners:pe}),De?Pe.data=De:(De=io(o),De!==null&&(Pe.data=De)))),(De=zn?U1(n,o):z1(n,o))&&(Pe=Wh(H,"onBeforeInput"),0<Pe.length&&(pe=new Vi("onBeforeInput","beforeinput",null,o,W),ne.push({event:pe,listeners:Pe}),pe.data=De)),DI(ne,n,H,o,W)}W0(ne,s)})}function Eu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Wh(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ri(n,o),f!=null&&u.unshift(Eu(n,f,m)),f=ri(n,s),f!=null&&u.push(Eu(n,f,m))),n.tag===3)return u;n=n.return}return[]}function MI(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function eE(n,s,o,u,f){for(var m=s._reactName,v=[];o!==null&&o!==u;){var A=o,N=A.alternate,H=A.stateNode;if(A=A.tag,N!==null&&N===u)break;A!==5&&A!==26&&A!==27||H===null||(N=H,f?(H=ri(o,m),H!=null&&v.unshift(Eu(o,H,N))):f||(H=ri(o,m),H!=null&&v.push(Eu(o,H,N)))),o=o.return}v.length!==0&&n.push({event:s,listeners:v})}var PI=/\r\n?/g,LI=/\u0000|\uFFFD/g;function tE(n){return(typeof n=="string"?n:""+n).replace(PI,`
`).replace(LI,"")}function nE(n,s){return s=tE(s),tE(n)===s}function it(n,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||pn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&pn(n,""+u);break;case"className":An(n,"class",u);break;case"tabIndex":An(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(n,o,u);break;case"style":Ul(n,u,m);break;case"data":if(s!=="object"){An(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Wa(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&it(n,s,"name",f.name,f,null),it(n,s,"formEncType",f.formEncType,f,null),it(n,s,"formMethod",f.formMethod,f,null),it(n,s,"formTarget",f.formTarget,f,null)):(it(n,s,"encType",f.encType,f,null),it(n,s,"method",f.method,f,null),it(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Wa(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=ii);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Wa(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),$a(n,"popover",u);break;case"xlinkActuate":Ct(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ct(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ct(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ct(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ct(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ct(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ct(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ct(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ct(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$a(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Wc.get(o)||o,$a(n,o,u))}}function Ap(n,s,o,u,f,m){switch(o){case"style":Ul(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?pn(n,u):(typeof u=="number"||typeof u=="bigint")&&pn(n,""+u);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=n[Ht]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):$a(n,o,u)}}}function Zt(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var v=o[m];if(v!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(n,s,m,v,o,null)}}f&&it(n,s,"srcSet",o.srcSet,o,null),u&&it(n,s,"src",o.src,o,null);return;case"input":Ve("invalid",n);var A=m=v=f=null,N=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":f=W;break;case"type":v=W;break;case"checked":N=W;break;case"defaultChecked":H=W;break;case"value":m=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:it(n,s,u,W,o,null)}}$c(n,m,A,N,H,v,f,!1);return;case"select":Ve("invalid",n),u=v=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":v=A;break;case"multiple":u=A;default:it(n,s,f,A,o,null)}s=m,o=v,n.multiple=!!u,s!=null?Or(n,!!u,s,!1):o!=null&&Or(n,!!u,o,!0);return;case"textarea":Ve("invalid",n),m=f=u=null;for(v in o)if(o.hasOwnProperty(v)&&(A=o[v],A!=null))switch(v){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:it(n,s,v,A,o,null)}Vr(n,u,f,m);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(n,s,N,u,o,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(u=0;u<vu.length;u++)Ve(vu[u],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(n,s,H,u,o,null)}return;default:if(Ja(s)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&Ap(n,s,W,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&it(n,s,A,u,o,null))}function jI(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,A=null,N=null,H=null,W=null;for($ in o){var ne=o[$];if(o.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=ne;default:u.hasOwnProperty($)||it(n,s,$,null,u,ne)}}for(var K in u){var $=u[K];if(ne=o[K],u.hasOwnProperty(K)&&($!=null||ne!=null))switch(K){case"type":m=$;break;case"name":f=$;break;case"checked":H=$;break;case"defaultChecked":W=$;break;case"value":v=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:$!==ne&&it(n,s,K,$,u,ne)}}Xa(n,v,A,N,H,W,m,f);return;case"select":$=v=A=K=null;for(m in o)if(N=o[m],o.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":$=N;default:u.hasOwnProperty(m)||it(n,s,m,null,u,N)}for(f in u)if(m=u[f],N=o[f],u.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":K=m;break;case"defaultValue":A=m;break;case"multiple":v=m;default:m!==N&&it(n,s,f,m,u,N)}s=A,o=v,u=$,K!=null?Or(n,!!o,K,!1):!!u!=!!o&&(s!=null?Or(n,!!o,s,!0):Or(n,!!o,o?[]:"",!1));return;case"textarea":$=K=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:it(n,s,A,null,u,f)}for(v in u)if(f=u[v],m=o[v],u.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":K=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&it(n,s,v,f,u,m)}Xc(n,K,$);return;case"option":for(var he in o)if(K=o[he],o.hasOwnProperty(he)&&K!=null&&!u.hasOwnProperty(he))switch(he){case"selected":n.selected=!1;break;default:it(n,s,he,null,u,K)}for(N in u)if(K=u[N],$=o[N],u.hasOwnProperty(N)&&K!==$&&(K!=null||$!=null))switch(N){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:it(n,s,N,K,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)K=o[Te],o.hasOwnProperty(Te)&&K!=null&&!u.hasOwnProperty(Te)&&it(n,s,Te,null,u,K);for(H in u)if(K=u[H],$=o[H],u.hasOwnProperty(H)&&K!==$&&(K!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:it(n,s,H,K,u,$)}return;default:if(Ja(s)){for(var rt in o)K=o[rt],o.hasOwnProperty(rt)&&K!==void 0&&!u.hasOwnProperty(rt)&&Ap(n,s,rt,void 0,u,K);for(W in u)K=u[W],$=o[W],!u.hasOwnProperty(W)||K===$||K===void 0&&$===void 0||Ap(n,s,W,K,u,$);return}}for(var L in o)K=o[L],o.hasOwnProperty(L)&&K!=null&&!u.hasOwnProperty(L)&&it(n,s,L,null,u,K);for(ne in u)K=u[ne],$=o[ne],!u.hasOwnProperty(ne)||K===$||K==null&&$==null||it(n,s,ne,K,u,$)}function iE(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UI(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,v=f.initiatorType,A=f.duration;if(m&&A&&iE(v)){for(v=0,A=f.responseEnd,u+=1;u<o.length;u++){var N=o[u],H=N.startTime;if(H>A)break;var W=N.transferSize,ne=N.initiatorType;W&&iE(ne)&&(N=N.responseEnd,v+=W*(N<A?1:(A-H)/(N-H)))}if(--u,s+=8*(m+v)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var wp=null,Sp=null;function Zh(n){return n.nodeType===9?n:n.ownerDocument}function rE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sE(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Ip(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rp=null;function zI(){var n=window.event;return n&&n.type==="popstate"?n===Rp?!1:(Rp=n,!0):(Rp=null,!1)}var aE=typeof setTimeout=="function"?setTimeout:void 0,BI=typeof clearTimeout=="function"?clearTimeout:void 0,oE=typeof Promise=="function"?Promise:void 0,FI=typeof queueMicrotask=="function"?queueMicrotask:typeof oE<"u"?function(n){return oE.resolve(null).then(n).catch(qI)}:aE;function qI(n){setTimeout(function(){throw n})}function is(n){return n==="head"}function lE(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),Oo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Tu(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Tu(o);for(var m=o.firstChild;m;){var v=m.nextSibling,A=m.nodeName;m[wi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=v}}else o==="body"&&Tu(n.ownerDocument.body);o=f}while(o);Oo(s)}function uE(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function xp(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xp(o),Ya(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function HI(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[wi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Qn(n.nextSibling),n===null)break}return null}function GI(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Qn(n.nextSibling),n===null))return null;return n}function cE(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Qn(n.nextSibling),n===null))return null;return n}function Cp(n){return n.data==="$?"||n.data==="$~"}function Np(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function KI(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Qn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Dp=null;function hE(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return Qn(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function fE(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function dE(n,s,o){switch(s=Zh(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Tu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ya(n)}var Yn=new Map,mE=new Set;function ef(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var mr=le.d;le.d={f:QI,r:YI,D:$I,C:XI,L:JI,m:WI,X:eR,S:ZI,M:tR};function QI(){var n=mr.f(),s=Gh();return n||s}function YI(n){var s=Ln(n);s!==null&&s.tag===5&&s.type==="form"?Dv(s):mr.r(n)}var No=typeof document>"u"?null:document;function pE(n,s,o){var u=No;if(u&&typeof s=="string"&&s){var f=mn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),mE.has(f)||(mE.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Zt(s,"link",n),xt(s),u.head.appendChild(s)))}}function $I(n){mr.D(n),pE("dns-prefetch",n,null)}function XI(n,s){mr.C(n,s),pE("preconnect",n,s)}function JI(n,s,o){mr.L(n,s,o);var u=No;if(u&&n&&s){var f='link[rel="preload"][as="'+mn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+mn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+mn(o.imageSizes)+'"]')):f+='[href="'+mn(n)+'"]';var m=f;switch(s){case"style":m=Do(n);break;case"script":m=ko(n)}Yn.has(m)||(n=T({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Yn.set(m,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(bu(m))||s==="script"&&u.querySelector(Au(m))||(s=u.createElement("link"),Zt(s,"link",n),xt(s),u.head.appendChild(s)))}}function WI(n,s){mr.m(n,s);var o=No;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+mn(u)+'"][href="'+mn(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ko(n)}if(!Yn.has(m)&&(n=T({rel:"modulepreload",href:n},s),Yn.set(m,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Au(m)))return}u=o.createElement("link"),Zt(u,"link",n),xt(u),o.head.appendChild(u)}}}function ZI(n,s,o){mr.S(n,s,o);var u=No;if(u&&n){var f=Ii(u).hoistableStyles,m=Do(n);s=s||"default";var v=f.get(m);if(!v){var A={loading:0,preload:null};if(v=u.querySelector(bu(m)))A.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Yn.get(m))&&kp(n,o);var N=v=u.createElement("link");xt(N),Zt(N,"link",n),N._p=new Promise(function(H,W){N.onload=H,N.onerror=W}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,tf(v,s,u)}v={type:"stylesheet",instance:v,count:1,state:A},f.set(m,v)}}}function eR(n,s){mr.X(n,s);var o=No;if(o&&n){var u=Ii(o).hoistableScripts,f=ko(n),m=u.get(f);m||(m=o.querySelector(Au(f)),m||(n=T({src:n,async:!0},s),(s=Yn.get(f))&&Op(n,s),m=o.createElement("script"),xt(m),Zt(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function tR(n,s){mr.M(n,s);var o=No;if(o&&n){var u=Ii(o).hoistableScripts,f=ko(n),m=u.get(f);m||(m=o.querySelector(Au(f)),m||(n=T({src:n,async:!0,type:"module"},s),(s=Yn.get(f))&&Op(n,s),m=o.createElement("script"),xt(m),Zt(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function gE(n,s,o,u){var f=(f=Ne.current)?ef(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Do(o.href),o=Ii(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Do(o.href);var m=Ii(f).hoistableStyles,v=m.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,v),(m=f.querySelector(bu(n)))&&!m._p&&(v.instance=m,v.state.loading=5),Yn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Yn.set(n,o),m||nR(f,n,o,v.state))),s&&u===null)throw Error(i(528,""));return v}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ko(o),o=Ii(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Do(n){return'href="'+mn(n)+'"'}function bu(n){return'link[rel="stylesheet"]['+n+"]"}function yE(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function nR(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Zt(s,"link",o),xt(s),n.head.appendChild(s))}function ko(n){return'[src="'+mn(n)+'"]'}function Au(n){return"script[async]"+n}function _E(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+mn(o.href)+'"]');if(u)return s.instance=u,xt(u),u;var f=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),xt(u),Zt(u,"style",f),tf(u,o.precedence,n),s.instance=u;case"stylesheet":f=Do(o.href);var m=n.querySelector(bu(f));if(m)return s.state.loading|=4,s.instance=m,xt(m),m;u=yE(o),(f=Yn.get(f))&&kp(u,f),m=(n.ownerDocument||n).createElement("link"),xt(m);var v=m;return v._p=new Promise(function(A,N){v.onload=A,v.onerror=N}),Zt(m,"link",u),s.state.loading|=4,tf(m,o.precedence,n),s.instance=m;case"script":return m=ko(o.src),(f=n.querySelector(Au(m)))?(s.instance=f,xt(f),f):(u=o,(f=Yn.get(m))&&(u=T({},o),Op(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),xt(f),Zt(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,tf(u,o.precedence,n));return s.instance}function tf(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,v=0;v<u.length;v++){var A=u[v];if(A.dataset.precedence===s)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function kp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Op(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var nf=null;function vE(n,s,o){if(nf===null){var u=new Map,f=nf=new Map;f.set(o,u)}else f=nf,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[wi]||m[Rt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=n+v;var A=u.get(v);A?A.push(m):u.set(v,[m])}}return u}function EE(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function iR(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function TE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function rR(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Do(u.href),m=s.querySelector(bu(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=rf.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=m,xt(m);return}m=s.ownerDocument||s,u=yE(u),(f=Yn.get(f))&&kp(u,f),m=m.createElement("link"),xt(m);var v=m;v._p=new Promise(function(A,N){v.onload=A,v.onerror=N}),Zt(m,"link",u),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=rf.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var Vp=0;function sR(n,s){return n.stylesheets&&n.count===0&&af(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&af(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+s);0<n.imgBytes&&Vp===0&&(Vp=62500*UI());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&af(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Vp?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function rf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var sf=null;function af(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,sf=new Map,s.forEach(aR,n),sf=null,rf.call(n))}function aR(n,s){if(!(s.state.loading&4)){var o=sf.get(n);if(o)var u=o.get(null);else{o=new Map,sf.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),u=v)}u&&o.set(null,u)}f=s.instance,v=f.getAttribute("data-precedence"),m=o.get(v)||u,m===u&&o.set(null,f),o.set(v,f),this.count++,u=rf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var wu={$$typeof:U,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function oR(n,s,o,u,f,m,v,A,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function bE(n,s,o,u,f,m,v,A,N,H,W,ne){return n=new oR(n,s,o,v,N,H,W,ne,A),s=1,m===!0&&(s|=24),m=Sn(3,null,null,s),n.current=m,m.stateNode=n,s=dm(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},ym(m),n}function AE(n){return n?(n=lo,n):lo}function wE(n,s,o,u,f,m){f=AE(f),u.context===null?u.context=f:u.pendingContext=f,u=Kr(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Qr(n,u,s),o!==null&&(En(o,n,s),nu(o,n,s))}function SE(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Mp(n,s){SE(n,s),(n=n.alternate)&&SE(n,s)}function IE(n){if(n.tag===13||n.tag===31){var s=Ws(n,67108864);s!==null&&En(s,n,67108864),Mp(n,67108864)}}function RE(n){if(n.tag===13||n.tag===31){var s=Nn();s=zs(s);var o=Ws(n,s);o!==null&&En(o,n,s),Mp(n,s)}}var of=!0;function lR(n,s,o,u){var f=Z.T;Z.T=null;var m=le.p;try{le.p=2,Pp(n,s,o,u)}finally{le.p=m,Z.T=f}}function uR(n,s,o,u){var f=Z.T;Z.T=null;var m=le.p;try{le.p=8,Pp(n,s,o,u)}finally{le.p=m,Z.T=f}}function Pp(n,s,o,u){if(of){var f=Lp(u);if(f===null)bp(n,s,u,lf,o),CE(n,u);else if(hR(f,n,s,o,u))u.stopPropagation();else if(CE(n,u),s&4&&-1<cR.indexOf(n)){for(;f!==null;){var m=Ln(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Ei(m.pendingLanes);if(v!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var N=1<<31-Tt(v);A.entanglements[1]|=N,v&=~N}Ui(m),(Ke&6)===0&&(qh=un()+500,_u(0))}}break;case 31:case 13:A=Ws(m,2),A!==null&&En(A,m,2),Gh(),Mp(m,2)}if(m=Lp(u),m===null&&bp(n,s,u,lf,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else bp(n,s,u,null,o)}}function Lp(n){return n=jn(n),jp(n)}var lf=null;function jp(n){if(lf=null,n=Si(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return lf=n,null}function xE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ps()){case Rl:return 2;case xl:return 8;case Dr:case Hd:return 32;case Uc:return 268435456;default:return 32}default:return 32}}var Up=!1,rs=null,ss=null,as=null,Su=new Map,Iu=new Map,os=[],cR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CE(n,s){switch(n){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":Su.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(s.pointerId)}}function Ru(n,s,o,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Ln(s),s!==null&&IE(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function hR(n,s,o,u,f){switch(s){case"focusin":return rs=Ru(rs,n,s,o,u,f),!0;case"dragenter":return ss=Ru(ss,n,s,o,u,f),!0;case"mouseover":return as=Ru(as,n,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return Su.set(m,Ru(Su.get(m)||null,n,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Iu.set(m,Ru(Iu.get(m)||null,n,s,o,u,f)),!0}return!1}function NE(n){var s=Si(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,ti(n.priority,function(){RE(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,ti(n.priority,function(){RE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uf(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Lp(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);zl=u,o.target.dispatchEvent(u),zl=null}else return s=Ln(o),s!==null&&IE(s),n.blockedOn=o,!1;s.shift()}return!0}function DE(n,s,o){uf(n)&&o.delete(s)}function fR(){Up=!1,rs!==null&&uf(rs)&&(rs=null),ss!==null&&uf(ss)&&(ss=null),as!==null&&uf(as)&&(as=null),Su.forEach(DE),Iu.forEach(DE)}function cf(n,s){n.blockedOn===s&&(n.blockedOn=null,Up||(Up=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fR)))}var hf=null;function kE(n){hf!==n&&(hf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hf===n&&(hf=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(jp(u||o)===null)continue;break}var m=Ln(o);m!==null&&(n.splice(s,3),s-=3,Lm(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Oo(n){function s(N){return cf(N,n)}rs!==null&&cf(rs,n),ss!==null&&cf(ss,n),as!==null&&cf(as,n),Su.forEach(s),Iu.forEach(s);for(var o=0;o<os.length;o++){var u=os[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<os.length&&(o=os[0],o.blockedOn===null);)NE(o),o.blockedOn===null&&os.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],v=f[Ht]||null;if(typeof m=="function")v||kE(o);else if(v){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Ht]||null)A=v.formAction;else if(jp(f)!==null)continue}else A=v.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),kE(o)}}}function OE(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function zp(n){this._internalRoot=n}ff.prototype.render=zp.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Nn();wE(o,u,n,s,null,null)},ff.prototype.unmount=zp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;wE(n.current,2,null,n,null,null),Gh(),s[Ai]=null}};function ff(n){this._internalRoot=n}ff.prototype.unstable_scheduleHydration=function(n){if(n){var s=Gc();n={blockedOn:null,target:n,priority:s};for(var o=0;o<os.length&&s!==0&&s<os[o].priority;o++);os.splice(o,0,n),o===0&&NE(n)}};var VE=e.version;if(VE!=="19.2.3")throw Error(i(527,VE,"19.2.3"));le.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var dR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{Zn=df.inject(dR),Yt=df}catch{}}return Cu.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",f=Bv,m=Fv,v=qv;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=bE(n,1,!1,null,null,o,u,null,f,m,v,OE),n[Ai]=s.current,Tp(n),new zp(s)},Cu.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,f="",m=Bv,v=Fv,A=qv,N=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),s=bE(n,1,!0,s,o??null,u,f,N,m,v,A,OE),s.context=AE(null),o=s.current,u=Nn(),u=zs(u),f=Kr(u),f.callback=null,Qr(o,f,u),o=u,s.current.lanes=o,js(s,o),Ui(s),n[Ai]=s.current,Tp(n),new ff(s)},Cu.version="19.2.3",Cu}var HE;function AR(){if(HE)return qp.exports;HE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qp.exports=bR(),qp.exports}var wR=AR();const SR=eA(wR),IR="modulepreload",RR=function(r){return"/"+r},GE={},Ua=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let c=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=c(t.map(g=>{if(g=RR(g),g in GE)return;GE[g]=!0;const _=g.endsWith(".css"),T=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const w=document.createElement("link");if(w.rel=_?"stylesheet":IR,_||(w.as="script"),w.crossOrigin="",w.href=g,p&&w.setAttribute("nonce",p),document.head.appendChild(w),_)return new Promise((k,z)=>{w.addEventListener("load",k),w.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),KE=r=>{const e=CR(r);return e.charAt(0).toUpperCase()+e.slice(1)},tA=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),NR=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=G.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},p)=>G.createElement("svg",{ref:p,...DR,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:tA("lucide",a),...!l&&!NR(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,_])=>G.createElement(g,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=(r,e)=>{const t=G.forwardRef(({className:i,...a},l)=>G.createElement(kR,{ref:l,iconNode:e,className:tA(`lucide-${xR(KE(r))}`,`lucide-${r}`,i),...a}));return t.displayName=KE(r),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],VR=gi("arrow-left",OR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],PR=gi("circle-alert",MR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],QE=gi("clock",LR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],UR=gi("eye-off",jR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BR=gi("eye",zR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],qR=gi("hash",FR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],GR=gi("house",HR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hg=gi("loader-circle",KR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],YR=gi("monitor-x",QR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nA=gi("refresh-cw",$R);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],JR=gi("triangle-alert",XR),YE=()=>b.jsx("div",{className:"loading-container",children:b.jsx(hg,{className:"loader-icon"})});/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $E="popstate";function WR(r={}){function e(a,l){let{pathname:c="/",search:d="",hash:p=""}=za(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),fg("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=a.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:Zu(l))}function i(a,l){On(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return ex(e,t,i,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function On(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZR(){return Math.random().toString(36).substring(2,10)}function XE(r,e){return{usr:r.state,key:r.key,idx:e}}function fg(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?za(e):e,state:t,key:e&&e.key||i||ZR()}}function Zu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function za(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function ex(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let F=_(),X=F==null?null:F-g;g=F,p&&p({action:d,location:Q.location,delta:X})}function w(F,X){d="PUSH";let ee=fg(Q.location,F,X);t&&t(ee,F),g=_()+1;let U=XE(ee,g),de=Q.createHref(ee);try{c.pushState(U,"",de)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;a.location.assign(de)}l&&p&&p({action:d,location:Q.location,delta:1})}function k(F,X){d="REPLACE";let ee=fg(Q.location,F,X);t&&t(ee,F),g=_();let U=XE(ee,g),de=Q.createHref(ee);c.replaceState(U,"",de),l&&p&&p({action:d,location:Q.location,delta:0})}function z(F){return tx(F)}let Q={get action(){return d},get location(){return r(a,c)},listen(F){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener($E,T),p=F,()=>{a.removeEventListener($E,T),p=null}},createHref(F){return e(a,F)},createURL:z,encodeLocation(F){let X=z(F);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:w,replace:k,go(F){return c.go(F)}};return Q}function tx(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Zu(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function iA(r,e,t="/"){return nx(r,e,t,!1)}function nx(r,e,t,i){let a=typeof e=="string"?za(e):e,l=Er(a.pathname||"/",t);if(l==null)return null;let c=rA(r);ix(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=mx(l);d=fx(c[p],g,i)}return d}function rA(r,e=[],t=[],i="",a=!1){let l=(c,d,p=a,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&p)return;dt(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let T=_r([i,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&(dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),rA(c.children,e,w,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:cx(T,c.index),routesMeta:w})};return r.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,d);else for(let g of sA(c.path))l(c,d,!0,g)}),e}function sA(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=sA(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function ix(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:hx(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var rx=/^:[\w-]+$/,sx=3,ax=2,ox=1,lx=10,ux=-2,JE=r=>r==="*";function cx(r,e){let t=r.split("/"),i=t.length;return t.some(JE)&&(i+=ux),e&&(i+=ax),t.filter(a=>!JE(a)).reduce((a,l)=>a+(rx.test(l)?sx:l===""?ox:lx),i)}function hx(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function fx(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=Bf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=Bf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:_r([l,T.pathname]),pathnameBase:_x(_r([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=_r([l,T.pathnameBase]))}return c}function Bf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=dx(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:T},w)=>{if(_==="*"){let z=d[w]||"";c=l.slice(0,l.length-z.length).replace(/(.)\/+$/,"$1")}const k=d[w];return T&&!k?g[_]=void 0:g[_]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function dx(r,e=!1,t=!0){On(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function mx(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return On(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Er(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var aA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,px=r=>aA.test(r);function gx(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?za(r):r,l;if(t)if(px(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),On(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=WE(t.substring(1),"/"):l=WE(t,e)}else l=e;return{pathname:l,search:vx(i),hash:Ex(a)}}function WE(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Qp(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yx(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xg(r){let e=yx(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Jg(r,e,t,i=!1){let a;typeof r=="string"?a=za(r):(a={...r},dt(!a.pathname||!a.pathname.includes("?"),Qp("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),Qp("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),Qp("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;a.pathname=w.join("/")}d=T>=0?e[T]:"/"}let p=gx(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var _r=r=>r.join("/").replace(/\/\/+/g,"/"),_x=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),vx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ex=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Tx=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function bx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Ax(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var oA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lA(r,e){let t=r;if(typeof t!="string"||!aA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(oA)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=Er(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:a=!0}catch{On(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uA=["POST","PUT","PATCH","DELETE"];new Set(uA);var wx=["GET",...uA];new Set(wx);var pl=G.createContext(null);pl.displayName="DataRouter";var pd=G.createContext(null);pd.displayName="DataRouterState";var Sx=G.createContext(!1),cA=G.createContext({isTransitioning:!1});cA.displayName="ViewTransition";var Ix=G.createContext(new Map);Ix.displayName="Fetchers";var Rx=G.createContext(null);Rx.displayName="Await";var Mn=G.createContext(null);Mn.displayName="Navigation";var mc=G.createContext(null);mc.displayName="Location";var $i=G.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var Wg=G.createContext(null);Wg.displayName="RouteError";var hA="REACT_ROUTER_ERROR",xx="REDIRECT",Cx="ROUTE_ERROR_RESPONSE";function Nx(r){if(r.startsWith(`${hA}:${xx}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Dx(r){if(r.startsWith(`${hA}:${Cx}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Tx(e.status,e.statusText,e.data)}catch{}}function kx(r,{relative:e}={}){dt(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=G.useContext(Mn),{hash:a,pathname:l,search:c}=pc(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:_r([t,l])),i.createHref({pathname:d,search:c,hash:a})}function gl(){return G.useContext(mc)!=null}function Ns(){return dt(gl(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(mc).location}var fA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dA(r){G.useContext(Mn).static||G.useLayoutEffect(r)}function gd(){let{isDataRoute:r}=G.useContext($i);return r?Gx():Ox()}function Ox(){dt(gl(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(pl),{basename:e,navigator:t}=G.useContext(Mn),{matches:i}=G.useContext($i),{pathname:a}=Ns(),l=JSON.stringify(Xg(i)),c=G.useRef(!1);return dA(()=>{c.current=!0}),G.useCallback((p,g={})=>{if(On(c.current,fA),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Jg(p,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:_r([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,r])}G.createContext(null);function pc(r,{relative:e}={}){let{matches:t}=G.useContext($i),{pathname:i}=Ns(),a=JSON.stringify(Xg(t));return G.useMemo(()=>Jg(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function Vx(r,e){return mA(r,e)}function mA(r,e,t,i,a){var ee;dt(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=G.useContext(Mn),{matches:c}=G.useContext($i),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let U=T&&T.path||"";gA(g,!T||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let w=Ns(),k;if(e){let U=typeof e=="string"?za(e):e;dt(_==="/"||((ee=U.pathname)==null?void 0:ee.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${U.pathname}" was given in the \`location\` prop.`),k=U}else k=w;let z=k.pathname||"/",Q=z;if(_!=="/"){let U=_.replace(/^\//,"").split("/");Q="/"+z.replace(/^\//,"").split("/").slice(U.length).join("/")}let F=iA(r,{pathname:Q});On(T||F!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),On(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=Ux(F&&F.map(U=>Object.assign({},U,{params:Object.assign({},p,U.params),pathname:_r([_,l.encodeLocation?l.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?_:_r([_,l.encodeLocation?l.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),c,t,i,a);return e&&X?G.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},X):X}function Mx(){let r=Hx(),e=bx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:l},"ErrorBoundary")," or"," ",G.createElement("code",{style:l},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:a},t):null,c)}var Px=G.createElement(Mx,null),pA=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=Dx(r.digest);t&&(r=t)}let e=r!==void 0?G.createElement($i.Provider,{value:this.props.routeContext},G.createElement(Wg.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?G.createElement(Lx,{error:r},e):e}};pA.contextType=Sx;var Yp=new WeakMap;function Lx({children:r,error:e}){let{basename:t}=G.useContext(Mn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Nx(e.digest);if(i){let a=Yp.get(e);if(a)throw a;let l=lA(i.location,t);if(oA&&!Yp.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Yp.set(e,c),c}return G.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function jx({routeContext:r,match:e,children:t}){let i=G.useContext(pl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement($i.Provider,{value:r},t)}function Ux(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t==null?void 0:t.errors;if(c!=null){let _=l.findIndex(T=>T.route.id&&(c==null?void 0:c[T.route.id])!==void 0);dt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let d=!1,p=-1;if(t)for(let _=0;_<l.length;_++){let T=l[_];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=_),T.route.id){let{loaderData:w,errors:k}=t,z=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||z){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&i?(_,T)=>{var w,k;i(_,{location:t.location,params:((k=(w=t.matches)==null?void 0:w[0])==null?void 0:k.params)??{},unstable_pattern:Ax(t.matches),errorInfo:T})}:void 0;return l.reduceRight((_,T,w)=>{let k,z=!1,Q=null,F=null;t&&(k=c&&T.route.id?c[T.route.id]:void 0,Q=T.route.errorElement||Px,d&&(p<0&&w===0?(gA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,F=null):p===w&&(z=!0,F=T.route.hydrateFallbackElement||null)));let X=e.concat(l.slice(0,w+1)),ee=()=>{let U;return k?U=Q:z?U=F:T.route.Component?U=G.createElement(T.route.Component,null):T.route.element?U=T.route.element:U=_,G.createElement(jx,{match:T,routeContext:{outlet:_,matches:X,isDataRoute:t!=null},children:U})};return t&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?G.createElement(pA,{location:t.location,revalidation:t.revalidation,component:Q,error:k,children:ee(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:g}):ee()},null)}function Zg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zx(r){let e=G.useContext(pl);return dt(e,Zg(r)),e}function Bx(r){let e=G.useContext(pd);return dt(e,Zg(r)),e}function Fx(r){let e=G.useContext($i);return dt(e,Zg(r)),e}function ey(r){let e=Fx(r),t=e.matches[e.matches.length-1];return dt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function qx(){return ey("useRouteId")}function Hx(){var i;let r=G.useContext(Wg),e=Bx("useRouteError"),t=ey("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function Gx(){let{router:r}=zx("useNavigate"),e=ey("useNavigate"),t=G.useRef(!1);return dA(()=>{t.current=!0}),G.useCallback(async(a,l={})=>{On(t.current,fA),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var ZE={};function gA(r,e,t){!e&&!ZE[r]&&(ZE[r]=!0,On(!1,t))}G.memo(Kx);function Kx({routes:r,future:e,state:t,onError:i}){return mA(r,void 0,t,i,e)}function Ff({to:r,replace:e,state:t,relative:i}){dt(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=G.useContext(Mn);On(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=G.useContext($i),{pathname:c}=Ns(),d=gd(),p=Jg(r,Xg(l),c,i==="path"),g=JSON.stringify(p);return G.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function hi(r){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qx({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){dt(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof t=="string"&&(t=za(t));let{pathname:g="/",search:_="",hash:T="",state:w=null,key:k="default"}=t,z=G.useMemo(()=>{let Q=Er(g,d);return Q==null?null:{location:{pathname:Q,search:_,hash:T,state:w,key:k},navigationType:i}},[d,g,_,T,w,k,i]);return On(z!=null,`<Router basename="${d}"> is not able to match the URL "${g}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:G.createElement(Mn.Provider,{value:p},G.createElement(mc.Provider,{children:e,value:z}))}function Yx({children:r,location:e}){return Vx(dg(r),e)}function dg(r,e=[]){let t=[];return G.Children.forEach(r,(i,a)=>{if(!G.isValidElement(i))return;let l=[...e,a];if(i.type===G.Fragment){t.push.apply(t,dg(i.props.children,l));return}dt(i.type===hi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=dg(i.props.children,l)),t.push(c)}),t}var Af="get",wf="application/x-www-form-urlencoded";function yd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function $x(r){return yd(r)&&r.tagName.toLowerCase()==="button"}function Xx(r){return yd(r)&&r.tagName.toLowerCase()==="form"}function Jx(r){return yd(r)&&r.tagName.toLowerCase()==="input"}function Wx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Zx(r,e){return r.button===0&&(!e||e==="_self")&&!Wx(r)}var mf=null;function e2(){if(mf===null)try{new FormData(document.createElement("form"),0),mf=!1}catch{mf=!0}return mf}var t2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $p(r){return r!=null&&!t2.has(r)?(On(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wf}"`),null):r}function n2(r,e){let t,i,a,l,c;if(Xx(r)){let d=r.getAttribute("action");i=d?Er(d,e):null,t=r.getAttribute("method")||Af,a=$p(r.getAttribute("enctype"))||wf,l=new FormData(r)}else if($x(r)||Jx(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(i=p?Er(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Af,a=$p(r.getAttribute("formenctype"))||$p(d.getAttribute("enctype"))||wf,l=new FormData(d,r),!e2()){let{name:g,type:_,value:T}=r;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(yd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Af,i=null,a=wf,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ty(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function i2(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Er(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function r2(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function a2(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await r2(l,t);return c.links?c.links():[]}return[]}));return c2(i.flat(1).filter(s2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function eT(r,e,t,i,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var T;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function o2(r,e,{includeHydrateFallback:t}={}){return l2(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function l2(r){return[...new Set(r)]}function u2(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function c2(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(u2(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function yA(){let r=G.useContext(pl);return ty(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function h2(){let r=G.useContext(pd);return ty(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ny=G.createContext(void 0);ny.displayName="FrameworkContext";function _A(){let r=G.useContext(ny);return ty(r,"You must render this element inside a <HydratedRouter> element"),r}function f2(r,e){let t=G.useContext(ny),[i,a]=G.useState(!1),[l,c]=G.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,w=G.useRef(null);G.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let Q=X=>{X.forEach(ee=>{c(ee.isIntersecting)})},F=new IntersectionObserver(Q,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[r]),G.useEffect(()=>{if(i){let Q=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(Q)}}},[i]);let k=()=>{a(!0)},z=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,w,{}]:[l,w,{onFocus:Nu(d,k),onBlur:Nu(p,z),onMouseEnter:Nu(g,k),onMouseLeave:Nu(_,z),onTouchStart:Nu(T,k)}]:[!1,w,{}]}function Nu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function d2({page:r,...e}){let{router:t}=yA(),i=G.useMemo(()=>iA(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?G.createElement(p2,{page:r,matches:i,...e}):null}function m2(r){let{manifest:e,routeModules:t}=_A(),[i,a]=G.useState([]);return G.useEffect(()=>{let l=!1;return a2(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),i}function p2({page:r,matches:e,...t}){let i=Ns(),{manifest:a,routeModules:l}=_A(),{basename:c}=yA(),{loaderData:d,matches:p}=h2(),g=G.useMemo(()=>eT(r,e,p,a,i,"data"),[r,e,p,a,i]),_=G.useMemo(()=>eT(r,e,p,a,i,"assets"),[r,e,p,a,i]),T=G.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let z=new Set,Q=!1;if(e.forEach(X=>{var U;let ee=a.routes[X.route.id];!ee||!ee.hasLoader||(!g.some(de=>de.route.id===X.route.id)&&X.route.id in d&&((U=l[X.route.id])!=null&&U.shouldRevalidate)||ee.hasClientLoader?Q=!0:z.add(X.route.id))}),z.size===0)return[];let F=i2(r,c,"data");return Q&&z.size>0&&F.searchParams.set("_routes",e.filter(X=>z.has(X.route.id)).map(X=>X.route.id).join(",")),[F.pathname+F.search]},[c,d,i,a,g,e,r,l]),w=G.useMemo(()=>o2(_,a),[_,a]),k=m2(_);return G.createElement(G.Fragment,null,T.map(z=>G.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),w.map(z=>G.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),k.map(({key:z,link:Q})=>G.createElement("link",{key:z,nonce:t.nonce,...Q})))}function g2(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var y2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y2&&(window.__reactRouterVersion="7.11.0")}catch{}function _2({basename:r,children:e,unstable_useTransitions:t,window:i}){let a=G.useRef();a.current==null&&(a.current=WR({window:i,v5Compat:!0}));let l=a.current,[c,d]=G.useState({action:l.action,location:l.location}),p=G.useCallback(g=>{t===!1?d(g):G.startTransition(()=>d(g))},[t]);return G.useLayoutEffect(()=>l.listen(p),[l,p]),G.createElement(Qx,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var vA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xo=G.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:w,...k},z){let{basename:Q,unstable_useTransitions:F}=G.useContext(Mn),X=typeof g=="string"&&vA.test(g),ee=lA(g,Q);g=ee.to;let U=kx(g,{relative:a}),[de,ge,me]=f2(i,k),R=b2(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:a,viewTransition:T,unstable_defaultShouldRevalidate:w,unstable_useTransitions:F});function I(M){e&&e(M),M.defaultPrevented||R(M)}let x=G.createElement("a",{...k,...me,href:ee.absoluteURL||U,onClick:ee.isExternal||l?e:I,ref:g2(z,ge),target:p,"data-discover":!X&&t==="render"?"true":void 0});return de&&!X?G.createElement(G.Fragment,null,x,G.createElement(d2,{page:U})):x});Xo.displayName="Link";var v2=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let T=pc(c,{relative:g.relative}),w=Ns(),k=G.useContext(pd),{navigator:z,basename:Q}=G.useContext(Mn),F=k!=null&&R2(T)&&d===!0,X=z.encodeLocation?z.encodeLocation(T).pathname:T.pathname,ee=w.pathname,U=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),U=U?U.toLowerCase():null,X=X.toLowerCase()),U&&Q&&(U=Er(U,Q)||U);const de=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ge=ee===X||!a&&ee.startsWith(X)&&ee.charAt(de)==="/",me=U!=null&&(U===X||!a&&U.startsWith(X)&&U.charAt(X.length)==="/"),R={isActive:ge,isPending:me,isTransitioning:F},I=ge?e:void 0,x;typeof i=="function"?x=i(R):x=[i,ge?"active":null,me?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(R):l;return G.createElement(Xo,{...g,"aria-current":I,className:x,ref:_,style:M,to:c,viewTransition:d},typeof p=="function"?p(R):p)});v2.displayName="NavLink";var E2=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Af,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:w,...k},z)=>{let{unstable_useTransitions:Q}=G.useContext(Mn),F=S2(),X=I2(d,{relative:g}),ee=c.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&vA.test(d),de=ge=>{if(p&&p(ge),ge.defaultPrevented)return;ge.preventDefault();let me=ge.nativeEvent.submitter,R=(me==null?void 0:me.getAttribute("formmethod"))||c,I=()=>F(me||ge.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:w});Q&&t!==!1?G.startTransition(()=>I()):I()};return G.createElement("form",{ref:z,method:ee,action:X,onSubmit:i?p:de,...k,"data-discover":!U&&r==="render"?"true":void 0})});E2.displayName="Form";function T2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EA(r){let e=G.useContext(pl);return dt(e,T2(r)),e}function b2(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=gd(),_=Ns(),T=pc(r,{relative:l});return G.useCallback(w=>{if(Zx(w,e)){w.preventDefault();let k=t!==void 0?t:Zu(_)===Zu(T),z=()=>g(r,{replace:k,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?G.startTransition(()=>z()):z()}},[_,g,T,t,i,e,r,a,l,c,d,p])}var A2=0,w2=()=>`__${String(++A2)}__`;function S2(){let{router:r}=EA("useSubmit"),{basename:e}=G.useContext(Mn),t=qx(),i=r.fetch,a=r.navigate;return G.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:_,body:T}=n2(l,e);if(c.navigate===!1){let w=c.fetcherKey||w2();await i(w,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:T,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:T,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function I2(r,{relative:e}={}){let{basename:t}=G.useContext(Mn),i=G.useContext($i);dt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...pc(r||".",{relative:e})},c=Ns();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:_r([t,l.pathname])),Zu(l)}function R2(r,{relative:e}={}){let t=G.useContext(cA);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=EA("useViewTransitionState"),a=pc(r,{relative:e});if(!t.isTransitioning)return!1;let l=Er(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Er(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Bf(a.pathname,c)!=null||Bf(a.pathname,l)!=null}const x2=()=>{};var tT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},C2=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},bA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,p=a+2<r.length,g=p?r[a+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,k=g&63;p||(k=64,c||(w=64)),i.push(t[_],t[T],t[w],t[k])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(TA(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):C2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const T=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new N2;const w=l<<2|d>>4;if(i.push(w),g!==64){const k=d<<4&240|g>>2;if(i.push(k),T!==64){const z=g<<6&192|T;i.push(z)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class N2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D2=function(r){const e=TA(r);return bA.encodeByteArray(e,!0)},qf=function(r){return D2(r).replace(/\./g,"")},AA=function(r){try{return bA.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=()=>wA().__FIREBASE_DEFAULTS__,O2=()=>{if(typeof process>"u"||typeof tT>"u")return;const r=tT.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},V2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&AA(r[1]);return e&&JSON.parse(e)},_d=()=>{try{return x2()||k2()||O2()||V2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},SA=r=>{var e,t;return(t=(e=_d())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},M2=r=>{const e=SA(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},IA=()=>{var r;return(r=_d())==null?void 0:r.config},RA=r=>{var e;return(e=_d())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xA(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qf(JSON.stringify(t)),qf(JSON.stringify(c)),""].join(".")}const qu={};function j2(){const r={prod:[],emulator:[]};for(const e of Object.keys(qu))qu[e]?r.emulator.push(e):r.prod.push(e);return r}function U2(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let nT=!1;function CA(r,e){if(typeof window>"u"||typeof document>"u"||!yl(window.location.host)||qu[r]===e||qu[r]||nT)return;qu[r]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=j2().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{nT=!0,c()},w}function _(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=U2(i),k=t("text"),z=document.getElementById(k)||document.createElement("span"),Q=t("learnmore"),F=document.getElementById(Q)||document.createElement("a"),X=t("preprendIcon"),ee=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const U=w.element;d(U),_(F,Q);const de=g();p(ee,X),U.append(ee,z,F,de),document.body.appendChild(U)}l?(z.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function NA(){var e;const r=(e=_d())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function q2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H2(){const r=Ft();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function DA(){return!NA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kA(){return!NA()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function OA(){try{return typeof indexedDB=="object"}catch{return!1}}function G2(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="FirebaseError";class Sr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=K2,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?Q2(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Sr(a,d,i)}}function Q2(r,e){return r.replace(Y2,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Y2=/\{\$([^}]+)}/g;function $2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ia(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if(iT(l)&&iT(c)){if(!Ia(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function iT(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Pu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Lu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function X2(r,e){const t=new J2(r,e);return t.subscribe.bind(t)}class J2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");W2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Xp),a.error===void 0&&(a.error=Xp),a.complete===void 0&&(a.complete=Xp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W2(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r){return r&&r._delegate?r._delegate:r}class Ra{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new P2;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tC(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eC(r){return r===da?void 0:r}function tC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Z2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const iC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},rC=Le.INFO,sC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},aC=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=sC[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iy{constructor(e){this.name=e,this._logLevel=rC,this._logHandler=aC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const oC=(r,e)=>e.some(t=>r instanceof t);let rT,sT;function lC(){return rT||(rT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uC(){return sT||(sT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VA=new WeakMap,mg=new WeakMap,MA=new WeakMap,Jp=new WeakMap,ry=new WeakMap;function cC(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(vs(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&VA.set(t,r)}).catch(()=>{}),ry.set(e,r),e}function hC(r){if(mg.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});mg.set(r,e)}let pg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return mg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||MA.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function fC(r){pg=r(pg)}function dC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Wp(this),e,...t);return MA.set(i,e.sort?e.sort():[e]),vs(i)}:uC().includes(r)?function(...e){return r.apply(Wp(this),e),vs(VA.get(this))}:function(...e){return vs(r.apply(Wp(this),e))}}function mC(r){return typeof r=="function"?dC(r):(r instanceof IDBTransaction&&hC(r),oC(r,lC())?new Proxy(r,pg):r)}function vs(r){if(r instanceof IDBRequest)return cC(r);if(Jp.has(r))return Jp.get(r);const e=mC(r);return e!==r&&(Jp.set(r,e),ry.set(e,r)),e}const Wp=r=>ry.get(r);function pC(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=vs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(vs(c.result),p.oldVersion,p.newVersion,vs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const gC=["get","getKey","getAll","getAllKeys","count"],yC=["put","add","delete","clear"],Zp=new Map;function aT(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=yC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||gC.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return Zp.set(e,l),l}fC(r=>({...r,get:(e,t,i)=>aT(e,t)||r.get(e,t,i),has:(e,t)=>!!aT(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function vC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gg="@firebase/app",oT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new iy("@firebase/app"),EC="@firebase/app-compat",TC="@firebase/analytics-compat",bC="@firebase/analytics",AC="@firebase/app-check-compat",wC="@firebase/app-check",SC="@firebase/auth",IC="@firebase/auth-compat",RC="@firebase/database",xC="@firebase/data-connect",CC="@firebase/database-compat",NC="@firebase/functions",DC="@firebase/functions-compat",kC="@firebase/installations",OC="@firebase/installations-compat",VC="@firebase/messaging",MC="@firebase/messaging-compat",PC="@firebase/performance",LC="@firebase/performance-compat",jC="@firebase/remote-config",UC="@firebase/remote-config-compat",zC="@firebase/storage",BC="@firebase/storage-compat",FC="@firebase/firestore",qC="@firebase/ai",HC="@firebase/firestore-compat",GC="firebase",KC="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="[DEFAULT]",QC={[gg]:"fire-core",[EC]:"fire-core-compat",[bC]:"fire-analytics",[TC]:"fire-analytics-compat",[wC]:"fire-app-check",[AC]:"fire-app-check-compat",[SC]:"fire-auth",[IC]:"fire-auth-compat",[RC]:"fire-rtdb",[xC]:"fire-data-connect",[CC]:"fire-rtdb-compat",[NC]:"fire-fn",[DC]:"fire-fn-compat",[kC]:"fire-iid",[OC]:"fire-iid-compat",[VC]:"fire-fcm",[MC]:"fire-fcm-compat",[PC]:"fire-perf",[LC]:"fire-perf-compat",[jC]:"fire-rc",[UC]:"fire-rc-compat",[zC]:"fire-gcs",[BC]:"fire-gcs-compat",[FC]:"fire-fst",[HC]:"fire-fst-compat",[qC]:"fire-vertex","fire-js":"fire-js",[GC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Map,_g=new Map,vg=new Map;function lT(r,e){try{r.container.addComponent(e)}catch(t){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Wo(r){const e=r.name;if(vg.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,r);for(const t of Jo.values())lT(t,r);for(const t of _g.values())lT(t,r);return!0}function sy(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function $n(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new gc("app","Firebase",YC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=KC;function ay(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:yg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Es.create("bad-app-name",{appName:String(a)});if(t||(t=IA()),!t)throw Es.create("no-options");const l=Jo.get(a);if(l){if(Ia(t,l.options)&&Ia(i,l.config))return l;throw Es.create("duplicate-app",{appName:a})}const c=new nC(a);for(const p of vg.values())c.addComponent(p);const d=new $C(t,i,c);return Jo.set(a,d),d}function PA(r=yg){const e=Jo.get(r);if(!e&&r===yg&&IA())return ay();if(!e)throw Es.create("no-app",{appName:r});return e}async function XC(r){let e=!1;const t=r.name;Jo.has(t)?(e=!0,Jo.delete(t)):_g.has(t)&&r.decRefCount()<=0&&(_g.delete(t),e=!0),e&&(await Promise.all(r.container.getProviders().map(i=>i.delete())),r.isDeleted=!0)}function Ts(r,e,t){let i=QC[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(c.join(" "));return}Wo(new Ra(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="firebase-heartbeat-database",WC=1,ec="firebase-heartbeat-store";let eg=null;function LA(){return eg||(eg=pC(JC,WC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ec)}catch(t){console.warn(t)}}}}).catch(r=>{throw Es.create("idb-open",{originalErrorMessage:r.message})})),eg}async function ZC(r){try{const t=(await LA()).transaction(ec),i=await t.objectStore(ec).get(jA(r));return await t.done,i}catch(e){if(e instanceof Sr)Tr.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(t.message)}}}async function uT(r,e){try{const i=(await LA()).transaction(ec,"readwrite");await i.objectStore(ec).put(e,jA(r)),await i.done}catch(t){if(t instanceof Sr)Tr.warn(t.message);else{const i=Es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Tr.warn(i.message)}}}function jA(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=1024,tN=30;class nN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=cT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>tN){const c=sN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Tr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cT(),{heartbeatsToSend:i,unsentEntries:a}=iN(this._heartbeatsCache.heartbeats),l=qf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Tr.warn(t),""}}}function cT(){return new Date().toISOString().substring(0,10)}function iN(r,e=eN){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),hT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),hT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class rN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OA()?G2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ZC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return uT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return uT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hT(r){return qf(JSON.stringify({version:2,heartbeats:r})).length}function sN(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(r){Wo(new Ra("platform-logger",e=>new _C(e),"PRIVATE")),Wo(new Ra("heartbeat",e=>new nN(e),"PRIVATE")),Ts(gg,oT,r),Ts(gg,oT,"esm2020"),Ts("fire-js","")}aN("");var oN="firebase",lN="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(oN,lN,"app");function UA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uN=UA,zA=new gc("auth","Firebase",UA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new iy("@firebase/auth");function cN(r,...e){Hf.logLevel<=Le.WARN&&Hf.warn(`Auth (${_l}): ${r}`,...e)}function Sf(r,...e){Hf.logLevel<=Le.ERROR&&Hf.error(`Auth (${_l}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(r,...e){throw oy(r,...e)}function qi(r,...e){return oy(r,...e)}function BA(r,e,t){const i={...uN(),[e]:t};return new gc("auth","Firebase",i).create(e,{appName:r.name})}function vr(r){return BA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oy(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return zA.create(r,...e)}function Ae(r,e,...t){if(!r)throw oy(e,...t)}function pr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sf(e),new Error(e)}function br(r,e){r||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function hN(){return fT()==="http:"||fT()==="https:"}function fT(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hN()||F2()||"connection"in navigator)?navigator.onLine:!0}function dN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t){this.shortDelay=e,this.longDelay=t,br(t>e,"Short delay should be less than long delay!"),this.isMobile=z2()||q2()}get(){return fN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(r,e){br(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gN=new _c(3e4,6e4);function Ir(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function yi(r,e,t,i,a={}){return qA(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=yc({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...l};return B2()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&yl(r.emulatorConfig.host)&&(g.credentials="include"),FA.fetch()(await HA(r,r.config.apiHost,t,d),g)})}async function qA(r,e,t){r._canInitEmulator=!1;const i={...mN,...e};try{const a=new _N(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw pf(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw pf(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw pf(r,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw BA(r,_,g);mi(r,_)}}catch(a){if(a instanceof Sr)throw a;mi(r,"network-request-failed",{message:String(a)})}}async function vc(r,e,t,i,a={}){const l=await yi(r,e,t,i,a);return"mfaPendingCredential"in l&&mi(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function HA(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?ly(r.config,a):`${r.config.apiScheme}://${a}`;return pN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function yN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _N{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(qi(this.auth,"network-request-failed")),gN.get())})}}function pf(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=qi(r,e,i);return a.customData._tokenResponse=t,a}function dT(r){return r!==void 0&&r.enterprise!==void 0}class vN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EN(r,e){return yi(r,"GET","/v2/recaptchaConfig",Ir(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(r,e){return yi(r,"POST","/v1/accounts:delete",e)}async function Gf(r,e){return yi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bN(r,e=!1){const t=mt(r),i=await t.getIdToken(e),a=uy(i);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Hu(tg(a.auth_time)),issuedAtTime:Hu(tg(a.iat)),expirationTime:Hu(tg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function tg(r){return Number(r)*1e3}function uy(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const a=AA(t);return a?JSON.parse(a):(Sf("Failed to decode base64 JWT payload"),null)}catch(a){return Sf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function mT(r){const e=uy(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Sr&&AN(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function AN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(r){var T;const e=r.auth,t=await r.getIdToken(),i=await xa(r,Gf(e,{idToken:t}));Ae(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=(T=a.providerUserInfo)!=null&&T.length?GA(a.providerUserInfo):[],c=IN(r.providerData,l),d=r.isAnonymous,p=!(r.email&&a.passwordHash)&&!(c!=null&&c.length),g=d?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Tg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function SN(r){const e=mt(r);await Kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IN(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function GA(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(r,e){const t=await qA(r,{},async()=>{const i=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await HA(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return r.emulatorConfig&&yl(r.emulatorConfig.host)&&(p.credentials="include"),FA.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xN(r,e){return yi(r,"POST","/v2/accounts:revokeToken",Ir(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=mT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await RN(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Ko;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ae(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ae(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class di{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new wN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Tg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await xa(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return bN(this,e)}reload(){return SN(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Kf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(vr(this.auth));const e=await this.getIdToken();return await xa(this,TN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:k,providerData:z,stsTokenManager:Q}=t;Ae(T&&Q,e,"internal-error");const F=Ko.fromJSON(this.name,Q);Ae(typeof T=="string",e,"internal-error"),us(i,e.name),us(a,e.name),Ae(typeof w=="boolean",e,"internal-error"),Ae(typeof k=="boolean",e,"internal-error"),us(l,e.name),us(c,e.name),us(d,e.name),us(p,e.name),us(g,e.name),us(_,e.name);const X=new di({uid:T,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:k,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:F,createdAt:g,lastLoginAt:_});return z&&Array.isArray(z)&&(X.providerData=z.map(ee=>({...ee}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(e,t,i=!1){const a=new Ko;a.updateFromServerResponse(t);const l=new di({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Kf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?GA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Ko;d.updateFromIdToken(i);const p=new di({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Tg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Map;function gr(r){br(r instanceof Function,"Expected a class definition");let e=pT.get(r);return e?(br(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,pT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KA.type="NONE";const gT=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(r,e,t){return`firebase:${r}:${e}:${t}`}class Qo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=If(this.userKey,a.apiKey,l),this.fullPersistenceKey=If("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gf(this.auth,{idToken:e}).catch(()=>{});return t?di._fromGetAccountInfoResponse(this.auth,t,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Qo(gr(gT),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||gr(gT);const c=If(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const w=await Gf(e,{idToken:_}).catch(()=>{});if(!w)break;T=await di._fromGetAccountInfoResponse(e,w,_)}else T=di._fromJSON(e,_);g!==l&&(d=T),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Qo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Qo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WA(e))return"Blackberry";if(ZA(e))return"Webos";if(YA(e))return"Safari";if((e.includes("chrome/")||$A(e))&&!e.includes("edge/"))return"Chrome";if(JA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function QA(r=Ft()){return/firefox\//i.test(r)}function YA(r=Ft()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $A(r=Ft()){return/crios\//i.test(r)}function XA(r=Ft()){return/iemobile/i.test(r)}function JA(r=Ft()){return/android/i.test(r)}function WA(r=Ft()){return/blackberry/i.test(r)}function ZA(r=Ft()){return/webos/i.test(r)}function cy(r=Ft()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function CN(r=Ft()){var e;return cy(r)&&!!((e=window.navigator)!=null&&e.standalone)}function NN(){return H2()&&document.documentMode===10}function ew(r=Ft()){return cy(r)||JA(r)||ZA(r)||WA(r)||/windows phone/i.test(r)||XA(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(r,e=[]){let t;switch(r){case"Browser":t=yT(Ft());break;case"Worker":t=`${yT(Ft())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_l}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(r,e={}){return yi(r,"GET","/v2/passwordPolicy",Ir(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=6;class VN{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??ON,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _T(this),this.idTokenSubscription=new _T(this),this.beforeStateQueue=new DN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gr(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gf(this,{idToken:e}),i=await di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(i=p.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(vr(this));const t=e?mt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kN(this),t=new VN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await xN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&cN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ds(r){return mt(r)}class _T{constructor(e){this.auth=e,this.observer=null,this.addObserver=X2(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PN(r){vd=r}function nw(r){return vd.loadJS(r)}function LN(){return vd.recaptchaEnterpriseScript}function jN(){return vd.gapiScript}function UN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class zN{constructor(){this.enterprise=new BN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class BN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const FN="recaptcha-enterprise",iw="NO_RECAPTCHA";class qN{constructor(e){this.type=FN,this.auth=Ds(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{EN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new vN(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;dT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(iw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&dT(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=LN();p.length!==0&&(p+=d),nw(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function vT(r,e,t,i=!1,a=!1){const l=new qN(r);let c;if(a)c=iw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Qf(r,e,t,i,a){var l;if((l=r._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await vT(r,e,t,t==="getOobCode");return i(r,c)}else return i(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await vT(r,e,t,t==="getOobCode");return i(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r,e){const t=sy(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ia(l,e??{}))return a;mi(a,"already-initialized")}return t.initialize({options:e})}function GN(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(gr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function KN(r,e,t){const i=Ds(r);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=rw(e),{host:c,port:d}=QN(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(Ia(g,i.config.emulator)&&Ia(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,yl(c)?(xA(`${l}//${c}${p}`),CA("Auth",!0)):YN()}function rw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function QN(r){const e=rw(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:ET(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:ET(c)}}}function ET(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function YN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,t){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function $N(r,e){return yi(r,"POST","/v1/accounts:update",e)}async function XN(r,e){return yi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(r,e){return vc(r,"POST","/v1/accounts:signInWithPassword",Ir(r,e))}async function WN(r,e){return yi(r,"POST","/v1/accounts:sendOobCode",Ir(r,e))}async function ZN(r,e){return WN(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(r,e){return vc(r,"POST","/v1/accounts:signInWithEmailLink",Ir(r,e))}async function tD(r,e){return vc(r,"POST","/v1/accounts:signInWithEmailLink",Ir(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends hy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new tc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new tc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,t,"signInWithPassword",JN);case"emailLink":return eD(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,i,"signUpPassword",XN);case"emailLink":return tD(e,{idToken:t,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(r,e){return vc(r,"POST","/v1/accounts:signInWithIdp",Ir(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="http://localhost";class Ca extends hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new Ca(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Yo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Yo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:nD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rD(r){const e=Pu(Lu(r)).link,t=e?Pu(Lu(e)).deep_link_id:null,i=Pu(Lu(r)).deep_link_id;return(i?Pu(Lu(i)).link:null)||i||t||e||r}class fy{constructor(e){const t=Pu(Lu(e)),i=t.apiKey??null,a=t.oobCode??null,l=iD(t.mode??null);Ae(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=rD(e);try{return new fy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,t){return tc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=fy.parseLink(t);return Ae(i,"argument-error"),tc._fromEmailAndCode(e,i.code,i.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends sw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Ec{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ca._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ms.credential(t,i)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Ec{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Ec{constructor(){super("twitter.com")}static credential(e,t){return Ca._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return gs.credential(t,i)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(r,e){return vc(r,"POST","/v1/accounts:signUp",Ir(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await di._fromIdTokenResponse(e,i,a),c=TT(i);return new Na({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=TT(i);return new Na({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function TT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends Sr{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Yf(e,t,i,a)}}function aw(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(r,l,e,i):l})}async function aD(r,e,t=!1){const i=await xa(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Na._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(r,e,t=!1){const{auth:i}=r;if($n(i.app))return Promise.reject(vr(i));const a="reauthenticate";try{const l=await xa(r,aw(i,a,e,r),t);Ae(l.idToken,i,"internal-error");const c=uy(l.idToken);Ae(c,i,"internal-error");const{sub:d}=c;return Ae(r.uid===d,i,"user-mismatch"),Na._forOperation(r,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&mi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(r,e,t=!1){if($n(r.app))return Promise.reject(vr(r));const i="signIn",a=await aw(r,i,e),l=await Na._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}async function lD(r,e){return ow(Ds(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(r){const e=Ds(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uD(r,e,t){const i=Ds(r);await Qf(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ZN)}async function cD(r,e,t){if($n(r.app))return Promise.reject(vr(r));const i=Ds(r),c=await Qf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&lw(r),p}),d=await Na._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function hD(r,e,t){return $n(r.app)?Promise.reject(vr(r)):lD(mt(r),vl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&lw(r),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(r,e){return yi(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=mt(r),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await xa(i,fD(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function TM(r,e){return dD(mt(r),null,e)}async function dD(r,e,t){const{auth:i}=r,l={idToken:await r.getIdToken(),returnSecureToken:!0};t&&(l.password=t);const c=await xa(r,$N(i,l));await r._updateTokensIfNecessary(c,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(r,e){return mt(r).setPersistence(e)}function pD(r,e,t,i){return mt(r).onIdTokenChanged(e,t,i)}function gD(r,e,t){return mt(r).beforeAuthStateChanged(e,t)}function yD(r,e,t,i){return mt(r).onAuthStateChanged(e,t,i)}function uw(r){return mt(r).signOut()}const $f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($f,"1"),this.storage.removeItem($f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=1e3,vD=10;class hw extends cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ew(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);NN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,vD):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},_D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hw.type="LOCAL";const fw=hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dw.type="SESSION";const mw=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Ed(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await ED(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=dy("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function bD(r){Hi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function AD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function SD(){return pw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firebaseLocalStorageDb",ID=1,Xf="firebaseLocalStorage",yw="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Td(r,e){return r.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function RD(){const r=indexedDB.deleteDatabase(gw);return new Tc(r).toPromise()}function bg(){const r=indexedDB.open(gw,ID);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Xf,{keyPath:yw})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Xf)?e(i):(i.close(),await RD(),e(await bg()))})})}async function bT(r,e,t){const i=Td(r,!0).put({[yw]:e,value:t});return new Tc(i).toPromise()}async function xD(r,e){const t=Td(r,!1).get(e),i=await new Tc(t).toPromise();return i===void 0?null:i.value}function AT(r,e){const t=Td(r,!0).delete(e);return new Tc(t).toPromise()}const CD=800,ND=3;class _w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>ND)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(SD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await AD(),!this.activeServiceWorker)return;this.sender=new TD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bg();return await bT(e,$f,"1"),await AT(e,$f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>bT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>xD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>AT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Td(a,!1).getAll();return new Tc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_w.type="LOCAL";const DD=_w;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(r,e){return e?gr(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends hy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function OD(r){return ow(r.auth,new my(r),r.bypassAuthState)}function VD(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),oD(t,new my(r),r.bypassAuthState)}async function MD(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),aD(t,new my(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OD;case"linkViaPopup":case"linkViaRedirect":return MD;case"reauthViaPopup":case"reauthViaRedirect":return VD;default:mi(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new _c(2e3,1e4);class Go extends vw{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PD.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="pendingRedirect",Rf=new Map;class jD extends vw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Rf.get(this.auth._key());if(!e){try{const i=await UD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Rf.set(this.auth._key(),e)}return this.bypassAuthState||Rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UD(r,e){const t=FD(e),i=BD(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function zD(r,e){Rf.set(r._key(),e)}function BD(r){return gr(r._redirectPersistence)}function FD(r){return If(LD,r.config.apiKey,r.name)}async function qD(r,e,t=!1){if($n(r.app))return Promise.reject(vr(r));const i=Ds(r),a=kD(i,e),c=await new jD(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=600*1e3;class GD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Ew(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(qi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HD&&this.cachedEventUids.clear(),this.cachedEventUids.has(wT(e))}saveEventToCache(e){this.cachedEventUids.add(wT(e)),this.lastProcessedEventTime=Date.now()}}function wT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ew({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ew(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(r,e={}){return yi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$D=/^https?/;async function XD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await QD(r);for(const t of e)try{if(JD(t))return}catch{}mi(r,"unauthorized-domain")}function JD(r){const e=Eg(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!$D.test(t))return!1;if(YD.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new _c(3e4,6e4);function ST(){const r=Hi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function ZD(r){return new Promise((e,t)=>{var a,l,c;function i(){ST(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ST(),t(qi(r,"network-request-failed"))},timeout:WD.get()})}if((l=(a=Hi().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Hi().gapi)!=null&&c.load)i();else{const d=UN("iframefcb");return Hi()[d]=()=>{gapi.load?i():t(qi(r,"network-request-failed"))},nw(`${jN()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw xf=null,e})}let xf=null;function ek(r){return xf=xf||ZD(r),xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new _c(5e3,15e3),nk="__/auth/iframe",ik="emulator/auth/iframe",rk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ak(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?ly(e,ik):`https://${r.config.authDomain}/${nk}`,i={apiKey:e.apiKey,appName:r.name,v:_l},a=sk.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${yc(i).slice(1)}`}async function ok(r){const e=await ek(r),t=Hi().gapi;return Ae(t,r,"internal-error"),e.open({where:document.body,url:ak(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rk,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=qi(r,"network-request-failed"),d=Hi().setTimeout(()=>{l(c)},tk.get());function p(){Hi().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uk=500,ck=600,hk="_blank",fk="http://localhost";class IT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dk(r,e,t,i=uk,a=ck){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...lk,width:i.toString(),height:a.toString(),top:l,left:c},g=Ft().toLowerCase();t&&(d=$A(g)?hk:t),QA(g)&&(e=e||fk,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[k,z])=>`${w}${k}=${z},`,"");if(CN(g)&&d!=="_self")return mk(e||"",d),new IT(null);const T=window.open(e||"",d,_);Ae(T,r,"popup-blocked");try{T.focus()}catch{}return new IT(T)}function mk(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="__/auth/handler",gk="emulator/auth/handler",yk=encodeURIComponent("fac");async function RT(r,e,t,i,a,l){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:_l,eventId:a};if(e instanceof sw){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",$2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof Ec){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await r._getAppCheckToken(),g=p?`#${yk}=${encodeURIComponent(p)}`:"";return`${_k(r)}?${yc(d).slice(1)}${g}`}function _k({config:r}){return r.emulator?ly(r,gk):`https://${r.authDomain}/${pk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="webStorageSupport";class vk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mw,this._completeRedirectFn=qD,this._overrideRedirectResult=zD}async _openPopup(e,t,i,a){var c;br((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await RT(e,t,i,Eg(),a);return dk(e,l,dy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await RT(e,t,i,Eg(),a);return bD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(br(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ok(e),i=new GD(e);return t.register("authEvent",a=>(Ae(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ng,{type:ng},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[ng];l!==void 0&&t(!!l),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ew()||YA()||cy()}}const Ek=vk;var xT="@firebase/auth",CT="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ak(r){Wo(new Ra("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tw(r)},g=new MN(i,a,l,p);return GN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Wo(new Ra("auth-internal",e=>{const t=Ds(e.getProvider("auth").getImmediate());return(i=>new Tk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(xT,CT,bk(r)),Ts(xT,CT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=300,Sk=RA("authIdTokenMaxAge")||wk;let NT=null;const Ik=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Sk)return;const a=t==null?void 0:t.token;NT!==a&&(NT=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Tw(r=PA()){const e=sy(r,"auth");if(e.isInitialized())return e.getImmediate();const t=HN(r,{popupRedirectResolver:Ek,persistence:[DD,fw,mw]}),i=RA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Ik(l.toString());gD(t,c,()=>c(t.currentUser)),pD(t,d=>c(d))}}const a=SA("auth");return a&&KN(t,`http://${a}`),t}function Rk(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}PN({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=qi("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",Rk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ak("Browser");var DT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,bw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function x(){}x.prototype=I.prototype,R.F=I.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(M,D,P){for(var C=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)C[lt-2]=arguments[lt];return I.prototype[D].apply(M,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,I,x){x||(x=0);const M=Array(16);if(typeof I=="string")for(var D=0;D<16;++D)M[D]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(D=0;D<16;++D)M[D]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=R.g[0],x=R.g[1],D=R.g[2];let P=R.g[3],C;C=I+(P^x&(D^P))+M[0]+3614090360&4294967295,I=x+(C<<7&4294967295|C>>>25),C=P+(D^I&(x^D))+M[1]+3905402710&4294967295,P=I+(C<<12&4294967295|C>>>20),C=D+(x^P&(I^x))+M[2]+606105819&4294967295,D=P+(C<<17&4294967295|C>>>15),C=x+(I^D&(P^I))+M[3]+3250441966&4294967295,x=D+(C<<22&4294967295|C>>>10),C=I+(P^x&(D^P))+M[4]+4118548399&4294967295,I=x+(C<<7&4294967295|C>>>25),C=P+(D^I&(x^D))+M[5]+1200080426&4294967295,P=I+(C<<12&4294967295|C>>>20),C=D+(x^P&(I^x))+M[6]+2821735955&4294967295,D=P+(C<<17&4294967295|C>>>15),C=x+(I^D&(P^I))+M[7]+4249261313&4294967295,x=D+(C<<22&4294967295|C>>>10),C=I+(P^x&(D^P))+M[8]+1770035416&4294967295,I=x+(C<<7&4294967295|C>>>25),C=P+(D^I&(x^D))+M[9]+2336552879&4294967295,P=I+(C<<12&4294967295|C>>>20),C=D+(x^P&(I^x))+M[10]+4294925233&4294967295,D=P+(C<<17&4294967295|C>>>15),C=x+(I^D&(P^I))+M[11]+2304563134&4294967295,x=D+(C<<22&4294967295|C>>>10),C=I+(P^x&(D^P))+M[12]+1804603682&4294967295,I=x+(C<<7&4294967295|C>>>25),C=P+(D^I&(x^D))+M[13]+4254626195&4294967295,P=I+(C<<12&4294967295|C>>>20),C=D+(x^P&(I^x))+M[14]+2792965006&4294967295,D=P+(C<<17&4294967295|C>>>15),C=x+(I^D&(P^I))+M[15]+1236535329&4294967295,x=D+(C<<22&4294967295|C>>>10),C=I+(D^P&(x^D))+M[1]+4129170786&4294967295,I=x+(C<<5&4294967295|C>>>27),C=P+(x^D&(I^x))+M[6]+3225465664&4294967295,P=I+(C<<9&4294967295|C>>>23),C=D+(I^x&(P^I))+M[11]+643717713&4294967295,D=P+(C<<14&4294967295|C>>>18),C=x+(P^I&(D^P))+M[0]+3921069994&4294967295,x=D+(C<<20&4294967295|C>>>12),C=I+(D^P&(x^D))+M[5]+3593408605&4294967295,I=x+(C<<5&4294967295|C>>>27),C=P+(x^D&(I^x))+M[10]+38016083&4294967295,P=I+(C<<9&4294967295|C>>>23),C=D+(I^x&(P^I))+M[15]+3634488961&4294967295,D=P+(C<<14&4294967295|C>>>18),C=x+(P^I&(D^P))+M[4]+3889429448&4294967295,x=D+(C<<20&4294967295|C>>>12),C=I+(D^P&(x^D))+M[9]+568446438&4294967295,I=x+(C<<5&4294967295|C>>>27),C=P+(x^D&(I^x))+M[14]+3275163606&4294967295,P=I+(C<<9&4294967295|C>>>23),C=D+(I^x&(P^I))+M[3]+4107603335&4294967295,D=P+(C<<14&4294967295|C>>>18),C=x+(P^I&(D^P))+M[8]+1163531501&4294967295,x=D+(C<<20&4294967295|C>>>12),C=I+(D^P&(x^D))+M[13]+2850285829&4294967295,I=x+(C<<5&4294967295|C>>>27),C=P+(x^D&(I^x))+M[2]+4243563512&4294967295,P=I+(C<<9&4294967295|C>>>23),C=D+(I^x&(P^I))+M[7]+1735328473&4294967295,D=P+(C<<14&4294967295|C>>>18),C=x+(P^I&(D^P))+M[12]+2368359562&4294967295,x=D+(C<<20&4294967295|C>>>12),C=I+(x^D^P)+M[5]+4294588738&4294967295,I=x+(C<<4&4294967295|C>>>28),C=P+(I^x^D)+M[8]+2272392833&4294967295,P=I+(C<<11&4294967295|C>>>21),C=D+(P^I^x)+M[11]+1839030562&4294967295,D=P+(C<<16&4294967295|C>>>16),C=x+(D^P^I)+M[14]+4259657740&4294967295,x=D+(C<<23&4294967295|C>>>9),C=I+(x^D^P)+M[1]+2763975236&4294967295,I=x+(C<<4&4294967295|C>>>28),C=P+(I^x^D)+M[4]+1272893353&4294967295,P=I+(C<<11&4294967295|C>>>21),C=D+(P^I^x)+M[7]+4139469664&4294967295,D=P+(C<<16&4294967295|C>>>16),C=x+(D^P^I)+M[10]+3200236656&4294967295,x=D+(C<<23&4294967295|C>>>9),C=I+(x^D^P)+M[13]+681279174&4294967295,I=x+(C<<4&4294967295|C>>>28),C=P+(I^x^D)+M[0]+3936430074&4294967295,P=I+(C<<11&4294967295|C>>>21),C=D+(P^I^x)+M[3]+3572445317&4294967295,D=P+(C<<16&4294967295|C>>>16),C=x+(D^P^I)+M[6]+76029189&4294967295,x=D+(C<<23&4294967295|C>>>9),C=I+(x^D^P)+M[9]+3654602809&4294967295,I=x+(C<<4&4294967295|C>>>28),C=P+(I^x^D)+M[12]+3873151461&4294967295,P=I+(C<<11&4294967295|C>>>21),C=D+(P^I^x)+M[15]+530742520&4294967295,D=P+(C<<16&4294967295|C>>>16),C=x+(D^P^I)+M[2]+3299628645&4294967295,x=D+(C<<23&4294967295|C>>>9),C=I+(D^(x|~P))+M[0]+4096336452&4294967295,I=x+(C<<6&4294967295|C>>>26),C=P+(x^(I|~D))+M[7]+1126891415&4294967295,P=I+(C<<10&4294967295|C>>>22),C=D+(I^(P|~x))+M[14]+2878612391&4294967295,D=P+(C<<15&4294967295|C>>>17),C=x+(P^(D|~I))+M[5]+4237533241&4294967295,x=D+(C<<21&4294967295|C>>>11),C=I+(D^(x|~P))+M[12]+1700485571&4294967295,I=x+(C<<6&4294967295|C>>>26),C=P+(x^(I|~D))+M[3]+2399980690&4294967295,P=I+(C<<10&4294967295|C>>>22),C=D+(I^(P|~x))+M[10]+4293915773&4294967295,D=P+(C<<15&4294967295|C>>>17),C=x+(P^(D|~I))+M[1]+2240044497&4294967295,x=D+(C<<21&4294967295|C>>>11),C=I+(D^(x|~P))+M[8]+1873313359&4294967295,I=x+(C<<6&4294967295|C>>>26),C=P+(x^(I|~D))+M[15]+4264355552&4294967295,P=I+(C<<10&4294967295|C>>>22),C=D+(I^(P|~x))+M[6]+2734768916&4294967295,D=P+(C<<15&4294967295|C>>>17),C=x+(P^(D|~I))+M[13]+1309151649&4294967295,x=D+(C<<21&4294967295|C>>>11),C=I+(D^(x|~P))+M[4]+4149444226&4294967295,I=x+(C<<6&4294967295|C>>>26),C=P+(x^(I|~D))+M[11]+3174756917&4294967295,P=I+(C<<10&4294967295|C>>>22),C=D+(I^(P|~x))+M[2]+718787259&4294967295,D=P+(C<<15&4294967295|C>>>17),C=x+(P^(D|~I))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+P&4294967295}i.prototype.v=function(R,I){I===void 0&&(I=R.length);const x=I-this.blockSize,M=this.C;let D=this.h,P=0;for(;P<I;){if(D==0)for(;P<=x;)a(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<I;)if(M[D++]=R.charCodeAt(P++),D==this.blockSize){a(this,M),D=0;break}}else for(;P<I;)if(M[D++]=R[P++],D==this.blockSize){a(this,M),D=0;break}}this.h=D,this.o+=I},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)R[I++]=this.g[x]>>>M&255;return R};function l(R,I){var x=d;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=I(R)}function c(R,I){this.h=I;const x=[];let M=!0;for(let D=R.length-1;D>=0;D--){const P=R[D]|0;M&&P==I||(x[D]=P,M=!1)}this.g=x}var d={};function p(R){return-128<=R&&R<128?l(R,function(I){return new c([I|0],I<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return F(g(-R));const I=[];let x=1;for(let M=0;R>=x;M++)I[M]=R/x|0,x*=4294967296;return new c(I,0)}function _(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return F(_(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(I,8));let M=T;for(let P=0;P<R.length;P+=8){var D=Math.min(8,R.length-P);const C=parseInt(R.substring(P,P+D),I);D<8?(D=g(Math.pow(I,D)),M=M.j(D).add(g(C))):(M=M.j(x),M=M.add(g(C)))}return M}var T=p(0),w=p(1),k=p(16777216);r=c.prototype,r.m=function(){if(Q(this))return-F(this).m();let R=0,I=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);R+=(M>=0?M:4294967296+M)*I,I*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(z(this))return"0";if(Q(this))return"-"+F(this).toString(R);const I=g(Math.pow(R,6));var x=this;let M="";for(;;){const D=de(x,I).g;x=X(x,D.j(I));let P=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=D,z(x))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function z(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function Q(R){return R.h==-1}r.l=function(R){return R=X(this,R),Q(R)?-1:z(R)?0:1};function F(R){const I=R.g.length,x=[];for(let M=0;M<I;M++)x[M]=~R.g[M];return new c(x,~R.h).add(w)}r.abs=function(){return Q(this)?F(this):this},r.add=function(R){const I=Math.max(this.g.length,R.g.length),x=[];let M=0;for(let D=0;D<=I;D++){let P=M+(this.i(D)&65535)+(R.i(D)&65535),C=(P>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);M=C>>>16,P&=65535,C&=65535,x[D]=C<<16|P}return new c(x,x[x.length-1]&-2147483648?-1:0)};function X(R,I){return R.add(F(I))}r.j=function(R){if(z(this)||z(R))return T;if(Q(this))return Q(R)?F(this).j(F(R)):F(F(this).j(R));if(Q(R))return F(this.j(F(R)));if(this.l(k)<0&&R.l(k)<0)return g(this.m()*R.m());const I=this.g.length+R.g.length,x=[];for(var M=0;M<2*I;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<R.g.length;D++){const P=this.i(M)>>>16,C=this.i(M)&65535,lt=R.i(D)>>>16,Lt=R.i(D)&65535;x[2*M+2*D]+=C*Lt,ee(x,2*M+2*D),x[2*M+2*D+1]+=P*Lt,ee(x,2*M+2*D+1),x[2*M+2*D+1]+=C*lt,ee(x,2*M+2*D+1),x[2*M+2*D+2]+=P*lt,ee(x,2*M+2*D+2)}for(R=0;R<I;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=I;R<2*I;R++)x[R]=0;return new c(x,0)};function ee(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function U(R,I){this.g=R,this.h=I}function de(R,I){if(z(I))throw Error("division by zero");if(z(R))return new U(T,T);if(Q(R))return I=de(F(R),I),new U(F(I.g),F(I.h));if(Q(I))return I=de(R,F(I)),new U(F(I.g),I.h);if(R.g.length>30){if(Q(R)||Q(I))throw Error("slowDivide_ only works with positive integers.");for(var x=w,M=I;M.l(R)<=0;)x=ge(x),M=ge(M);var D=me(x,1),P=me(M,1);for(M=me(M,2),x=me(x,2);!z(M);){var C=P.add(M);C.l(R)<=0&&(D=D.add(x),P=C),M=me(M,1),x=me(x,1)}return I=X(R,D.j(I)),new U(D,I)}for(D=T;R.l(I)>=0;){for(x=Math.max(1,Math.floor(R.m()/I.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=g(x),C=P.j(I);Q(C)||C.l(R)>0;)x-=M,P=g(x),C=P.j(I);z(P)&&(P=w),D=D.add(P),R=X(R,C)}return new U(D,R)}r.B=function(R){return de(this,R).h},r.and=function(R){const I=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<I;M++)x[M]=this.i(M)&R.i(M);return new c(x,this.h&R.h)},r.or=function(R){const I=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<I;M++)x[M]=this.i(M)|R.i(M);return new c(x,this.h|R.h)},r.xor=function(R){const I=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<I;M++)x[M]=this.i(M)^R.i(M);return new c(x,this.h^R.h)};function ge(R){const I=R.g.length+1,x=[];for(let M=0;M<I;M++)x[M]=R.i(M)<<1|R.i(M-1)>>>31;return new c(x,R.h)}function me(R,I){const x=I>>5;I%=32;const M=R.g.length-x,D=[];for(let P=0;P<M;P++)D[P]=I>0?R.i(P+x)>>>I|R.i(P+x+1)<<32-I:R.i(P+x);return new c(D,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,bw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,bs=c}).apply(typeof DT<"u"?DT:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Aw,ju,ww,Cf,Ag,Sw,Iw,Rw;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var E=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var B=h[S];if(!(B in E))break e;E=E[B]}h=h[h.length-1],S=E[h],y=y(S),y!=S&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var E=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&E.push([S,y[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(S,B,Y){for(var ae=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ae[xe-2]=arguments[xe];return y.prototype[B].apply(S,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function k(h){const y=h.length;if(y>0){const E=Array(y);for(let S=0;S<y;S++)E[S]=h[S];return E}return[]}function z(h,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=h.length||0;const Y=B.length||0;h.length=E+Y;for(let ae=0;ae<Y;ae++)h[E+ae]=B[ae]}else h.push(B)}}class Q{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(h){c.setTimeout(()=>{throw h},0)}function X(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ee{constructor(){this.h=this.g=null}add(y,E){const S=U.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var U=new Q(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,me=!1,R=new ee,I=()=>{const h=Promise.resolve(void 0);ge=()=>{h.then(x)}};function x(){for(var h;h=X();){try{h.h.call(h.g)}catch(E){F(E)}var y=U;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}me=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function lt(h,y){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(lt,D),lt.prototype.init=function(h,y){const E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Lt="closure_listenable_"+(Math.random()*1e6|0),Z=0;function le(h,y,E,S,B){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=B,this.key=++Z,this.da=this.fa=!1}function Ee(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Fe(h,y,E){for(const S in h)y.call(E,h[S],S,h)}function Ye(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function V(h){const y={};for(const E in h)y[E]=h[E];return y}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,y){let E,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(E in S)h[E]=S[E];for(let Y=0;Y<ie.length;Y++)E=ie[Y],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,y,E,S,B){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const ae=Ne(h,y,S,B);return ae>-1?(y=h[ae],E||(y.fa=!1)):(y=new le(y,this.src,Y,!!S,B),y.fa=E,h.push(y)),y};function we(h,y){const E=y.type;if(E in h.g){var S=h.g[E],B=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=B>=0)&&Array.prototype.splice.call(S,B,1),Y&&(Ee(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ne(h,y,E,S){for(let B=0;B<h.length;++B){const Y=h[B];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==S)return B}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),jt={};function ut(h,y,E,S,B){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)ut(h,y[Y],E,S,B);return null}return E=Il(E),h&&h[Lt]?h.J(y,E,d(S)?!!S.capture:!1,B):Vs(h,y,E,!1,S,B)}function Vs(h,y,E,S,B,Y){if(!y)throw Error("Invalid event type");const ae=d(B)?!!B.capture:!!B;let xe=Ms(h);if(xe||(h[ze]=xe=new ce(h)),E=xe.add(y,E,S,ae,Y),E.proxy)return E;if(S=qa(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)P||(B=ae),B===void 0&&(B=!1),h.addEventListener(y.toString(),S,B);else if(h.attachEvent)h.attachEvent(_i(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qa(){function h(E){return y.call(h.src,h.listener,E)}const y=wl;return h}function Ha(h,y,E,S,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Ha(h,y[Y],E,S,B);else S=d(S)?!!S.capture:!!S,E=Il(E),h&&h[Lt]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],E=Ne(y,E,S,B),E>-1&&(Ee(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Ms(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ne(y,E,S,B)),(E=h>-1?y[h]:null)&&Ga(E))}function Ga(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Lt])we(y.i,h);else{var E=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(E,S,h.capture):y.detachEvent?y.detachEvent(_i(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=Ms(y))?(we(E,h),E.h==0&&(E.src=null,y[ze]=null)):Ee(h)}}}function _i(h){return h in jt?jt[h]:jt[h]="on"+h}function wl(h,y){if(h.da)h=!0;else{y=new lt(y,this);const E=h.listener,S=h.ha||h.src;h.fa&&Ga(h),h=E.call(S,y)}return h}function Ms(h){return h=h[ze],h instanceof ce?h:null}var Sl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Il(h){return typeof h=="function"?h:(h[Sl]||(h[Sl]=function(y){return h.handleEvent(y)}),h[Sl])}function St(){M.call(this),this.i=new ce(this),this.M=this,this.G=null}T(St,M),St.prototype[Lt]=!0,St.prototype.removeEventListener=function(h,y,E,S){Ha(this,h,y,E,S)};function Ut(h,y){var E,S=h.G;if(S)for(E=[];S;S=S.G)E.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new D(y,h);else if(y instanceof D)y.target=y.target||h;else{var B=y;y=new D(S,h),ue(y,B)}B=!0;let Y,ae;if(E)for(ae=E.length-1;ae>=0;ae--)Y=y.g=E[ae],B=Nr(Y,S,!0,y)&&B;if(Y=y.g=h,B=Nr(Y,S,!0,y)&&B,B=Nr(Y,S,!1,y)&&B,E)for(ae=0;ae<E.length;ae++)Y=y.g=E[ae],B=Nr(Y,S,!1,y)&&B}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let S=0;S<E.length;S++)Ee(E[S]);delete h.g[y],h.h--}}this.G=null},St.prototype.J=function(h,y,E,S){return this.i.add(String(h),y,!1,E,S)},St.prototype.K=function(h,y,E,S){return this.i.add(String(h),y,!0,E,S)};function Nr(h,y,E,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let Y=0;Y<y.length;++Y){const ae=y[Y];if(ae&&!ae.da&&ae.capture==E){const xe=ae.listener,bt=ae.ha||ae.src;ae.fa&&we(h.i,ae),B=xe.call(bt,S)!==!1&&B}}return B&&!S.defaultPrevented}function qd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function jc(h){h.g=qd(()=>{h.g=null,h.i&&(h.i=!1,jc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class un extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:jc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(h){M.call(this),this.h=h,this.g={}}T(Ps,M);var Rl=[];function xl(h){Fe(h.g,function(y,E){this.g.hasOwnProperty(E)&&Ga(y)},h),h.g={}}Ps.prototype.N=function(){Ps.Z.N.call(this),xl(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dr=c.JSON.stringify,Hd=c.JSON.parse,Uc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function zc(){}function Bc(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){D.call(this,"d")}T(Yt,D);function Pn(){D.call(this,"c")}T(Pn,D);var Tt={},Fc=null;function Ka(){return Fc=Fc||new St}Tt.Ia="serverreachability";function qc(h){D.call(this,Tt.Ia,h)}T(qc,D);function vi(h){const y=Ka();Ut(y,new qc(y))}Tt.STAT_EVENT="statevent";function Ls(h,y){D.call(this,Tt.STAT_EVENT,h),this.stat=y}T(Ls,D);function It(h){const y=Ka();Ut(y,new Ls(y,h))}Tt.Ja="timingevent";function Ei(h,y){D.call(this,Tt.Ja,h),this.size=y}T(Ei,D);function Ti(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Gd(h,y,E,S,B,Y){h.info(function(){if(h.g)if(Y){var ae="",xe=Y.split("&");for(let Ge=0;Ge<xe.length;Ge++){var bt=xe[Ge].split("=");if(bt.length>1){const ct=bt[0];bt=bt[1];const zn=ct.split("_");ae=zn.length>=2&&zn[1]=="type"?ae+(ct+"="+bt+"&"):ae+(ct+"=redacted&")}}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+E+`
`+ae})}function Hc(h,y,E,S,B,Y,ae){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+E+`
`+Y+" "+ae})}function bi(h,y,E,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Kd(h,E)+(S?" "+S:"")})}function js(h,y){h.info(function(){return"TIMEOUT: "+y})}ei.prototype.info=function(){};function Kd(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ae=1;ae<S.length;ae++)S[ae]=""}}}}return Dr(Y)}catch{return y}}var Us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nl;function zs(){}T(zs,zc),zs.prototype.g=function(){return new XMLHttpRequest},Nl=new zs;function Xi(h){return encodeURIComponent(String(h))}function Gc(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function ti(h,y,E,S){this.j=h,this.i=y,this.l=E,this.S=S||1,this.V=new Ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Rt={},Ht={};function Ai(h,y,E){h.M=1,h.A=Bs(Ct(y)),h.u=E,h.R=!0,Qa(h,null)}function Qa(h,y){h.F=Date.now(),wi(h),h.B=Ct(h.A);var E=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Ja(E.i,"t",S),h.C=0,E=h.j.L,h.h=new ni,h.g=ah(h.j,E?y:null,!h.u),h.P>0&&(h.O=new un(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,S=h.ba;var B="readystatechange";Array.isArray(B)||(B&&(Rl[0]=B.toString()),B=Rl);for(let Y=0;Y<B.length;Y++){const ae=ut(E,B[Y],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),vi(),Gd(h.i,h.v,h.B,h.l,h.S,h.u)}ti.prototype.ba=function(h){h=h.target;const y=this.O;y&&si(h)==3?y.j():this.Y(h)},ti.prototype.Y=function(h){try{if(h==this.g)e:{const xe=si(this.g),bt=this.g.ya(),Ge=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||xe!=4||bt==7||(bt==8||Ge<=0?vi(3):vi(2)),Si(this);var y=this.g.ca();this.X=y;var E=Qd(this);if(this.o=y==200,Hc(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var Y=S;break t}}Y=null}if(h=Y)bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,h);else{this.o=!1,this.m=3,It(12),bn(this),Ln(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=Qc(this,E),ct==Ht){xe==4&&(this.m=4,It(14),h=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Rt){this.m=4,It(15),bi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else bi(this.i,this.l,ct,null),Ii(this,ct);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||E.length!=0||this.h.h||(this.m=1,It(16),h=!1),this.o=this.o&&h,!h)bi(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),Ln(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Gl(ae),ae.P=!0,It(11))}}else bi(this.i,this.l,E,null),Ii(this,E);xe==4&&bn(this),this.o&&!this.K&&(xe==4?nh(this.j,this):(this.o=!1,wi(this)))}else Wi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),bn(this),Ln(this)}}}catch{}finally{}};function Qd(h){if(!Kc(h))return h.g.la();const y=$t(h.g);if(y==="")return"";let E="";const S=y.length,B=si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Ln(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<S;Y++)h.h.h=!0,E+=h.h.i.decode(y[Y],{stream:!(B&&Y==S-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Kc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Qc(h,y){var E=h.C,S=y.indexOf(`
`,E);return S==-1?Ht:(E=Number(y.substring(E,S)),isNaN(E)?Rt:(S+=1,S+E>y.length?Ht:(y=y.slice(S,S+E),h.C=S+E,y)))}ti.prototype.cancel=function(){this.K=!0,bn(this)};function wi(h){h.T=Date.now()+h.H,Ya(h,h.H)}function Ya(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ti(g(h.aa,h),y)}function Si(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ti.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(js(this.i,this.B),this.M!=2&&(vi(),It(17)),bn(this),this.m=2,Ln(this)):Ya(this,this.T-h)};function Ln(h){h.j.I==0||h.K||nh(h.j,h)}function bn(h){Si(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,xl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ii(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||xi(E.h,h))){if(!h.L&&xi(E.h,h)&&E.I==3){try{var S=E.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)no(E),Ur(E);else break e;Ys(E),It(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ti(g(E.Va,E),6e3));Ri(E.h)<=1&&E.ta&&(E.ta=void 0)}else Vi(E,11)}else if((h.L||E.g==h)&&no(E),!C(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Ge=B[y];const ct=Ge[0];if(!(ct<=E.K))if(E.K=ct,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const zn=Ge[3];zn!=null&&(E.ka=zn,E.j.info("VER="+E.ka));const Mi=Ge[4];Mi!=null&&(E.za=Mi,E.j.info("SVER="+E.za));const ai=Ge[5];ai!=null&&typeof ai=="number"&&ai>0&&(S=1.5*ai,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const oi=h.g;if(oi){const $s=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var Y=S.h;Y.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ol(Y,Y.h),Y.h=null))}if(S.G){const io=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(S.wa=io,$e(S.J,S.G,io))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ae=h;if(S.na=sh(S,S.L?S.ba:null,S.W),ae.L){Vl(S.h,ae);var xe=ae,bt=S.O;bt&&(xe.H=bt),xe.D&&(Si(xe),wi(xe)),S.g=ae}else eh(S);E.i.length>0&&Oi(E)}else Ge[0]!="stop"&&Ge[0]!="close"||Vi(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Vi(E,7):ql(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}vi(4)}catch{}}var xt=class{constructor(h,y){this.g=h,this.map=y}};function Dl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ri(h){return h.h?1:h.g?h.g.size:0}function xi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ol(h,y){h.g?h.g.add(y):h.h=y}function Vl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Dl.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ml(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return k(h.i)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const S=h[E].indexOf("=");let B,Y=null;S>=0?(B=h[E].substring(0,S),Y=h[E].substring(S+1)):B=h[E],y(B,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof An?(this.l=h.l,Gt(this,h.j),this.o=h.o,this.g=h.g,kr(this,h.u),this.h=h.h,Pl(this,Wc(h.i)),this.m=h.m):h&&(y=String(h).match(Yc))?(this.l=!1,Gt(this,y[1]||"",!0),this.o=Ci(y[2]||""),this.g=Ci(y[3]||"",!0),kr(this,y[4]),this.h=Ci(y[5]||"",!0),Pl(this,y[6]||"",!0),this.m=Ci(y[7]||"")):(this.l=!1,this.i=new Vr(null,this.l))}An.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Fs(y,Xa,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Fs(y,Xa,!0),"@"),h.push(Xi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Fs(E,E.charAt(0)=="/"?Ll:$c,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Fs(E,Xc)),h.join("")},An.prototype.resolve=function(h){const y=Ct(this);let E=!!h.j;E?Gt(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var S=h.h;if(E)kr(y,h.u);else if(E=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const Y=[];for(let ae=0;ae<B.length;){const xe=B[ae++];xe=="."?S&&ae==B.length&&Y.push(""):xe==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&ae==B.length&&Y.push("")):(Y.push(xe),S=!0)}S=Y.join("/")}else S=B}return E?y.h=S:E=h.i.toString()!=="",E?Pl(y,Wc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Ct(h){return new An(h)}function Gt(h,y,E){h.j=E?Ci(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function kr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Pl(h,y,E){y instanceof Vr?(h.i=y,Wa(h.i,h.l)):(E||(y=Fs(y,Or)),h.i=new Vr(y,h.l))}function $e(h,y,E){h.i.set(y,E)}function Bs(h){return $e(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ci(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Fs(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,mn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xa=/[#\/\?@]/g,$c=/[#\?:]/g,Ll=/[#\?]/g,Or=/[#\?@]/g,Xc=/#/g;function Vr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&$a(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Vr.prototype,r.add=function(h,y){pn(this),this.i=null,h=Mr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Jc(h,y){pn(h),y=Mr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function jl(h,y){return pn(h),y=Mr(h,y),h.g.has(y)}r.forEach=function(h,y){pn(this),this.g.forEach(function(E,S){E.forEach(function(B){h.call(y,B,S,this)},this)},this)};function Ul(h,y){pn(h);let E=[];if(typeof y=="string")jl(h,y)&&(E=E.concat(h.g.get(Mr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}r.set=function(h,y){return pn(this),this.i=null,h=Mr(this,h),jl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=Ul(this,h),h.length>0?String(h[0]):y):y};function Ja(h,y,E){Jc(h,y),E.length>0&&(h.i=null,h.g.set(Mr(h,y),k(E)),h.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var E=y[S];const B=Xi(E);E=Ul(this,E);for(let Y=0;Y<E.length;Y++){let ae=B;E[Y]!==""&&(ae+="="+Xi(E[Y])),h.push(ae)}}return this.i=h.join("&")};function Wc(h){const y=new Vr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Mr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Wa(h,y){y&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(E,S){const B=S.toLowerCase();S!=B&&(Jc(this,S),Ja(this,B,E))},h)),h.j=y}function ii(h,y){const E=new ei;if(c.Image){const S=new Image;S.onload=_(jn,E,"TestLoadImage: loaded",!0,y,S),S.onerror=_(jn,E,"TestLoadImage: error",!1,y,S),S.onabort=_(jn,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=_(jn,E,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function zl(h,y){const E=new ei,S=new AbortController,B=setTimeout(()=>{S.abort(),jn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(Y=>{clearTimeout(B),Y.ok?jn(E,"TestPingServer: ok",!0,y):jn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),jn(E,"TestPingServer: error",!1,y)})}function jn(h,y,E,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(E)}catch{}}function Pr(){this.g=new Uc}function Ni(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ni,zc),Ni.prototype.g=function(){return new qs(this.i,this.h)};function qs(h,y){St.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(qs,St),r=qs.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ri(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Za(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Za(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Lr(this):ri(this),this.readyState==3&&Za(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Lr(this))},r.Na=function(h){this.g&&(this.response=h,Lr(this))},r.ga=function(){this.g&&Lr(this)};function Lr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ri(h)}r.setRequestHeader=function(h,y){this.A.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Un(h){let y="";return Fe(h,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function Hs(h,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Un(E),typeof h=="string"?E!=null&&Xi(E):$e(h,y,E))}function tt(h){St.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(tt,St);var Di=/^https?$/i,Bl=["POST","PUT"];r=tt.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nl.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Gs(this,Y);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)E.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())E.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Bl,y,void 0)>=0)||S||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of E)this.g.setRequestHeader(Y,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Gs(this,Y)}};function Gs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Fl(h),Ji(h)}function Fl(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ut(this,"complete"),Ut(this,"abort"),Ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ks(this):this.Xa())},r.Xa=function(){Ks(this)};function Ks(h){if(h.h&&typeof l<"u"){if(h.v&&si(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ut(h,"readystatechange"),si(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=Y===0){let ae=String(h.D).match(Yc)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),S=!Di.test(ae?ae.toLowerCase():"")}E=S}if(E)Ut(h,"complete"),Ut(h,"success");else{h.o=6;try{var B=si(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",Fl(h)}}finally{Ji(h)}}}}function Ji(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Ut(h,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}r.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Hd(y)}};function $t(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(h){const y={};h=(h.g&&si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(C(h[S]))continue;var E=Gc(h[S]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[B]||[];y[B]=Y,Y.push(E)}Ye(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function jr(h){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,h),this.Za=ki("retryDelaySeedMs",1e4,h),this.Ta=ki("forwardChannelMaxRetries",2,h),this.va=ki("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(h&&h.concurrentRequestLimit),this.Ba=new Pr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=jr.prototype,r.ka=8,r.I=1,r.connect=function(h,y,E,S){It(0),this.W=h,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=sh(this,null,this.W),Oi(this)};function ql(h){if(eo(h),h.I==3){var y=h.V++,E=Ct(h.J);if($e(E,"SID",h.M),$e(E,"RID",y),$e(E,"TYPE","terminate"),Qs(h,E),y=new ti(h,h.j,y),y.M=2,y.A=Bs(Ct(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=ah(y.j,null),y.g.ea(y.A)),y.F=Date.now(),wi(y)}rh(h)}function Ur(h){h.g&&(Gl(h),h.g.cancel(),h.g=null)}function eo(h){Ur(h),h.v&&(c.clearTimeout(h.v),h.v=null),no(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Oi(h){if(!kl(h.h)&&!h.m){h.m=!0;var y=h.Ea;ge||I(),me||(ge(),me=!0),R.add(y,h),h.D=0}}function to(h,y){return Ri(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ti(g(h.Ea,h,y),ih(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new ti(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=V(Y),ue(Y,this.U)):Y=this.U),this.u!==null||this.R||(B.J=Y,Y=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Zc(this,B,y),E=Ct(this.J),$e(E,"RID",h),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),Qs(this,E),Y&&(this.R?y="headers="+Xi(Un(Y))+"&"+y:this.u&&Hs(E,this.u,Y)),Ol(this.h,B),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",y),$e(E,"SID","null"),B.U=!0,Ai(B,E,null)):Ai(B,E,y),this.I=2}}else this.I==3&&(h?Hl(this,h):this.i.length==0||kl(this.h)||Hl(this))};function Hl(h,y){var E;y?E=y.l:E=h.V++;const S=Ct(h.J);$e(S,"SID",h.M),$e(S,"RID",E),$e(S,"AID",h.K),Qs(h,S),h.u&&h.o&&Hs(S,h.u,h.o),E=new ti(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Zc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ol(h.h,E),Ai(E,S,y)}function Qs(h,y){h.H&&Fe(h.H,function(E,S){$e(y,S,E)}),h.l&&Fe({},function(E,S){$e(y,S,E)})}function Zc(h,y,E){E=Math.min(h.i.length,E);const S=h.l?g(h.l.Ka,h.l,h):null;e:{var B=h.i;let xe=-1;for(;;){const bt=["count="+E];xe==-1?E>0?(xe=B[0].g,bt.push("ofs="+xe)):xe=0:bt.push("ofs="+xe);let Ge=!0;for(let ct=0;ct<E;ct++){var Y=B[ct].g;const zn=B[ct].map;if(Y-=xe,Y<0)xe=Math.max(0,B[ct].g-100),Ge=!1;else try{Y="req"+Y+"_"||"";try{var ae=zn instanceof Map?zn:Object.entries(zn);for(const[Mi,ai]of ae){let oi=ai;d(ai)&&(oi=Dr(ai)),bt.push(Y+Mi+"="+encodeURIComponent(oi))}}catch(Mi){throw bt.push(Y+"type="+encodeURIComponent("_badmap")),Mi}}catch{S&&S(zn)}}if(Ge){ae=bt.join("&");break e}}ae=void 0}return h=h.i.splice(0,E),y.G=h,ae}function eh(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ge||I(),me||(ge(),me=!0),R.add(y,h),h.A=0}}function Ys(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ti(g(h.Da,h),ih(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,th(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ti(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ur(this),th(this))};function Gl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function th(h){h.g=new ti(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ct(h.na);$e(y,"RID","rpc"),$e(y,"SID",h.M),$e(y,"AID",h.K),$e(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&$e(y,"TO",h.ia),$e(y,"TYPE","xmlhttp"),Qs(h,y),h.u&&h.o&&Hs(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Bs(Ct(y)),E.u=null,E.R=!0,Qa(E,h)}r.Va=function(){this.C!=null&&(this.C=null,Ur(this),Ys(this),It(19))};function no(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function nh(h,y){var E=null;if(h.g==y){no(h),Gl(h),h.g=null;var S=2}else if(xi(h.h,y))E=y.G,Vl(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=h.D;S=Ka(),Ut(S,new Ei(S,E)),Oi(h)}else eh(h);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&to(h,y)||S==2&&Ys(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),B){case 1:Vi(h,5);break;case 4:Vi(h,10);break;case 3:Vi(h,6);break;default:Vi(h,2)}}}function ih(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Vi(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),S=h.Ua;const B=!S;S=new An(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Gt(S,"https"),Bs(S),B?ii(S.toString(),E):zl(S.toString(),E)}else It(2);h.I=0,h.l&&h.l.pa(y),rh(h),eo(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function rh(h){if(h.I=0,h.ja=[],h.l){const y=Ml(h.h);(y.length!=0||h.i.length!=0)&&(z(h.ja,y),z(h.ja,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.oa()}}function sh(h,y,E){var S=E instanceof An?Ct(E):new An(E);if(S.g!="")y&&(S.g=y+"."+S.g),kr(S,S.u);else{var B=c.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const Y=new An(null);S&&Gt(Y,S),y&&(Y.g=y),B&&kr(Y,B),E&&(Y.h=E),S=Y}return E=h.G,y=h.wa,E&&y&&$e(S,E,y),$e(S,"VER",h.ka),Qs(h,S),S}function ah(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new tt(new Ni({ab:E})):new tt(h.ma),y.Fa(h.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function oh(){}r=oh.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function zr(){}zr.prototype.g=function(h,y){return new cn(h,y)};function cn(h,y){St.call(this),this.g=new jr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!C(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Zi(this)}T(cn,St),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){ql(this.g)},cn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Dr(h),h=E);y.i.push(new xt(y.Ya++,h)),y.I==3&&Oi(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,cn.Z.N.call(this)};function lh(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(lh,Yt);function uh(){Pn.call(this),this.status=1}T(uh,Pn);function Zi(h){this.g=h}T(Zi,oh),Zi.prototype.ra=function(){Ut(this.g,"a")},Zi.prototype.qa=function(h){Ut(this.g,new lh(h))},Zi.prototype.pa=function(h){Ut(this.g,new uh)},Zi.prototype.oa=function(){Ut(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Rw=function(){return new zr},Iw=function(){return Ka()},Sw=Tt,Ag={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,Cf=Us,Cl.COMPLETE="complete",ww=Cl,Bc.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",St.prototype.listen=St.prototype.J,ju=Bc,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,Aw=tt}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const kT="@firebase/firestore",OT="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new iy("@firebase/firestore");function zo(){return Da.logLevel}function re(r,...e){if(Da.logLevel<=Le.DEBUG){const t=e.map(py);Da.debug(`Firestore (${El}): ${r}`,...t)}}function fn(r,...e){if(Da.logLevel<=Le.ERROR){const t=e.map(py);Da.error(`Firestore (${El}): ${r}`,...t)}}function ka(r,...e){if(Da.logLevel<=Le.WARN){const t=e.map(py);Da.warn(`Firestore (${El}): ${r}`,...t)}}function py(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,xw(r,i,t)}function xw(r,e,t){let i=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw fn(i),new Error(i)}function ye(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||xw(e,a,i)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Sr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(en.UNAUTHENTICATED)))}shutdown(){}}class Ck{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Nk{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ye(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ye(typeof i.accessToken=="string",31837,{l:i}),new Cw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class Dk{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kk{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Dk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class VT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ok{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ye(this.o===void 0,3512);const i=l=>{l.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,re("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new VT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new VT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Vk(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Se(r,e){return r<e?-1:r>e?1:0}function wg(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return ig(a)===ig(l)?Se(a,l):ig(a)?1:-1}return Se(r.length,e.length)}const Mk=55296,Pk=57343;function ig(r){const e=r.charCodeAt(0);return e>=Mk&&e<=Pk}function Zo(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}function Nw(r){return r+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="__name__";class zi{constructor(e,t,i){t===void 0?t=0:t>e.length&&fe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&fe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=zi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Se(e.length,t.length)}static compareSegments(e,t){const i=zi.isNumericId(e),a=zi.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?zi.extractNumericId(e).compare(zi.extractNumericId(t)):wg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class Qe extends zi{construct(e,t,i){return new Qe(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new se(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new Qe(t)}static emptyPath(){return new Qe([])}}const Lk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends zi{construct(e,t,i){return new gt(e,t,i)}static isValidIdentifier(e){return Lk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MT}static keyField(){return new gt([MT])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new se(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new se(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new se(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(t)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Qe.fromString(e))}static fromName(e){return new oe(Qe.fromString(e).popFirst(5))}static empty(){return new oe(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r,e,t){if(!t)throw new se(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jk(r,e,t,i){if(e===!0&&i===!0)throw new se(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function PT(r){if(!oe.isDocumentKey(r))throw new se(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function LT(r){if(oe.isDocumentKey(r))throw new se(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function bd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":fe(12329,{type:typeof r})}function on(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new se(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bd(r);throw new se(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Uk(r,e){if(e<=0)throw new se(J.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(r,e){const t={typeString:r};return e&&(t.value=e),t}function bc(r,e){if(!kw(r))throw new se(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new se(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=-62135596800,UT=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*UT);return new We(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jT)throw new se(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UT}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bc(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:Mt("string",We._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new We(0,0))}static max(){return new ve(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;class Jf{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function Sg(r){return r.fields.find((e=>e.kind===2))}function ma(r){return r.fields.filter((e=>e.kind!==2))}Jf.UNKNOWN_ID=-1;class Nf{constructor(e,t){this.fieldPath=e,this.kind=t}}class ic{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ic(0,Vn.min())}}function zk(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=ve.fromTimestamp(i===1e9?new We(t+1,0):new We(t,i));return new Vn(a,oe.empty(),e)}function Ow(r){return new Vn(r.readTime,r.key,nc)}class Vn{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Vn(ve.min(),oe.empty(),nc)}static max(){return new Vn(ve.max(),oe.empty(),nc)}}function yy(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=oe.comparator(r.documentKey,e.documentKey),t!==0?t:Se(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Vw)throw r;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new j(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof j?t:j.resolve(t)}catch(t){return j.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):j.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):j.reject(t)}static resolve(e){return new j(((t,i)=>{t(e)}))}static reject(e){return new j(((t,i)=>{i(e)}))}static waitFor(e){return new j(((t,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(p=>i(p)))})),c=!0,l===a&&t()}))}static or(e){let t=j.resolve(!1);for(const i of e)t=t.next((a=>a?j.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new j(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((_=>{c[g]=_,++d,d===l&&i(c)}),(_=>a(_)))}}))}static doWhile(e,t){return new j(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="SimpleDb";class Ad{static open(e,t,i,a){try{return new Ad(t,e.transaction(a,i))}catch(l){throw new Gu(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Gi,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Gu(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=_y(i.target.error);this.S.reject(new Gu(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(re(Dn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Fk(t)}}class As{static delete(e){return re(Dn,"Removing database:",e),ga(wA().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!OA())return!1;if(As.F())return!0;const e=Ft(),t=As.M(e),i=0<t&&t<10,a=Pw(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,As.M(Ft())===12.2&&fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(re(Dn,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{i(new Gu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?i(new se(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new se(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new Gu(e,c))},a.onupgradeneeded=l=>{re(Dn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,a.transaction,l.oldVersion,this.version).next((()=>{re(Dn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=Ad.open(this.db,e,l?"readonly":"readwrite",i),p=a(d).next((g=>(d.C(),g))).catch((g=>(d.abort(g),j.reject(g)))).toPromise();return p.catch((()=>{})),await d.D,p}catch(d){const p=d,g=p.name!=="FirebaseError"&&c<3;if(re(Dn,"Transaction failed with error:",p.message,"Retrying:",g),this.close(),!g)return Promise.reject(p)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Pw(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class Bk{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ga(this.U.delete())}}class Gu extends se{constructor(e,t){super(J.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ks(r){return r.name==="IndexedDbTransactionError"}class Fk{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(re(Dn,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(re(Dn,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ga(i)}add(e){return re(Dn,"ADD",this.store.name,e,e),ga(this.store.add(e))}get(e){return ga(this.store.get(e)).next((t=>(t===void 0&&(t=null),re(Dn,"GET",this.store.name,e,t),t)))}delete(e){return re(Dn,"DELETE",this.store.name,e),ga(this.store.delete(e))}count(){return re(Dn,"COUNT",this.store.name),ga(this.store.count())}J(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new j(((c,d)=>{l.onerror=p=>{d(p.target.error)},l.onsuccess=p=>{c(p.target.result)}}))}{const l=this.cursor(i),c=[];return this.H(l,((d,p)=>{c.push(p)})).next((()=>c))}}Y(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new j(((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}Z(e,t){re(Dn,"DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const a=this.cursor(i);return this.H(a,((l,c,d)=>d.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.H(a,t)}te(e){const t=this.cursor({});return new j(((i,a)=>{t.onerror=l=>{const c=_y(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():i()})):i()}}))}H(e,t){const i=[];return new j(((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const p=new Bk(d),g=t(d.primaryKey,d.value,p);if(g instanceof j){const _=g.catch((T=>(p.done(),j.reject(T))));i.push(_)}p.isDone?a():p.G===null?d.continue():d.continue(p.G)}})).next((()=>j.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ga(r){return new j(((e,t)=>{r.onsuccess=i=>{const a=i.target.result;e(a)},r.onerror=i=>{const a=_y(i.target.error);t(a)}}))}let zT=!1;function _y(r){const e=As.M(Ft());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const i=new se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zT||(zT=!0,setTimeout((()=>{throw i}),0)),i}}return r}const Ku="IndexBackfiller";class qk{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){re(Ku,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();re(Ku,`Documents written: ${t}`)}catch(t){ks(t)?re(Ku,"Ignoring IndexedDB error during index backfill: ",t):await Ba(t)}await this.re(6e4)}))}}class Hk{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let a=t,l=!0;return j.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!i.has(c))return re(Ku,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,i.add(c)}));l=!1})))).next((()=>t-a))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,l))).next((d=>(re(Ku,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d)))).next((()=>c.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((a,l)=>{const c=Ow(l);yy(c,i)>0&&(i=c)})),new Vn(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=-1;function wd(r){return r==null}function rc(r){return r===0&&1/r==-1/0}function Gk(r){return typeof r=="number"&&Number.isInteger(r)&&!rc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="";function ln(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=BT(e)),e=Kk(r.get(t),e);return BT(e)}function Kk(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case Wf:t+="";break;default:t+=l}}return t}function BT(r){return r+Wf+""}function Bi(r){const e=r.length;if(ye(e>=2,64408,{path:r}),e===2)return ye(r.charAt(0)===Wf&&r.charAt(1)==="",56145,{path:r}),Qe.emptyPath();const t=e-2,i=[];let a="";for(let l=0;l<e;){const c=r.indexOf(Wf,l);switch((c<0||c>t)&&fe(50515,{path:r}),r.charAt(c+1)){case"":const d=r.substring(l,c);let p;a.length===0?p=d:(a+=d,p=a,a=""),i.push(p);break;case"":a+=r.substring(l,c),a+="\0";break;case"":a+=r.substring(l,c+1);break;default:fe(61167,{path:r})}l=c+2}return new Qe(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="remoteDocuments",Ac="owner",Vo="owner",sc="mutationQueues",Qk="userId",fi="mutations",FT="batchId",Ea="userMutationsIndex",qT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(r,e){return[r,ln(e)]}function Lw(r,e,t){return[r,ln(e),t]}const Yk={},el="documentMutations",Zf="remoteDocumentsV14",$k=["prefixPath","collectionGroup","readTime","documentId"],kf="documentKeyIndex",Xk=["prefixPath","collectionGroup","documentId"],jw="collectionGroupIndex",Jk=["collectionGroup","readTime","prefixPath","documentId"],ac="remoteDocumentGlobal",Ig="remoteDocumentGlobalKey",tl="targets",Uw="queryTargetsIndex",Wk=["canonicalId","targetId"],nl="targetDocuments",Zk=["targetId","path"],vy="documentTargetsIndex",e4=["path","targetId"],ed="targetGlobalKey",ba="targetGlobal",oc="collectionParents",t4=["collectionId","parent"],il="clientMetadata",n4="clientId",Sd="bundles",i4="bundleId",Id="namedQueries",r4="name",Ey="indexConfiguration",s4="indexId",Rg="collectionGroupIndex",a4="collectionGroup",Qu="indexState",o4=["indexId","uid"],zw="sequenceNumberIndex",l4=["uid","sequenceNumber"],Yu="indexEntries",u4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Bw="documentKeyIndex",c4=["indexId","uid","orderedDocumentKey"],Rd="documentOverlays",h4=["userId","collectionPath","documentId"],xg="collectionPathOverlayIndex",f4=["userId","collectionPath","largestBatchId"],Fw="collectionGroupOverlayIndex",d4=["userId","collectionGroup","largestBatchId"],Ty="globals",m4="name",qw=[sc,fi,el,pa,tl,Ac,ba,nl,il,ac,oc,Sd,Id],p4=[...qw,Rd],Hw=[sc,fi,el,Zf,tl,Ac,ba,nl,il,ac,oc,Sd,Id,Rd],Gw=Hw,by=[...Gw,Ey,Qu,Yu],g4=by,Kw=[...by,Ty],y4=Kw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends Mw{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function qt(r,e){const t=Ie(r);return As.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Os(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Qw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new tn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GT(this.data.getIterator())}getIteratorFrom(e){return new GT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new et(this.comparator);return t.data=e,t}}class GT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mo(r){return r.hasNext()?r.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new Tn([])}unionWith(e){let t=new et(gt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Tn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Yw("Invalid base64 string: "+l):l}})(e);return new Pt(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const _4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(r){if(ye(!!r,39018),typeof r=="string"){let e=0;const t=_4.exec(r);if(ye(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(r.seconds),nanos:ft(r.nanos)}}function ft(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function wr(r){return typeof r=="string"?Pt.fromBase64String(r):Pt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="server_timestamp",Xw="__type__",Jw="__previous_value__",Ww="__local_write_time__";function Ay(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[Xw])==null?void 0:i.stringValue)===$w}function xd(r){const e=r.mapValue.fields[Jw];return Ay(e)?xd(e):e}function lc(r){const e=Ar(r.mapValue.fields[Ww].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t,i,a,l,c,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const td="(default)";class Oa{constructor(e,t){this.projectId=e,this.database=t||td}static empty(){return new Oa("","")}get isDefaultDatabase(){return this.database===td}isEqual(e){return e instanceof Oa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="__type__",Zw="__max__",_s={mapValue:{fields:{__type__:{stringValue:Zw}}}},Sy="__vector__",rl="value",Of={nullValue:"NULL_VALUE"};function Ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ay(r)?4:eS(r)?9007199254740991:Cd(r)?10:11:fe(28295,{value:r})}function Yi(r,e){if(r===e)return!0;const t=Ss(r);if(t!==Ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lc(r).isEqual(lc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ar(a.timestampValue),d=Ar(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return wr(a.bytesValue).isEqual(wr(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return ft(a.geoPointValue.latitude)===ft(l.geoPointValue.latitude)&&ft(a.geoPointValue.longitude)===ft(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return ft(a.integerValue)===ft(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=ft(a.doubleValue),d=ft(l.doubleValue);return c===d?rc(c)===rc(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Zo(r.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(HT(c)!==HT(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Yi(c[p],d[p])))return!1;return!0})(r,e);default:return fe(52216,{left:r})}}function uc(r,e){return(r.values||[]).find((t=>Yi(t,e)))!==void 0}function Is(r,e){if(r===e)return 0;const t=Ss(r),i=Ss(e);if(t!==i)return Se(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=ft(l.integerValue||l.doubleValue),p=ft(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return KT(r.timestampValue,e.timestampValue);case 4:return KT(lc(r),lc(e));case 5:return wg(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=wr(l),p=wr(c);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Se(d[g],p[g]);if(_!==0)return _}return Se(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Se(ft(l.latitude),ft(c.latitude));return d!==0?d:Se(ft(l.longitude),ft(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return QT(r.arrayValue,e.arrayValue);case 10:return(function(l,c){var w,k,z,Q;const d=l.fields||{},p=c.fields||{},g=(w=d[rl])==null?void 0:w.arrayValue,_=(k=p[rl])==null?void 0:k.arrayValue,T=Se(((z=g==null?void 0:g.values)==null?void 0:z.length)||0,((Q=_==null?void 0:_.values)==null?void 0:Q.length)||0);return T!==0?T:QT(g,_)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===_s.mapValue&&c===_s.mapValue)return 0;if(l===_s.mapValue)return 1;if(c===_s.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const w=wg(p[T],_[T]);if(w!==0)return w;const k=Is(d[p[T]],g[_[T]]);if(k!==0)return k}return Se(p.length,_.length)})(r.mapValue,e.mapValue);default:throw fe(23264,{he:t})}}function KT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Se(r,e);const t=Ar(r),i=Ar(e),a=Se(t.seconds,i.seconds);return a!==0?a:Se(t.nanos,i.nanos)}function QT(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Is(t[a],i[a]);if(l)return l}return Se(t.length,i.length)}function sl(r){return Ng(r)}function Ng(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Ar(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return wr(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return oe.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Ng(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Ng(t.fields[c])}`;return a+"}"})(r.mapValue):fe(61005,{value:r})}function Vf(r){switch(Ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xd(r);return e?16+Vf(e):16;case 5:return 2*r.stringValue.length;case 6:return wr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Vf(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return Os(i.fields,((l,c)=>{a+=l.length+Vf(c)})),a})(r.mapValue);default:throw fe(13486,{value:r})}}function cc(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Dg(r){return!!r&&"integerValue"in r}function hc(r){return!!r&&"arrayValue"in r}function YT(r){return!!r&&"nullValue"in r}function $T(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mf(r){return!!r&&"mapValue"in r}function Cd(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[wy])==null?void 0:i.stringValue)===Sy}function $u(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Os(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=$u(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$u(r.arrayValue.values[t]);return e}return{...r}}function eS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Zw}const tS={mapValue:{fields:{[wy]:{stringValue:Sy},[rl]:{arrayValue:{}}}}};function E4(r){return"nullValue"in r?Of:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?cc(Oa.empty(),oe.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?Cd(r)?tS:{mapValue:{}}:fe(35942,{value:r})}function T4(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?cc(Oa.empty(),oe.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?tS:"mapValue"in r?Cd(r)?{mapValue:{}}:_s:fe(61959,{value:r})}function XT(r,e){const t=Is(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function JT(r,e){const t=Is(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Mf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(t)}setAll(e){let t=gt.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=$u(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Mf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Mf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Os(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new an($u(this.value))}}function nS(r){const e=[];return Os(r.fields,((t,i)=>{const a=new gt([t]);if(Mf(i)){const l=nS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new vt(e,0,ve.min(),ve.min(),ve.min(),an.empty(),0)}static newFoundDocument(e,t,i,a){return new vt(e,1,t,ve.min(),i,a,0)}static newNoDocument(e,t){return new vt(e,2,t,ve.min(),ve.min(),an.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,ve.min(),ve.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t){this.position=e,this.inclusive=t}}function WT(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=oe.comparator(oe.fromName(c.referenceValue),t.key):i=Is(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function ZT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Yi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function b4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{}class je extends iS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new A4(e,t,i):t==="array-contains"?new I4(e,i):t==="in"?new uS(e,i):t==="not-in"?new R4(e,i):t==="array-contains-any"?new x4(e,i):new je(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new w4(e,i):new S4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Is(t,this.value)):t!==null&&Ss(this.value)===Ss(t)&&this.matchesComparison(Is(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ze extends iS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ze(e,t)}matches(e){return ol(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ol(r){return r.op==="and"}function kg(r){return r.op==="or"}function Iy(r){return rS(r)&&ol(r)}function rS(r){for(const e of r.filters)if(e instanceof Ze)return!1;return!0}function Og(r){if(r instanceof je)return r.field.canonicalString()+r.op.toString()+sl(r.value);if(Iy(r))return r.filters.map((e=>Og(e))).join(",");{const e=r.filters.map((t=>Og(t))).join(",");return`${r.op}(${e})`}}function sS(r,e){return r instanceof je?(function(i,a){return a instanceof je&&i.op===a.op&&i.field.isEqual(a.field)&&Yi(i.value,a.value)})(r,e):r instanceof Ze?(function(i,a){return a instanceof Ze&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&sS(c,a.filters[d])),!0):!1})(r,e):void fe(19439)}function aS(r,e){const t=r.filters.concat(e);return Ze.create(t,r.op)}function oS(r){return r instanceof je?(function(t){return`${t.field.canonicalString()} ${t.op} ${sl(t.value)}`})(r):r instanceof Ze?(function(t){return t.op.toString()+" {"+t.getFilters().map(oS).join(" ,")+"}"})(r):"Filter"}class A4 extends je{constructor(e,t,i){super(e,t,i),this.key=oe.fromName(i.referenceValue)}matches(e){const t=oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class w4 extends je{constructor(e,t){super(e,"in",t),this.keys=lS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class S4 extends je{constructor(e,t){super(e,"not-in",t),this.keys=lS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lS(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>oe.fromName(i.referenceValue)))}class I4 extends je{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hc(t)&&uc(t.arrayValue,this.value)}}class uS extends je{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uc(this.value.arrayValue,t)}}class R4 extends je{constructor(e,t){super(e,"not-in",t)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!uc(this.value.arrayValue,t)}}class x4 extends je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>uc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Vg(r,e=null,t=[],i=[],a=null,l=null,c=null){return new C4(r,e,t,i,a,l,c)}function Va(r){const e=Ie(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Og(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>sl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>sl(i))).join(",")),e.Te=t}return e.Te}function wc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!b4(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!sS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ZT(r.startAt,e.startAt)&&ZT(r.endAt,e.endAt)}function nd(r){return oe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function id(r,e){return r.filters.filter((t=>t instanceof je&&t.field.isEqual(e)))}function eb(r,e,t){let i=Of,a=!0;for(const l of id(r,e)){let c=Of,d=!0;switch(l.op){case"<":case"<=":c=E4(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=Of}XT({value:i,inclusive:a},{value:c,inclusive:d})<0&&(i=c,a=d)}if(t!==null){for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const c=t.position[l];XT({value:i,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}function tb(r,e,t){let i=_s,a=!0;for(const l of id(r,e)){let c=_s,d=!0;switch(l.op){case">=":case">":c=T4(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=_s}JT({value:i,inclusive:a},{value:c,inclusive:d})>0&&(i=c,a=d)}if(t!==null){for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const c=t.position[l];JT({value:i,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function N4(r,e,t,i,a,l,c,d){return new Tl(r,e,t,i,a,l,c,d)}function Sc(r){return new Tl(r)}function nb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cS(r){return r.collectionGroup!==null}function Xu(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new et(gt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new fc(l,i))})),t.has(gt.keyField().canonicalString())||e.Ie.push(new fc(gt.keyField(),i))}return e.Ie}function Wn(r){const e=Ie(r);return e.Ee||(e.Ee=D4(e,Xu(r))),e.Ee}function D4(r,e){if(r.limitType==="F")return Vg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new fc(a.field,l)}));const t=r.endAt?new al(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new al(r.startAt.position,r.startAt.inclusive):null;return Vg(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Mg(r,e){const t=r.filters.concat([e]);return new Tl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function rd(r,e,t){return new Tl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Nd(r,e){return wc(Wn(r),Wn(e))&&r.limitType===e.limitType}function hS(r){return`${Va(Wn(r))}|lt:${r.limitType}`}function Bo(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>oS(a))).join(", ")}]`),wd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>sl(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>sl(a))).join(",")),`Target(${i})`})(Wn(r))}; limitType=${r.limitType})`}function Ic(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):oe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of Xu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,p){const g=WT(c,d,p);return c.inclusive?g<=0:g<0})(i.startAt,Xu(i),a)||i.endAt&&!(function(c,d,p){const g=WT(c,d,p);return c.inclusive?g>=0:g>0})(i.endAt,Xu(i),a))})(r,e)}function k4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fS(r){return(e,t)=>{let i=!1;for(const a of Xu(r)){const l=O4(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function O4(r,e,t){const i=r.field.isKeyField()?oe.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Is(p,g):fe(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return fe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return Qw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new pt(oe.comparator);function kn(){return V4}const dS=new pt(oe.comparator);function Uu(...r){let e=dS;for(const t of r)e=e.insert(t.key,t);return e}function mS(r){let e=dS;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Fi(){return Ju()}function pS(){return Ju()}function Ju(){return new Rr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const M4=new pt(oe.comparator),P4=new et(oe.comparator);function ke(...r){let e=P4;for(const t of r)e=e.add(t);return e}const L4=new et(Se);function j4(){return L4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(e)?"-0":e}}function gS(r){return{integerValue:""+r}}function yS(r,e){return Gk(e)?gS(e):Ry(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this._=void 0}}function U4(r,e,t){return r instanceof ll?(function(a,l){const c={fields:{[Xw]:{stringValue:$w},[Ww]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ay(l)&&(l=xd(l)),l&&(c.fields[Jw]=l),{mapValue:c}})(t,e):r instanceof ul?vS(r,e):r instanceof cl?ES(r,e):(function(a,l){const c=_S(a,l),d=ib(c)+ib(a.Ae);return Dg(c)&&Dg(a.Ae)?gS(d):Ry(a.serializer,d)})(r,e)}function z4(r,e,t){return r instanceof ul?vS(r,e):r instanceof cl?ES(r,e):t}function _S(r,e){return r instanceof hl?(function(i){return Dg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class ll extends Dd{}class ul extends Dd{constructor(e){super(),this.elements=e}}function vS(r,e){const t=TS(e);for(const i of r.elements)t.some((a=>Yi(a,i)))||t.push(i);return{arrayValue:{values:t}}}class cl extends Dd{constructor(e){super(),this.elements=e}}function ES(r,e){let t=TS(e);for(const i of r.elements)t=t.filter((a=>!Yi(a,i)));return{arrayValue:{values:t}}}class hl extends Dd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ib(r){return ft(r.integerValue||r.doubleValue)}function TS(r){return hc(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t){this.field=e,this.transform=t}}function B4(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof ul&&a instanceof ul||i instanceof cl&&a instanceof cl?Zo(i.elements,a.elements,Yi):i instanceof hl&&a instanceof hl?Yi(i.Ae,a.Ae):i instanceof ll&&a instanceof ll})(r.transform,e.transform)}class F4{constructor(e,t){this.version=e,this.transformResults=t}}class Bt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bt}static exists(e){return new Bt(void 0,e)}static updateTime(e){return new Bt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class kd{}function bS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rc(r.key,Bt.none()):new bl(r.key,r.data,Bt.none());{const t=r.data,i=an.empty();let a=new et(gt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new xr(r.key,i,new Tn(a.toArray()),Bt.none())}}function q4(r,e,t){r instanceof bl?(function(a,l,c){const d=a.value.clone(),p=sb(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof xr?(function(a,l,c){if(!Pf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=sb(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(AS(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Wu(r,e,t,i){return r instanceof bl?(function(l,c,d,p){if(!Pf(l.precondition,c))return d;const g=l.value.clone(),_=ab(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,t,i):r instanceof xr?(function(l,c,d,p){if(!Pf(l.precondition,c))return d;const g=ab(l.fieldTransforms,p,c),_=c.data;return _.setAll(AS(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(r,e,t,i):(function(l,c,d){return Pf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function H4(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=_S(i.transform,a||null);l!=null&&(t===null&&(t=an.empty()),t.set(i.field,l))}return t||null}function rb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Zo(i,a,((l,c)=>B4(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class bl extends kd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class xr extends kd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function AS(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function sb(r,e,t){const i=new Map;ye(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,z4(c,d,t[a]))}return i}function ab(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,U4(l,c,e))}return i}class Rc extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wS extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&q4(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Wu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Wu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=pS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=bS(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(ve.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,((t,i)=>rb(t,i)))&&Zo(this.baseMutations,e.baseMutations,((t,i)=>rb(t,i)))}}class Ny{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){ye(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return M4})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Ny(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Be;function K4(r){switch(r){case J.OK:return fe(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return fe(15467,{code:r})}}function SS(r){if(r===void 0)return fn("GRPC error has no .code"),J.UNKNOWN;switch(r){case Vt.OK:return J.OK;case Vt.CANCELLED:return J.CANCELLED;case Vt.UNKNOWN:return J.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return J.INTERNAL;case Vt.UNAVAILABLE:return J.UNAVAILABLE;case Vt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Vt.NOT_FOUND:return J.NOT_FOUND;case Vt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Vt.ABORTED:return J.ABORTED;case Vt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Vt.DATA_LOSS:return J.DATA_LOSS;default:return fe(39323,{code:r})}}(Be=Vt||(Vt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new bs([4294967295,4294967295],0);function ob(r){const e=Q4().encode(r),t=new bw;return t.update(e),new Uint8Array(t.digest())}function lb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new bs([t,i],0),new bs([a,l],0)]}class ky{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new zu(`Invalid padding: ${t}`);if(i<0)throw new zu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new zu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=bs.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(bs.fromNumber(i)));return a.compare(Y4)===1&&(a=new bs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ob(e),[i,a]=lb(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ky(l,a,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=ob(e),[i,a]=lb(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Od(ve.min(),a,new pt(Se),kn(),ke())}}class xc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new xc(i,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class IS{constructor(e,t){this.targetId=e,this.Ce=t}}class RS{constructor(e,t,i=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class ub{constructor(){this.ve=0,this.Fe=cb(),this.Me=Pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),t=ke(),i=ke();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:fe(38017,{changeType:l})}})),new xc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=cb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $4{constructor(e){this.Ge=e,this.ze=new Map,this.je=kn(),this.Je=_f(),this.He=_f(),this.Ye=new pt(Se)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:fe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(nd(l))if(i===0){const c=new oe(l.path);this.et(t,c,vt.newNoDocument(c,ve.min()))}else ye(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=wr(i).toUint8Array()}catch(p){if(p instanceof Yw)return ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new ky(c,a,l)}catch(p){return ka(p instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&nd(d.target)){const p=new oe(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,vt.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=ke();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Od(e,t,this.Ye,this.je,i);return this.je=kn(),this.Je=_f(),this.He=_f(),this.Ye=new pt(Se),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ub,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new et(Se),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new et(Se),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||re("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ub),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function _f(){return new pt(oe.comparator)}function cb(){return new pt(oe.comparator)}const X4={asc:"ASCENDING",desc:"DESCENDING"},J4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W4={and:"AND",or:"OR"};class Z4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pg(r,e){return r.useProto3Json||wd(e)?e:{value:e}}function fl(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function eO(r,e){return fl(r,e.toTimestamp())}function dn(r){return ye(!!r,49232),ve.fromTimestamp((function(t){const i=Ar(t);return new We(i.seconds,i.nanos)})(r))}function Oy(r,e){return Lg(r,e).canonicalString()}function Lg(r,e){const t=(function(a){return new Qe(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function CS(r){const e=Qe.fromString(r);return ye(jS(e),10190,{key:e.toString()}),e}function sd(r,e){return Oy(r.databaseId,e.path)}function Aa(r,e){const t=CS(e);if(t.get(1)!==r.databaseId.projectId)throw new se(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new se(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new oe(kS(t))}function NS(r,e){return Oy(r.databaseId,e)}function DS(r){const e=CS(r);return e.length===4?Qe.emptyPath():kS(e)}function jg(r){return new Qe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kS(r){return ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function hb(r,e,t){return{name:sd(r,e),fields:t.value.mapValue.fields}}function tO(r,e,t){const i=Aa(r,e.name),a=dn(e.updateTime),l=e.createTime?dn(e.createTime):ve.min(),c=new an({mapValue:{fields:e.fields}}),d=vt.newFoundDocument(i,a,l,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function nO(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:fe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(ye(_===void 0||typeof _=="string",58123),Pt.fromBase64String(_||"")):(ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Pt.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?J.UNKNOWN:SS(g.code);return new se(_,g.message||"")})(c);t=new RS(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Aa(r,i.document.name),l=dn(i.document.updateTime),c=i.document.createTime?dn(i.document.createTime):ve.min(),d=new an({mapValue:{fields:i.document.fields}}),p=vt.newFoundDocument(a,l,c,d),g=i.targetIds||[],_=i.removedTargetIds||[];t=new Lf(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Aa(r,i.document),l=i.readTime?dn(i.readTime):ve.min(),c=vt.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Lf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Aa(r,i.document),l=i.removedTargetIds||[];t=new Lf([],l,a,null)}else{if(!("filter"in e))return fe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new G4(a,l),d=i.targetId;t=new IS(d,c)}}return t}function ad(r,e){let t;if(e instanceof bl)t={update:hb(r,e.key,e.value)};else if(e instanceof Rc)t={delete:sd(r,e.key)};else if(e instanceof xr)t={update:hb(r,e.key,e.data),updateMask:lO(e.fieldMask)};else{if(!(e instanceof wS))return fe(16599,{Vt:e.type});t={verify:sd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof ll)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ul)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof cl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof hl)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw fe(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:eO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:fe(27497)})(r,e.precondition)),t}function Ug(r,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?Bt.updateTime(dn(l.updateTime)):l.exists!==void 0?Bt.exists(l.exists):Bt.none()})(e.currentDocument):Bt.none(),i=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let p=null;if("setToServerValue"in d)ye(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),p=new ll;else if("appendMissingElements"in d){const _=d.appendMissingElements.values||[];p=new ul(_)}else if("removeAllFromArray"in d){const _=d.removeAllFromArray.values||[];p=new cl(_)}else"increment"in d?p=new hl(c,d.increment):fe(16584,{proto:d});const g=gt.fromServerFormat(d.fieldPath);return new xy(g,p)})(r,a))):[];if(e.update){e.update.name;const a=Aa(r,e.update.name),l=new an({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(p){const g=p.fieldPaths||[];return new Tn(g.map((_=>gt.fromServerFormat(_))))})(e.updateMask);return new xr(a,l,c,t,i)}return new bl(a,l,t,i)}if(e.delete){const a=Aa(r,e.delete);return new Rc(a,t)}if(e.verify){const a=Aa(r,e.verify);return new wS(a,t)}return fe(1463,{proto:e})}function iO(r,e){return r&&r.length>0?(ye(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?dn(a.updateTime):dn(l);return c.isEqual(ve.min())&&(c=dn(l)),new F4(c,a.transformResults||[])})(t,e)))):[]}function OS(r,e){return{documents:[NS(r,e.path)]}}function VS(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=NS(r,a);const l=(function(g){if(g.length!==0)return LS(Ze.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:Fo(w.field),direction:sO(w.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Pg(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function MS(r){let e=DS(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){ye(i===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(T){const w=PS(T);return w instanceof Ze&&Iy(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((w=>(function(z){return new fc(qo(z.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let w;return w=typeof T=="object"?T.value:T,wd(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(T){const w=!!T.before,k=T.values||[];return new al(k,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const w=!T.before,k=T.values||[];return new al(k,w)})(t.endAt)),N4(e,a,c,l,d,"F",p,g)}function rO(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PS(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=qo(t.unaryFilter.field);return je.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=qo(t.unaryFilter.field);return je.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=qo(t.unaryFilter.field);return je.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=qo(t.unaryFilter.field);return je.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}})(r):r.fieldFilter!==void 0?(function(t){return je.create(qo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Ze.create(t.compositeFilter.filters.map((i=>PS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return fe(1026)}})(t.compositeFilter.op))})(r):fe(30097,{filter:r})}function sO(r){return X4[r]}function aO(r){return J4[r]}function oO(r){return W4[r]}function Fo(r){return{fieldPath:r.canonicalString()}}function qo(r){return gt.fromServerFormat(r.fieldPath)}function LS(r){return r instanceof je?(function(t){if(t.op==="=="){if($T(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NAN"}};if(YT(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($T(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NAN"}};if(YT(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(t.field),op:aO(t.op),value:t.value}}})(r):r instanceof Ze?(function(t){const i=t.getFilters().map((a=>LS(a)));return i.length===1?i[0]:{compositeFilter:{op:oO(t.op),filters:i}}})(r):fe(54877,{filter:r})}function lO(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function jS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,t,i,a,l=ve.min(),c=ve.min(),d=Pt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.yt=e}}function uO(r,e){let t;if(e.document)t=tO(r.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=oe.fromSegments(e.noDocument.path),a=Pa(e.noDocument.readTime);t=vt.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return fe(56709);{const i=oe.fromSegments(e.unknownDocument.path),a=Pa(e.unknownDocument.version);t=vt.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime((function(a){const l=new We(a[0],a[1]);return ve.fromTimestamp(l)})(e.readTime)),t}function fb(r,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:od(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(l,c){return{name:sd(l,c.key),fields:c.data.value.mapValue.fields,updateTime:fl(l,c.version.toTimestamp()),createTime:fl(l,c.createTime.toTimestamp())}})(r.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ma(e.version)};else{if(!e.isUnknownDocument())return fe(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:Ma(e.version)}}return i}function od(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Ma(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pa(r){const e=new We(r.seconds,r.nanoseconds);return ve.fromTimestamp(e)}function ya(r,e){const t=(e.baseMutations||[]).map((l=>Ug(r.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const d=e.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const i=e.mutations.map((l=>Ug(r.yt,l))),a=We.fromMillis(e.localWriteTimeMs);return new Cy(e.batchId,a,t,i)}function Bu(r){const e=Pa(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?Pa(r.lastLimboFreeSnapshotVersion):ve.min();let i;return i=(function(l){return l.documents!==void 0})(r.query)?(function(l){const c=l.documents.length;return ye(c===1,1966,{count:c}),Wn(Sc(DS(l.documents[0])))})(r.query):(function(l){return Wn(MS(l))})(r.query),new yr(i,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Pt.fromBase64String(r.resumeToken))}function zS(r,e){const t=Ma(e.snapshotVersion),i=Ma(e.lastLimboFreeSnapshotVersion);let a;a=nd(e.target)?OS(r.yt,e.target):VS(r.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Va(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function BS(r){const e=MS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rd(e,e.limit,"L"):e}function rg(r,e){return new Dy(e.largestBatchId,Ug(r.yt,e.overlayMutation))}function db(r,e){const t=e.path.lastSegment();return[r,ln(e.path.popLast()),t]}function mb(r,e,t,i){return{indexId:r,uid:e,sequenceNumber:t,readTime:Ma(i.readTime),documentKey:ln(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{getBundleMetadata(e,t){return pb(e).get(t).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:Pa(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(e,t){return pb(e).put((function(a){return{bundleId:a.id,createTime:Ma(dn(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return gb(e).get(t).next((i=>{if(i)return(function(l){return{name:l.name,query:BS(l.bundledQuery),readTime:Pa(l.readTime)}})(i)}))}saveNamedQuery(e,t){return gb(e).put((function(a){return{name:a.name,readTime:Ma(dn(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function pb(r){return qt(r,Sd)}function gb(r){return qt(r,Id)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new Vd(e,i)}getOverlay(e,t){return Du(e).get(db(this.userId,t)).next((i=>i?rg(this.serializer,i):null))}getOverlays(e,t){const i=Fi();return j.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){const a=[];return i.forEach(((l,c)=>{const d=new Dy(t,c);a.push(this.St(e,d))})),j.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach((c=>a.add(ln(c.getCollectionPath()))));const l=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);l.push(Du(e).Z(xg,d))})),j.waitFor(l)}getOverlaysForCollection(e,t,i){const a=Fi(),l=ln(t),c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Du(e).J(xg,c).next((d=>{for(const p of d){const g=rg(this.serializer,p);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(e,t,i,a){const l=Fi();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Du(e).ee({index:Fw,range:d},((p,g,_)=>{const T=rg(this.serializer,g);l.size()<a||T.largestBatchId===c?(l.set(T.getKey(),T),c=T.largestBatchId):_.done()})).next((()=>l))}St(e,t){return Du(e).put((function(a,l,c){const[d,p,g]=db(l,c.mutation.key);return{userId:l,collectionPath:p,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:ad(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function Du(r){return qt(r,Rd)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{bt(e){return qt(e,Ty)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const i=t==null?void 0:t.value;return i?Pt.fromUint8Array(i):Pt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ft(e.integerValue));else if("doubleValue"in e){const i=ft(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),rc(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=Ar(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(wr(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?eS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Cd(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):fe(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const i=e.fields||{};this.Ft(t,55);for(const a of Object.keys(i))this.Ot(a,t),this.Ct(i[a],t)}kt(e,t){var c,d;const i=e.fields||{};this.Ft(t,53);const a=rl,l=((d=(c=i[a].arrayValue)==null?void 0:c.values)==null?void 0:d.length)||0;this.Ft(t,15),t.Mt(ft(l)),this.Ot(a,t),this.Ct(i[a],t)}Qt(e,t){const i=e.values||[];this.Ft(t,50);for(const a of i)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),oe.fromName(e).path.forEach((i=>{this.Ft(t,60),this.Ut(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}_a.Kt=new _a;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=255;function fO(r){if(r===0)return 8;let e=0;return r>>4||(e+=4,r<<=4),r>>6||(e+=2,r<<=2),r>>7||(e+=1),e}function yb(r){const e=64-(function(i){let a=0;for(let l=0;l<8;++l){const c=fO(255&i[l]);if(a+=c,c!==8)break}return a})(r);return Math.ceil(e/8)}class dO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Jt(i.value),i=t.next();this.Ht()}Yt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const t=this.en(e),i=yb(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),i=yb(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(Po),this.sn(255)}_n(){this.an(Po),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Po?(this.sn(Po),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Po?(this.an(Po),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class mO{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class pO{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class ku{constructor(){this.cn=new dO,this.ln=new mO(this.cn),this.hn=new pO(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,i,a){this.Tn=e,this.In=t,this.En=i,this.dn=a}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.dn,0),t!==e?i.set([0],this.dn.length):++i[i.length-1],new va(this.Tn,this.In,this.En,i)}Rn(e,t,i){return{indexId:this.Tn,uid:e,arrayValue:jf(this.En),directionalValue:jf(this.dn),orderedDocumentKey:jf(t),documentKey:i.path.toArray()}}Vn(e,t,i){const a=this.Rn(e,t,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function cs(r,e){let t=r.Tn-e.Tn;return t!==0?t:(t=_b(r.En,e.En),t!==0?t:(t=_b(r.dn,e.dn),t!==0?t:oe.comparator(r.In,e.In)))}function _b(r,e){for(let t=0;t<r.length&&t<e.length;++t){const i=r[t]-e[t];if(i!==0)return i}return r.length-e.length}function jf(r){return kA()?(function(t){let i="";for(let a=0;a<t.length;a++)i+=String.fromCharCode(t[a]);return i})(r):r}function vb(r){return typeof r!="string"?r:(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(r)}class Eb{constructor(e){this.mn=new et(((t,i)=>gt.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const i=t;i.isInequality()?this.mn=this.mn.add(i):this.gn.push(i)}}get pn(){return this.mn.size>1}yn(e){if(ye(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Sg(e);if(t!==void 0&&!this.wn(t))return!1;const i=ma(e);let a=new Set,l=0,c=0;for(;l<i.length&&this.wn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.mn.size>0){const d=this.mn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const p=i[l];if(!this.Sn(d,p)||!this.bn(this.fn[c++],p))return!1}++l}for(;l<i.length;++l){const d=i[l];if(c>=this.fn.length||!this.bn(this.fn[c++],d))return!1}return!0}Dn(){if(this.pn)return null;let e=new et(gt.comparator);const t=[];for(const i of this.gn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new Nf(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Nf(i.field,0))}for(const i of this.fn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Nf(i.field,i.dir==="asc"?0:1)));return new Jf(Jf.UNKNOWN_ID,this.collectionId,t,ic.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(r){var t,i;if(ye(r instanceof je||r instanceof Ze,20012),r instanceof je){if(r instanceof uS){const a=((i=(t=r.value.arrayValue)==null?void 0:t.values)==null?void 0:i.map((l=>je.create(r.field,"==",l))))||[];return Ze.create(a,"or")}return r}const e=r.filters.map((a=>FS(a)));return Ze.create(e,r.op)}function gO(r){if(r.getFilters().length===0)return[];const e=Fg(FS(r));return ye(qS(e),7391),zg(e)||Bg(e)?[e]:e.getFilters()}function zg(r){return r instanceof je}function Bg(r){return r instanceof Ze&&Iy(r)}function qS(r){return zg(r)||Bg(r)||(function(t){if(t instanceof Ze&&kg(t)){for(const i of t.getFilters())if(!zg(i)&&!Bg(i))return!1;return!0}return!1})(r)}function Fg(r){if(ye(r instanceof je||r instanceof Ze,34018),r instanceof je)return r;if(r.filters.length===1)return Fg(r.filters[0]);const e=r.filters.map((i=>Fg(i)));let t=Ze.create(e,r.op);return t=ld(t),qS(t)?t:(ye(t instanceof Ze,64498),ye(ol(t),40251),ye(t.filters.length>1,57927),t.filters.reduce(((i,a)=>Vy(i,a))))}function Vy(r,e){let t;return ye(r instanceof je||r instanceof Ze,38388),ye(e instanceof je||e instanceof Ze,25473),t=r instanceof je?e instanceof je?(function(a,l){return Ze.create([a,l],"and")})(r,e):Tb(r,e):e instanceof je?Tb(e,r):(function(a,l){if(ye(a.filters.length>0&&l.filters.length>0,48005),ol(a)&&ol(l))return aS(a,l.getFilters());const c=kg(a)?a:l,d=kg(a)?l:a,p=c.filters.map((g=>Vy(g,d)));return Ze.create(p,"or")})(r,e),ld(t)}function Tb(r,e){if(ol(e))return aS(e,r.getFilters());{const t=e.filters.map((i=>Vy(r,i)));return Ze.create(t,"or")}}function ld(r){if(ye(r instanceof je||r instanceof Ze,11850),r instanceof je)return r;const e=r.getFilters();if(e.length===1)return ld(e[0]);if(rS(r))return r;const t=e.map((a=>ld(a))),i=[];return t.forEach((a=>{a instanceof je?i.push(a):a instanceof Ze&&(a.op===r.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:Ze.create(i,r.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.Cn=new My}addToCollectionParentIndex(e,t){return this.Cn.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(Vn.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(Vn.min())}updateCollectionGroup(e,t,i){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}}class My{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new et(Qe.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new et(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="IndexedDbIndexManager",vf=new Uint8Array(0);class _O{constructor(e,t){this.databaseId=t,this.vn=new My,this.Fn=new Rr((i=>Va(i)),((i,a)=>wc(i,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const l={collectionId:i,parent:ln(a)};return Ab(e).put(l)}return j.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[Nw(t),""],!1,!0);return Ab(e).J(a).next((l=>{for(const c of l){if(c.collectionId!==t)break;i.push(Bi(c.parent))}return i}))}addFieldIndex(e,t){const i=Ou(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((p=>[p.fieldPath.canonicalString(),p.kind]))}})(t);delete a.indexId;const l=i.add(a);if(t.indexState){const c=jo(e);return l.next((d=>{c.put(mb(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const i=Ou(e),a=jo(e),l=Lo(e);return i.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Ou(e),i=Lo(e),a=jo(e);return t.Z().next((()=>i.Z())).next((()=>a.Z()))}createTargetIndexes(e,t){return j.forEach(this.Mn(t),(i=>this.getIndexType(e,i).next((a=>{if(a===0||a===1){const l=new Eb(i).Dn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const i=Lo(e);let a=!0;const l=new Map;return j.forEach(this.Mn(t),(c=>this.xn(e,c).next((d=>{a&&(a=!!d),l.set(c,d)})))).next((()=>{if(a){let c=ke();const d=[];return j.forEach(l,((p,g)=>{re(bb,`Using index ${(function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map((de=>`${de.fieldPath}:${de.kind}`)).join(",")}`})(p)} to execute ${Va(t)}`);const _=(function(U,de){const ge=Sg(de);if(ge===void 0)return null;for(const me of id(U,ge.fieldPath))switch(me.op){case"array-contains-any":return me.value.arrayValue.values||[];case"array-contains":return[me.value]}return null})(g,p),T=(function(U,de){const ge=new Map;for(const me of ma(de))for(const R of id(U,me.fieldPath))switch(R.op){case"==":case"in":ge.set(me.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return ge.set(me.fieldPath.canonicalString(),R.value),Array.from(ge.values())}return null})(g,p),w=(function(U,de){const ge=[];let me=!0;for(const R of ma(de)){const I=R.kind===0?eb(U,R.fieldPath,U.startAt):tb(U,R.fieldPath,U.startAt);ge.push(I.value),me&&(me=I.inclusive)}return new al(ge,me)})(g,p),k=(function(U,de){const ge=[];let me=!0;for(const R of ma(de)){const I=R.kind===0?tb(U,R.fieldPath,U.endAt):eb(U,R.fieldPath,U.endAt);ge.push(I.value),me&&(me=I.inclusive)}return new al(ge,me)})(g,p),z=this.On(p,g,w),Q=this.On(p,g,k),F=this.Nn(p,g,T),X=this.Bn(p.indexId,_,z,w.inclusive,Q,k.inclusive,F);return j.forEach(X,(ee=>i.Y(ee,t.limit).next((U=>{U.forEach((de=>{const ge=oe.fromSegments(de.documentKey);c.has(ge)||(c=c.add(ge),d.push(ge))}))}))))})).next((()=>d))}return j.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=gO(Ze.create(e.filters,"and")).map((i=>Vg(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,i,a,l,c,d){const p=(t!=null?t.length:1)*Math.max(i.length,l.length),g=p/(t!=null?t.length:1),_=[];for(let T=0;T<p;++T){const w=t?this.Ln(t[T/g]):vf,k=this.kn(e,w,i[T%g],a),z=this.qn(e,w,l[T%g],c),Q=d.map((F=>this.kn(e,w,F,!0)));_.push(...this.createRange(k,z,Q))}return _}kn(e,t,i,a){const l=new va(e,oe.empty(),t,i);return a?l:l.An()}qn(e,t,i,a){const l=new va(e,oe.empty(),t,i);return a?l.An():l}xn(e,t){const i=new Eb(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((l=>{let c=null;for(const d of l)i.yn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,t){let i=2;const a=this.Mn(t);return j.forEach(a,(l=>this.xn(e,l).next((c=>{c?i!==0&&c.fields.length<(function(p){let g=new et(gt.comparator),_=!1;for(const T of p.filters)for(const w of T.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?_=!0:g=g.add(w.field));for(const T of p.orderBy)T.field.isKeyField()||(g=g.add(T.field));return g.size+(_?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&i===2?1:i))}Qn(e,t){const i=new ku;for(const a of ma(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=i.Pn(a.kind);_a.Kt.Dt(l,c)}return i.un()}Ln(e){const t=new ku;return _a.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const i=new ku;return _a.Kt.Dt(cc(this.databaseId,t),i.Pn((function(l){const c=ma(l);return c.length===0?0:c[c.length-1].kind})(e))),i.un()}Nn(e,t,i){if(i===null)return[];let a=[];a.push(new ku);let l=0;for(const c of ma(e)){const d=i[l++];for(const p of a)if(this.Un(t,c.fieldPath)&&hc(d))a=this.Kn(a,c,d);else{const g=p.Pn(c.kind);_a.Kt.Dt(d,g)}}return this.Wn(a)}On(e,t,i){return this.Nn(e,t,i.position)}Wn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Kn(e,t,i){const a=[...e],l=[];for(const c of i.arrayValue.values||[])for(const d of a){const p=new ku;p.seed(d.un()),_a.Kt.Dt(c,p.Pn(t.kind)),l.push(p)}return l}Un(e,t){return!!e.filters.find((i=>i instanceof je&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=Ou(e),a=jo(e);return(t?i.J(Rg,IDBKeyRange.bound(t,t)):i.J()).next((l=>{const c=[];return j.forEach(l,(d=>a.get([d.indexId,this.uid]).next((p=>{c.push((function(_,T){const w=T?new ic(T.sequenceNumber,new Vn(Pa(T.readTime),new oe(Bi(T.documentKey)),T.largestBatchId)):ic.empty(),k=_.fields.map((([z,Q])=>new Nf(gt.fromServerFormat(z),Q)));return new Jf(_.indexId,_.collectionGroup,k,w)})(d,p))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:Se(i.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const a=Ou(e),l=jo(e);return this.Gn(e).next((c=>a.J(Rg,IDBKeyRange.bound(t,t)).next((d=>j.forEach(d,(p=>l.put(mb(p.indexId,this.uid,c,i))))))))}updateIndexEntries(e,t){const i=new Map;return j.forEach(t,((a,l)=>{const c=i.get(a.collectionGroup);return(c?j.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(i.set(a.collectionGroup,d),j.forEach(d,(p=>this.zn(e,a,p).next((g=>{const _=this.jn(l,p);return g.isEqual(_)?j.resolve():this.Jn(e,l,p,g,_)})))))))}))}Hn(e,t,i,a){return Lo(e).put(a.Rn(this.uid,this.$n(i,t.key),t.key))}Yn(e,t,i,a){return Lo(e).delete(a.Vn(this.uid,this.$n(i,t.key),t.key))}zn(e,t,i){const a=Lo(e);let l=new et(cs);return a.ee({index:Bw,range:IDBKeyRange.only([i.indexId,this.uid,jf(this.$n(i,t))])},((c,d)=>{l=l.add(new va(i.indexId,t,vb(d.arrayValue),vb(d.directionalValue)))})).next((()=>l))}jn(e,t){let i=new et(cs);const a=this.Qn(t,e);if(a==null)return i;const l=Sg(t);if(l!=null){const c=e.data.field(l.fieldPath);if(hc(c))for(const d of c.arrayValue.values||[])i=i.add(new va(t.indexId,e.key,this.Ln(d),a))}else i=i.add(new va(t.indexId,e.key,vf,a));return i}Jn(e,t,i,a,l){re(bb,"Updating index entries for document '%s'",t.key);const c=[];return(function(p,g,_,T,w){const k=p.getIterator(),z=g.getIterator();let Q=Mo(k),F=Mo(z);for(;Q||F;){let X=!1,ee=!1;if(Q&&F){const U=_(Q,F);U<0?ee=!0:U>0&&(X=!0)}else Q!=null?ee=!0:X=!0;X?(T(F),F=Mo(z)):ee?(w(Q),Q=Mo(k)):(Q=Mo(k),F=Mo(z))}})(a,l,cs,(d=>{c.push(this.Hn(e,t,i,d))}),(d=>{c.push(this.Yn(e,t,i,d))})),j.waitFor(c)}Gn(e){let t=1;return jo(e).ee({index:zw,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((c,d)=>cs(c,d))).filter(((c,d,p)=>!d||cs(c,p[d-1])!==0));const a=[];a.push(e);for(const c of i){const d=cs(c,e),p=cs(c,t);if(d===0)a[0]=e.An();else if(d>0&&p<0)a.push(c),a.push(c.An());else if(p>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const d=a[c].Vn(this.uid,vf,oe.empty()),p=a[c+1].Vn(this.uid,vf,oe.empty());l.push(IDBKeyRange.bound(d,p))}return l}Zn(e,t){return cs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(wb)}getMinOffset(e,t){return j.mapArray(this.Mn(t),(i=>this.xn(e,i).next((a=>a||fe(44426))))).next(wb)}}function Ab(r){return qt(r,oc)}function Lo(r){return qt(r,Yu)}function Ou(r){return qt(r,Ey)}function jo(r){return qt(r,Qu)}function wb(r){ye(r.length!==0,28825);let e=r[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<r.length;i++){const a=r[i].indexState.offset;yy(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Vn(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HS=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(r,e,t){const i=r.store(fi),a=r.store(el),l=[],c=IDBKeyRange.only(t.batchId);let d=0;const p=i.ee({range:c},((_,T,w)=>(d++,w.delete())));l.push(p.next((()=>{ye(d===1,47070,{batchId:t.batchId})})));const g=[];for(const _ of t.mutations){const T=Lw(e,_.key.path,t.batchId);l.push(a.delete(T)),g.push(_.key)}return j.waitFor(l).next((()=>g))}function ud(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw fe(14731);e=r.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(HS,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);class Md{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Xn={}}static wt(e,t,i,a){ye(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new Md(l,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hs(e).ee({index:Ea,range:i},((a,l,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,i,a){const l=Ho(e),c=hs(e);return c.add({}).next((d=>{ye(typeof d=="number",49019);const p=new Cy(d,t,i,a),g=(function(k,z,Q){const F=Q.baseMutations.map((ee=>ad(k.yt,ee))),X=Q.mutations.map((ee=>ad(k.yt,ee)));return{userId:z,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:F,mutations:X}})(this.serializer,this.userId,p),_=[];let T=new et(((w,k)=>Se(w.canonicalString(),k.canonicalString())));for(const w of a){const k=Lw(this.userId,w.key.path,d);T=T.add(w.key.path.popLast()),_.push(c.put(g)),_.push(l.put(k,Yk))}return T.forEach((w=>{_.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[d]=p.keys()})),j.waitFor(_).next((()=>p))}))}lookupMutationBatch(e,t){return hs(e).get(t).next((i=>i?(ye(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),ya(this.serializer,i)):null))}er(e,t){return this.Xn[t]?j.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const a=i.keys();return this.Xn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return hs(e).ee({index:Ea,range:a},((c,d,p)=>{d.userId===this.userId&&(ye(d.batchId>=i,47524,{tr:i}),l=ya(this.serializer,d)),p.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Ta;return hs(e).ee({index:Ea,range:t,reverse:!0},((a,l,c)=>{i=l.batchId,c.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ta],[this.userId,Number.POSITIVE_INFINITY]);return hs(e).J(Ea,t).next((i=>i.map((a=>ya(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Df(this.userId,t.path),a=IDBKeyRange.lowerBound(i),l=[];return Ho(e).ee({range:a},((c,d,p)=>{const[g,_,T]=c,w=Bi(_);if(g===this.userId&&t.path.isEqual(w))return hs(e).get(T).next((k=>{if(!k)throw fe(61480,{nr:c,batchId:T});ye(k.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:k.userId,batchId:T}),l.push(ya(this.serializer,k))}));p.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new et(Se);const a=[];return t.forEach((l=>{const c=Df(this.userId,l.path),d=IDBKeyRange.lowerBound(c),p=Ho(e).ee({range:d},((g,_,T)=>{const[w,k,z]=g,Q=Bi(k);w===this.userId&&l.path.isEqual(Q)?i=i.add(z):T.done()}));a.push(p)})),j.waitFor(a).next((()=>this.rr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,l=Df(this.userId,i),c=IDBKeyRange.lowerBound(l);let d=new et(Se);return Ho(e).ee({range:c},((p,g,_)=>{const[T,w,k]=p,z=Bi(w);T===this.userId&&i.isPrefixOf(z)?z.length===a&&(d=d.add(k)):_.done()})).next((()=>this.rr(e,d)))}rr(e,t){const i=[],a=[];return t.forEach((l=>{a.push(hs(e).get(l).next((c=>{if(c===null)throw fe(35274,{batchId:l});ye(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),i.push(ya(this.serializer,c))})))})),j.waitFor(a).next((()=>i))}removeMutationBatch(e,t){return GS(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),j.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return j.resolve();const i=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Ho(e).ee({range:i},((l,c,d)=>{if(l[0]===this.userId){const p=Bi(l[1]);a.push(p)}else d.done()})).next((()=>{ye(a.length===0,56720,{sr:a.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return KS(e,this.userId,t)}_r(e){return QS(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ta,lastStreamToken:""}))}}function KS(r,e,t){const i=Df(e,t.path),a=i[1],l=IDBKeyRange.lowerBound(i);let c=!1;return Ho(r).ee({range:l,X:!0},((d,p,g)=>{const[_,T,w]=d;_===e&&T===a&&(c=!0),g.done()})).next((()=>c))}function hs(r){return qt(r,fi)}function Ho(r){return qt(r,el)}function QS(r){return qt(r,sc)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new La(0)}static cr(){return new La(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const i=new La(t.highestTargetId);return t.highestTargetId=i.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>ve.fromTimestamp(new We(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.lr(e).next((a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.hr(e,a))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((i=>(i.targetCount+=1,this.Tr(t,i),this.hr(e,i))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Uo(e).delete(t.targetId))).next((()=>this.lr(e))).next((i=>(ye(i.targetCount>0,8065),i.targetCount-=1,this.hr(e,i))))}removeTargets(e,t,i){let a=0;const l=[];return Uo(e).ee(((c,d)=>{const p=Bu(d);p.sequenceNumber<=t&&i.get(p.targetId)===null&&(a++,l.push(this.removeTargetData(e,p)))})).next((()=>j.waitFor(l))).next((()=>a))}forEachTarget(e,t){return Uo(e).ee(((i,a)=>{const l=Bu(a);t(l)}))}lr(e){return Ib(e).get(ed).next((t=>(ye(t!==null,2888),t)))}hr(e,t){return Ib(e).put(ed,t)}Pr(e,t){return Uo(e).put(zS(this.serializer,t))}Tr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const i=Va(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return Uo(e).ee({range:a,index:Uw},((c,d,p)=>{const g=Bu(d);wc(t,g.target)&&(l=g,p.done())})).next((()=>l))}addMatchingKeys(e,t,i){const a=[],l=ys(e);return t.forEach((c=>{const d=ln(c.path);a.push(l.put({targetId:i,path:d})),a.push(this.referenceDelegate.addReference(e,i,c))})),j.waitFor(a)}removeMatchingKeys(e,t,i){const a=ys(e);return j.forEach(t,(l=>{const c=ln(l.path);return j.waitFor([a.delete([i,c]),this.referenceDelegate.removeReference(e,i,l)])}))}removeMatchingKeysForTargetId(e,t){const i=ys(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=ys(e);let l=ke();return a.ee({range:i,X:!0},((c,d,p)=>{const g=Bi(c[1]),_=new oe(g);l=l.add(_)})).next((()=>l))}containsKey(e,t){const i=ln(t.path),a=IDBKeyRange.bound([i],[Nw(i)],!1,!0);let l=0;return ys(e).ee({index:vy,X:!0,range:a},(([c,d],p,g)=>{c!==0&&(l++,g.done())})).next((()=>l>0))}At(e,t){return Uo(e).get(t).next((i=>i?Bu(i):null))}}function Uo(r){return qt(r,tl)}function Ib(r){return qt(r,ba)}function ys(r){return qt(r,nl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="LruGarbageCollector",EO=1048576;function xb([r,e],[t,i]){const a=Se(r,t);return a===0?Se(e,i):a}class TO{constructor(e){this.Ir=e,this.buffer=new et(xb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();xb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(Rb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ks(t)?re(Rb,"Ignoring IndexedDB error during garbage collection: ",t):await Ba(t)}await this.Vr(3e5)}))}}class bO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return j.resolve(Jn.ce);const i=new TO(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Sb)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,d=Date.now(),this.removeTargets(e,i,t)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(g=Date.now(),zo()<=Le.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function $S(r,e){return new bO(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t){this.db=e,this.garbageCollector=$S(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((i,a)=>t(a)))}addReference(e,t,i){return Ef(e,i)}removeReference(e,t,i){return Ef(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Ef(e,t)}br(e,t){return(function(a,l){let c=!1;return QS(a).te((d=>KS(a,d,l).next((p=>(p&&(c=!0),j.resolve(!p)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Sr(e,((c,d)=>{if(d<=t){const p=this.br(e,c).next((g=>{if(!g)return l++,i.getEntry(e,c).next((()=>(i.removeEntry(c,ve.min()),ys(e).delete((function(T){return[0,ln(T.path)]})(c)))))}));a.push(p)}})).next((()=>j.waitFor(a))).next((()=>i.apply(e))).next((()=>l))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Ef(e,t)}Sr(e,t){const i=ys(e);let a,l=Jn.ce;return i.ee({index:vy},(([c,d],{path:p,sequenceNumber:g})=>{c===0?(l!==Jn.ce&&t(new oe(Bi(a)),l),l=g,a=p):l=Jn.ce})).next((()=>{l!==Jn.ce&&t(new oe(Bi(a)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ef(r,e){return ys(r).put((function(i,a){return{targetId:0,path:ln(i.path),sequenceNumber:a}})(e,r.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.changes=new Rr((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?j.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return ha(e).put(i)}removeEntry(e,t,i){return ha(e).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],od(c),d[d.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.Dr(e,i))))}getEntry(e,t){let i=vt.newInvalidDocument(t);return ha(e).ee({index:kf,range:IDBKeyRange.only(Vu(t))},((a,l)=>{i=this.Cr(t,l)})).next((()=>i))}vr(e,t){let i={size:0,document:vt.newInvalidDocument(t)};return ha(e).ee({index:kf,range:IDBKeyRange.only(Vu(t))},((a,l)=>{i={document:this.Cr(t,l),size:ud(l)}})).next((()=>i))}getEntries(e,t){let i=kn();return this.Fr(e,t,((a,l)=>{const c=this.Cr(a,l);i=i.insert(a,c)})).next((()=>i))}Mr(e,t){let i=kn(),a=new pt(oe.comparator);return this.Fr(e,t,((l,c)=>{const d=this.Cr(l,c);i=i.insert(l,d),a=a.insert(l,ud(c))})).next((()=>({documents:i,Or:a})))}Fr(e,t,i){if(t.isEmpty())return j.resolve();let a=new et(Db);t.forEach((p=>a=a.add(p)));const l=IDBKeyRange.bound(Vu(a.first()),Vu(a.last())),c=a.getIterator();let d=c.getNext();return ha(e).ee({index:kf,range:l},((p,g,_)=>{const T=oe.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&Db(d,T)<0;)i(d,null),d=c.getNext();d&&d.isEqual(T)&&(i(d,g),d=c.hasNext()?c.getNext():null),d?_.j(Vu(d)):_.done()})).next((()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,i,a,l){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),od(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],p=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ha(e).J(IDBKeyRange.bound(d,p,!0)).next((g=>{l==null||l.incrementDocumentReadCount(g.length);let _=kn();for(const T of g){const w=this.Cr(oe.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);w.isFoundDocument()&&(Ic(t,w)||a.has(w.key))&&(_=_.insert(w.key,w))}return _}))}getAllFromCollectionGroup(e,t,i,a){let l=kn();const c=Nb(t,i),d=Nb(t,Vn.max());return ha(e).ee({index:jw,range:IDBKeyRange.bound(c,d,!0)},((p,g,_)=>{const T=this.Cr(oe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);l=l.insert(T.key,T),l.size===a&&_.done()})).next((()=>l))}newChangeBuffer(e){return new SO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return Cb(e).get(Ig).next((t=>(ye(!!t,20021),t)))}Dr(e,t){return Cb(e).put(Ig,t)}Cr(e,t){if(t){const i=uO(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(ve.min())))return i}return vt.newInvalidDocument(e)}}function JS(r){return new wO(r)}class SO extends XS{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Rr((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(e){const t=[];let i=0,a=new et(((l,c)=>Se(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Br.get(l);if(t.push(this.Nr.removeEntry(e,l,d.readTime)),c.isValidDocument()){const p=fb(this.Nr.serializer,c);a=a.add(l.path.popLast());const g=ud(p);i+=g-d.size,t.push(this.Nr.addEntry(e,l,p))}else if(i-=d.size,this.trackRemovals){const p=fb(this.Nr.serializer,c.convertToNoDocument(ve.min()));t.push(this.Nr.addEntry(e,l,p))}})),a.forEach((l=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Nr.updateMetadata(e,i)),j.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((i=>(this.Br.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:i,Or:a})=>(a.forEach(((l,c)=>{this.Br.set(l,{size:c,readTime:i.get(l).readTime})})),i)))}}function Cb(r){return qt(r,ac)}function ha(r){return qt(r,Zf)}function Vu(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Nb(r,e){const t=e.documentKey.path.toArray();return[r,od(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Db(r,e){const t=r.path.toArray(),i=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(a=Se(t[l],i[l]),a)return a;return a=Se(t.length,i.length),a||(a=Se(t[t.length-2],i[i.length-2]),a||Se(t[t.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Wu(i.mutation,a,Tn.empty(),We.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,ke()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=ke()){const a=Fi();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Uu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Fi();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,ke())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,a){let l=kn();const c=Ju(),d=(function(){return Ju()})();return t.forEach(((p,g)=>{const _=i.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof xr)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Wu(_.mutation,g,_.mutation.getFieldMask(),We.now())):c.set(g.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>d.set(g,new IO(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Ju();let a=new pt(((c,d)=>c-d)),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=i.get(p)||Tn.empty();_=d.applyToLocalView(g,_),i.set(p,_);const T=(a.get(d.batchId)||ke()).add(p);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,T=pS();_.forEach((w=>{if(!l.has(w)){const k=bS(t.get(w),i.get(w));k!==null&&T.set(w,k),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return j.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(c){return oe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):j.resolve(Fi());let d=nc,p=l;return c.next((g=>j.forEach(g,((_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?j.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{p=p.insert(_,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,ke()))).next((_=>({batchId:d,changes:mS(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oe(t)).next((i=>{let a=Uu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Uu();return this.indexManager.getCollectionParents(e,l).next((d=>j.forEach(d,(p=>{const g=(function(T,w){return new Tl(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((_=>{_.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,vt.newInvalidDocument(_)))}));let d=Uu();return c.forEach(((p,g)=>{const _=l.get(p);_!==void 0&&Wu(_.mutation,g,Tn.empty(),We.now()),Ic(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return j.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:dn(a.createTime)}})(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:BS(a.bundledQuery),readTime:dn(a.readTime)}})(t)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.overlays=new pt(oe.comparator),this.qr=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Fi();return j.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),j.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),j.resolve()}getOverlaysForCollection(e,t,i){const a=Fi(),l=t.length+1,c=new oe(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return j.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new pt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=Fi(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Fi(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=a)););return j.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Dy(t,i));let l=this.qr.get(t);l===void 0&&(l=ke(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.Qr=new et(Qt.$r),this.Ur=new et(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Qt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Qt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new oe(new Qe([])),i=new Qt(t,e),a=new Qt(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new oe(new Qe([])),i=new Qt(t,e),a=new Qt(t,e+1);let l=ke();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Qt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return oe.comparator(e.key,t.key)||Se(e.Yr,t.Yr)}static Kr(e,t){return Se(e.Yr,t.Yr)||oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new et(Qt.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Cy(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Qt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return j.resolve(c)}lookupMutationBatch(e,t){return j.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return j.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Ta:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Qt(t,0),a=new Qt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),j.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new et(Se);return t.forEach((a=>{const l=new Qt(a,0),c=new Qt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),j.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;oe.isDocumentKey(l)||(l=l.child(""));const c=new Qt(new oe(l),0);let d=new et(Se);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Yr)),!0)}),c),j.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){ye(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return j.forEach(t.mutations,(a=>{const l=new Qt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Qt(t,0),a=this.Zr.firstAfterOrEqual(i);return j.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.ri=e,this.docs=(function(){return new pt(oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return j.resolve(i?i.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let i=kn();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():vt.newInvalidDocument(a))})),j.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=kn();const c=t.path,d=new oe(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||yy(Ow(_),i)<=0||(a.has(_.key)||Ic(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return j.resolve(l)}getAllFromCollectionGroup(e,t,i,a){fe(9500)}ii(e,t){return j.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new kO(this)}getSize(e){return j.resolve(this.size)}}class kO extends XS{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),j.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.persistence=e,this.si=new Rr((t=>Va(t)),wc),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Py,this.targetCount=0,this.ai=La.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),j.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new La(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.Pr(t),j.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),j.waitFor(l).next((()=>a))}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return j.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),j.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),j.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),j.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return j.resolve(i)}containsKey(e,t){return j.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,t){this.ui={},this.overlays={},this.ci=new Jn(0),this.li=!1,this.li=!0,this.hi=new CO,this.referenceDelegate=e(this),this.Pi=new OO(this),this.indexManager=new yO,this.remoteDocumentCache=(function(a){return new DO(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new US(t),this.Ii=new RO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new NO(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){re("MemoryPersistence","Starting transaction:",e);const a=new VO(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return j.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class VO extends Mw{constructor(e){super(),this.currentSequenceNumber=e}}class Pd{constructor(e){this.persistence=e,this.Ri=new Py,this.Vi=null}static mi(e){return new Pd(e)}get fi(){if(this.Vi)return this.Vi;throw fe(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),j.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),j.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,(i=>{const a=oe.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,ve.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return j.or([()=>j.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class cd{constructor(e,t){this.persistence=e,this.pi=new Rr((i=>ln(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=$S(this,t)}static mi(e,t){return new cd(e,t)}Ei(){}di(e){return j.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return j.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?j.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(i++,l.removeEntry(c,ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),j.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),j.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),j.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vf(e.data.value)),t}br(e,t,i){return j.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return j.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.serializer=e}k(e,t,i,a){const l=new Ad("createOrUpgrade",t);i<1&&a>=1&&((function(p){p.createObjectStore(Ac)})(e),(function(p){p.createObjectStore(sc,{keyPath:Qk}),p.createObjectStore(fi,{keyPath:FT,autoIncrement:!0}).createIndex(Ea,qT,{unique:!0}),p.createObjectStore(el)})(e),kb(e),(function(p){p.createObjectStore(pa)})(e));let c=j.resolve();return i<3&&a>=3&&(i!==0&&((function(p){p.deleteObjectStore(nl),p.deleteObjectStore(tl),p.deleteObjectStore(ba)})(e),kb(e)),c=c.next((()=>(function(p){const g=p.store(ba),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ve.min().toTimestamp(),targetCount:0};return g.put(ed,_)})(l)))),i<4&&a>=4&&(i!==0&&(c=c.next((()=>(function(p,g){return g.store(fi).J().next((T=>{p.deleteObjectStore(fi),p.createObjectStore(fi,{keyPath:FT,autoIncrement:!0}).createIndex(Ea,qT,{unique:!0});const w=g.store(fi),k=T.map((z=>w.put(z)));return j.waitFor(k)}))})(e,l)))),c=c.next((()=>{(function(p){p.createObjectStore(il,{keyPath:n4})})(e)}))),i<5&&a>=5&&(c=c.next((()=>this.yi(l)))),i<6&&a>=6&&(c=c.next((()=>((function(p){p.createObjectStore(ac)})(e),this.wi(l))))),i<7&&a>=7&&(c=c.next((()=>this.Si(l)))),i<8&&a>=8&&(c=c.next((()=>this.bi(e,l)))),i<9&&a>=9&&(c=c.next((()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&a>=10&&(c=c.next((()=>this.Di(l)))),i<11&&a>=11&&(c=c.next((()=>{(function(p){p.createObjectStore(Sd,{keyPath:i4})})(e),(function(p){p.createObjectStore(Id,{keyPath:r4})})(e)}))),i<12&&a>=12&&(c=c.next((()=>{(function(p){const g=p.createObjectStore(Rd,{keyPath:h4});g.createIndex(xg,f4,{unique:!1}),g.createIndex(Fw,d4,{unique:!1})})(e)}))),i<13&&a>=13&&(c=c.next((()=>(function(p){const g=p.createObjectStore(Zf,{keyPath:$k});g.createIndex(kf,Xk),g.createIndex(jw,Jk)})(e))).next((()=>this.Ci(e,l))).next((()=>e.deleteObjectStore(pa)))),i<14&&a>=14&&(c=c.next((()=>this.Fi(e,l)))),i<15&&a>=15&&(c=c.next((()=>(function(p){p.createObjectStore(Ey,{keyPath:s4,autoIncrement:!0}).createIndex(Rg,a4,{unique:!1}),p.createObjectStore(Qu,{keyPath:o4}).createIndex(zw,l4,{unique:!1}),p.createObjectStore(Yu,{keyPath:u4}).createIndex(Bw,c4,{unique:!1})})(e)))),i<16&&a>=16&&(c=c.next((()=>{t.objectStore(Qu).clear()})).next((()=>{t.objectStore(Yu).clear()}))),i<17&&a>=17&&(c=c.next((()=>{(function(p){p.createObjectStore(Ty,{keyPath:m4})})(e)}))),i<18&&a>=18&&kA()&&(c=c.next((()=>{t.objectStore(Qu).clear()})).next((()=>{t.objectStore(Yu).clear()}))),c}wi(e){let t=0;return e.store(pa).ee(((i,a)=>{t+=ud(a)})).next((()=>{const i={byteSize:t};return e.store(ac).put(Ig,i)}))}yi(e){const t=e.store(sc),i=e.store(fi);return t.J().next((a=>j.forEach(a,(l=>{const c=IDBKeyRange.bound([l.userId,Ta],[l.userId,l.lastAcknowledgedBatchId]);return i.J(Ea,c).next((d=>j.forEach(d,(p=>{ye(p.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:p.batchId});const g=ya(this.serializer,p);return GS(e,l.userId,g).next((()=>{}))}))))}))))}Si(e){const t=e.store(nl),i=e.store(pa);return e.store(ba).get(ed).next((a=>{const l=[];return i.ee(((c,d)=>{const p=new Qe(c),g=(function(T){return[0,ln(T)]})(p);l.push(t.get(g).next((_=>_?j.resolve():(T=>t.put({targetId:0,path:ln(T),sequenceNumber:a.highestListenSequenceNumber}))(p))))})).next((()=>j.waitFor(l)))}))}bi(e,t){e.createObjectStore(oc,{keyPath:t4});const i=t.store(oc),a=new My,l=c=>{if(a.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:ln(p)})}};return t.store(pa).ee({X:!0},((c,d)=>{const p=new Qe(c);return l(p.popLast())})).next((()=>t.store(el).ee({X:!0},(([c,d,p],g)=>{const _=Bi(d);return l(_.popLast())}))))}Di(e){const t=e.store(tl);return t.ee(((i,a)=>{const l=Bu(a),c=zS(this.serializer,l);return t.put(c)}))}Ci(e,t){const i=t.store(pa),a=[];return i.ee(((l,c)=>{const d=t.store(Zf),p=(function(T){return T.document?new oe(Qe.fromString(T.document.name).popFirst(5)):T.noDocument?oe.fromSegments(T.noDocument.path):T.unknownDocument?oe.fromSegments(T.unknownDocument.path):fe(36783)})(c).path.toArray(),g={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(g))})).next((()=>j.waitFor(a)))}Fi(e,t){const i=t.store(fi),a=JS(this.serializer),l=new Ly(Pd.mi,this.serializer.yt);return i.J().next((c=>{const d=new Map;return c.forEach((p=>{let g=d.get(p.userId)??ke();ya(this.serializer,p).keys().forEach((_=>g=g.add(_))),d.set(p.userId,g)})),j.forEach(d,((p,g)=>{const _=new en(g),T=Vd.wt(this.serializer,_),w=l.getIndexManager(_),k=Md.wt(_,this.serializer,w,l.referenceDelegate);return new WS(a,k,T,w).recalculateAndSaveOverlaysForDocumentKeys(new Cg(t,Jn.ce),p).next()}))}))}}function kb(r){r.createObjectStore(nl,{keyPath:Zk}).createIndex(vy,e4,{unique:!0}),r.createObjectStore(tl,{keyPath:"targetId"}).createIndex(Uw,Wk,{unique:!0}),r.createObjectStore(ba)}const fs="IndexedDbPersistence",sg=18e5,ag=5e3,og="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",PO="main";class jy{constructor(e,t,i,a,l,c,d,p,g,_,T=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Mi=l,this.window=c,this.document=d,this.xi=g,this.Oi=_,this.Ni=T,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!jy.v())throw new se(J.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AO(this,a),this.$i=t+PO,this.serializer=new US(p),this.Ui=new As(this.$i,this.Ni,new MO(this.serializer)),this.hi=new hO,this.Pi=new vO(this.referenceDelegate,this.serializer),this.remoteDocumentCache=JS(this.serializer),this.Ii=new cO,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,_===!1&&fn(fs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new se(J.FAILED_PRECONDITION,og);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Jn(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Tf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ks(e))return re(fs,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return re(fs,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Mu(e).get(Vo).next((t=>j.resolve(this.es(t))))}ts(e){return Tf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,sg)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=qt(t,il);return i.J().next((a=>{const l=this.ss(a,sg),c=a.filter((d=>l.indexOf(d)===-1));return j.forEach(c,(d=>i.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?j.resolve(!0):Mu(e).get(Vo).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ag)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new se(J.FAILED_PRECONDITION,og);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tf(e).J().next((i=>this.ss(i,ag).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&re(fs,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Ac,il],(e=>{const t=new Cg(e,Jn.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((i=>this.rs(i.updateTimeMs,t)&&!this.us(i.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Tf(e).J().next((t=>this.ss(t,sg).map((i=>i.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Md.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _O(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Vd.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,i){re(fs,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=(function(p){return p===18?y4:p===17?Kw:p===16?g4:p===15?by:p===14?Gw:p===13?Hw:p===12?p4:p===11?qw:void fe(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,l,(d=>(c=new Cg(d,this.ci?this.ci.next():Jn.ce),t==="readwrite-primary"?this.Hi(c).next((p=>!!p||this.Yi(c))).next((p=>{if(!p)throw fn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new se(J.FAILED_PRECONDITION,Vw);return i(c)})).next((p=>this.Xi(c).next((()=>p)))):this.Is(c).next((()=>i(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Is(e){return Mu(e).get(Vo).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ag)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new se(J.FAILED_PRECONDITION,og)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mu(e).put(Vo,t)}static v(){return As.v()}Zi(e){const t=Mu(e);return t.get(Vo).next((i=>this.es(i)?(re(fs,"Releasing primary lease."),t.delete(Vo)):j.resolve()))}rs(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(fn(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;DA()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const i=((t=this.Ki)==null?void 0:t.getItem(this._s(e)))!==null;return re(fs,`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return fn(fs,"Failed to get zombied client id.",i),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){fn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Mu(r){return qt(r,Ac)}function Tf(r){return qt(r,il)}function LO(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=ke(),a=ke();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Uy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DA()?8:Pw(Ft())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new jO;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(zo()<=Le.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(zo()<=Le.DEBUG&&re("QueryEngine","Query:",Bo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(zo()<=Le.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(t))):j.resolve())}ys(e,t){if(nb(t))return j.resolve(null);let i=Wn(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=rd(t,null,"F"),i=Wn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=ke(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,c,p.readTime)?this.ys(e,rd(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,i,a){return nb(t)||a.isEqual(ve.min())?j.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?j.resolve(null):(zo()<=Le.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bo(t)),this.vs(e,c,t,zk(a,nc)).next((d=>d)))}))}Ds(e,t){let i=new et(fS(e));return t.forEach(((a,l)=>{Ic(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return zo()<=Le.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.ps.getDocumentsMatchingQuery(e,t,Vn.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="LocalStore",UO=3e8;class zO{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new pt(Se),this.xs=new Rr((l=>Va(l)),wc),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function e1(r,e,t,i){return new zO(r,e,t,i)}async function t1(r,e){const t=Ie(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=ke();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function BO(r,e){const t=Ie(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const T=g.batch,w=T.keys();let k=j.resolve();return w.forEach((z=>{k=k.next((()=>_.getEntry(p,z))).next((Q=>{const F=g.docVersions.get(z);ye(F!==null,48541),Q.version.compareTo(F)<0&&(T.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),_.addEntry(Q)))}))})),k.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function n1(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function FO(r,e){const t=Ie(r),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((_,T)=>{const w=a.get(T);if(!w)return;d.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,T))));let k=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Pt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):_.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(_.resumeToken,i)),a=a.insert(T,k),(function(Q,F,X){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=UO?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(w,k,_)&&d.push(t.Pi.updateTargetData(l,k))}));let p=kn(),g=ke();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(qO(l,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!i.isEqual(ve.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(_)}return j.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=a,l)))}function qO(r,e,t){let i=ke(),a=ke();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=kn();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(ve.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):re(zy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function HO(r,e){const t=Ie(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ta),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function GO(r,e){const t=Ie(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,j.resolve(a)):t.Pi.allocateTargetId(i).next((c=>(a=new yr(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function qg(r,e,t){const i=Ie(r),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ks(c))throw c;re(zy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Ob(r,e,t){const i=Ie(r);let a=ve.min(),l=ke();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=Ie(p),w=T.xs.get(_);return w!==void 0?j.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,_)})(i,c,Wn(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:ve.min(),t?l:ke()))).next((d=>(KO(i,k4(e),d),{documents:d,Qs:l})))))}function KO(r,e,t){let i=r.Os.get(e)||ve.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}class Vb{constructor(){this.activeTargetIds=j4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i1{constructor(){this.Mo=new Vb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Vb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="ConnectivityMonitor";class Pb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(Mb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(Mb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf=null;function Hg(){return bf===null?bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():bf++,"0x"+bf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="RestConnection",YO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $O{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===td?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=Hg(),d=this.zo(e,t.toUriEncodedString());re(lg,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(d),_=yl(g);return this.Jo(e,d,p,i,_).then((T=>(re(lg,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw ka(lg,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",i),T}))}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=YO[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class JO extends $O{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=Hg();return new Promise(((d,p)=>{const g=new Aw;g.setWithCredentials(!0),g.listenOnce(ww.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Cf.NO_ERROR:const T=g.getResponseJson();re(rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Cf.TIMEOUT:re(rn,`RPC '${e}' ${c} timed out`),p(new se(J.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const w=g.getStatus();if(re(rn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const z=k==null?void 0:k.error;if(z&&z.status&&z.message){const Q=(function(X){const ee=X.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ee)>=0?ee:J.UNKNOWN})(z.status);p(new se(Q,z.message))}else p(new se(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new se(J.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{re(rn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(a);re(rn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",_,i,15)}))}T_(e,t,i){const a=Hg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Rw(),d=Iw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");re(rn,`Creating RPC '${e}' stream ${a}: ${_}`,p);const T=c.createWebChannel(_,p);this.I_(T);let w=!1,k=!1;const z=new XO({Yo:F=>{k?re(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,F):(w||(re(rn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),w=!0),re(rn,`RPC '${e}' stream ${a} sending:`,F),T.send(F))},Zo:()=>T.close()}),Q=(F,X,ee)=>{F.listen(X,(U=>{try{ee(U)}catch(de){setTimeout((()=>{throw de}),0)}}))};return Q(T,ju.EventType.OPEN,(()=>{k||(re(rn,`RPC '${e}' stream ${a} transport opened.`),z.o_())})),Q(T,ju.EventType.CLOSE,(()=>{k||(k=!0,re(rn,`RPC '${e}' stream ${a} transport closed`),z.a_(),this.E_(T))})),Q(T,ju.EventType.ERROR,(F=>{k||(k=!0,ka(rn,`RPC '${e}' stream ${a} transport errored. Name:`,F.name,"Message:",F.message),z.a_(new se(J.UNAVAILABLE,"The operation could not be completed")))})),Q(T,ju.EventType.MESSAGE,(F=>{var X;if(!k){const ee=F.data[0];ye(!!ee,16349);const U=ee,de=(U==null?void 0:U.error)||((X=U[0])==null?void 0:X.error);if(de){re(rn,`RPC '${e}' stream ${a} received error:`,de);const ge=de.status;let me=(function(x){const M=Vt[x];if(M!==void 0)return SS(M)})(ge),R=de.message;me===void 0&&(me=J.INTERNAL,R="Unknown error status: "+ge+" with message "+de.message),k=!0,z.a_(new se(me,R)),T.close()}else re(rn,`RPC '${e}' stream ${a} received:`,ee),z.u_(ee)}})),Q(d,Sw.STAT_EVENT,(F=>{F.stat===Ag.PROXY?re(rn,`RPC '${e}' stream ${a} detected buffering proxy`):F.stat===Ag.NOPROXY&&re(rn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){return typeof window<"u"?window:null}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(r){return new Z4(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="PersistentStream";class s1{constructor(e,t,i,a,l,c,d,p){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new r1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(fn(t.toString()),fn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new se(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(Lb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(re(Lb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZO extends s1{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=nO(this.serializer,e),i=(function(l){if(!("targetChange"in l))return ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ve.min():c.readTime?dn(c.readTime):ve.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=jg(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=nd(p)?{documents:OS(l,p)}:{query:VS(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=xS(l,c.resumeToken);const g=Pg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(ve.min())>0){d.readTime=fl(l,c.snapshotVersion.toTimestamp());const g=Pg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=rO(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=jg(this.serializer),t.removeTarget=e,this.q_(t)}}class eV extends s1{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=iO(e.writeResults,e.commitTime),i=dn(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=jg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>ad(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{}class nV extends tV{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new se(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Lg(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new se(J.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Lg(t,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fn(t),this.aa=!1):re("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class rV{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Fa(this)&&(re(ja,"Restarting streams for network reachability change."),await(async function(p){const g=Ie(p);g.Ea.add(4),await Cc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await jd(g)})(this))}))})),this.Ra=new iV(i,a)}}async function jd(r){if(Fa(r))for(const e of r.da)await e(!0)}async function Cc(r){for(const e of r.da)await e(!1)}function a1(r,e){const t=Ie(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Hy(t)?qy(t):Al(t).O_()&&Fy(t,e))}function By(r,e){const t=Ie(r),i=Al(t);t.Ia.delete(e),i.O_()&&o1(t,e),t.Ia.size===0&&(i.O_()?i.L_():Fa(t)&&t.Ra.set("Unknown"))}function Fy(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Al(r).Y_(e)}function o1(r,e){r.Va.Ue(e),Al(r).Z_(e)}function qy(r){r.Va=new $4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Al(r).start(),r.Ra.ua()}function Hy(r){return Fa(r)&&!Al(r).x_()&&r.Ia.size>0}function Fa(r){return Ie(r).Ea.size===0}function l1(r){r.Va=void 0}async function sV(r){r.Ra.set("Online")}async function aV(r){r.Ia.forEach(((e,t)=>{Fy(r,e)}))}async function oV(r,e){l1(r),Hy(r)?(r.Ra.ha(e),qy(r)):r.Ra.set("Unknown")}async function lV(r,e,t){if(r.Ra.set("Online"),e instanceof RS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(r,e)}catch(i){re(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hd(r,i)}else if(e instanceof Lf?r.Va.Ze(e):e instanceof IS?r.Va.st(e):r.Va.tt(e),!t.isEqual(ve.min()))try{const i=await n1(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(Pt.EMPTY_BYTE_STRING,_.snapshotVersion)),o1(l,p);const T=new yr(_.target,p,g,_.sequenceNumber);Fy(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(i){re(ja,"Failed to raise snapshot:",i),await hd(r,i)}}async function hd(r,e,t){if(!ks(e))throw e;r.Ea.add(1),await Cc(r),r.Ra.set("Offline"),t||(t=()=>n1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{re(ja,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await jd(r)}))}function u1(r,e){return e().catch((t=>hd(r,t,e)))}async function Nc(r){const e=Ie(r),t=Rs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ta;for(;uV(e);)try{const a=await HO(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,cV(e,a)}catch(a){await hd(e,a)}c1(e)&&h1(e)}function uV(r){return Fa(r)&&r.Ta.length<10}function cV(r,e){r.Ta.push(e);const t=Rs(r);t.O_()&&t.X_&&t.ea(e.mutations)}function c1(r){return Fa(r)&&!Rs(r).x_()&&r.Ta.length>0}function h1(r){Rs(r).start()}async function hV(r){Rs(r).ra()}async function fV(r){const e=Rs(r);for(const t of r.Ta)e.ea(t.mutations)}async function dV(r,e,t){const i=r.Ta.shift(),a=Ny.from(i,e,t);await u1(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await Nc(r)}async function mV(r,e){e&&Rs(r).X_&&await(async function(i,a){if((function(c){return K4(c)&&c!==J.ABORTED})(a.code)){const l=i.Ta.shift();Rs(i).B_(),await u1(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Nc(i)}})(r,e),c1(r)&&h1(r)}async function jb(r,e){const t=Ie(r);t.asyncQueue.verifyOperationInProgress(),re(ja,"RemoteStore received new credentials");const i=Fa(t);t.Ea.add(3),await Cc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await jd(t)}async function pV(r,e){const t=Ie(r);e?(t.Ea.delete(2),await jd(t)):e||(t.Ea.add(2),await Cc(t),t.Ra.set("Unknown"))}function Al(r){return r.ma||(r.ma=(function(t,i,a){const l=Ie(t);return l.sa(),new ZO(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:sV.bind(null,r),t_:aV.bind(null,r),r_:oV.bind(null,r),H_:lV.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Hy(r)?qy(r):r.Ra.set("Unknown")):(await r.ma.stop(),l1(r))}))),r.ma}function Rs(r){return r.fa||(r.fa=(function(t,i,a){const l=Ie(t);return l.sa(),new eV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:hV.bind(null,r),r_:mV.bind(null,r),ta:fV.bind(null,r),na:dV.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Nc(r)):(await r.fa.stop(),r.Ta.length>0&&(re(ja,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Gy(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ky(r,e){if(fn("AsyncQueue",`${e}: ${r}`),ks(r))return new se(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{static emptySet(e){return new $o(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||oe.comparator(t.key,i.key):(t,i)=>oe.comparator(t.key,i.key),this.keyedMap=Uu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new $o;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.ga=new pt(oe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):fe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class dl{constructor(e,t,i,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new dl(e,t,$o.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yV{constructor(){this.queries=zb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Ie(t),l=a.queries;a.queries=zb(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(i)}))})(this,new se(J.ABORTED,"Firestore shutting down"))}}function zb(){return new Rr((r=>hS(r)),Nd)}async function Qy(r,e){const t=Ie(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new gV,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Ky(c,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&$y(t)}async function Yy(r,e){const t=Ie(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function _V(r,e){const t=Ie(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&$y(t)}function vV(r,e,t){const i=Ie(r),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function $y(r){r.Ca.forEach((e=>{e.next()}))}var Gg,Bb;(Bb=Gg||(Gg={})).Ma="default",Bb.Cache="cache";class Xy{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new dl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.key=e}}class d1{constructor(e){this.key=e}}class EV{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=fS(e),this.tu=new $o(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Ub,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,T)=>{const w=a.get(_),k=Ic(this.query,T)?T:null,z=!!w&&this.mutatedKeys.has(w.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;w&&k?w.data.isEqual(k.data)?z!==Q&&(i.track({type:3,doc:k}),F=!0):this.su(w,k)||(i.track({type:2,doc:k}),F=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(d=!0)):!w&&k?(i.track({type:0,doc:k}),F=!0):w&&!k&&(i.track({type:1,doc:w}),F=!0,(p||g)&&(d=!0)),F&&(k?(c=c.add(k),l=Q?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,T)=>(function(k,z){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Rt:F})}};return Q(k)-Q(z)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new dl(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ub,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new d1(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new f1(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jy="SyncEngine";class TV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class bV{constructor(e){this.key=e,this.hu=!1}}class AV{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Rr((d=>hS(d)),Nd),this.Iu=new Map,this.Eu=new Set,this.du=new pt(oe.comparator),this.Au=new Map,this.Ru=new Py,this.Vu={},this.mu=new Map,this.fu=La.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wV(r,e,t=!0){const i=v1(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await m1(i,e,t,!0),a}async function SV(r,e){const t=v1(r);await m1(t,e,!0,!1)}async function m1(r,e,t,i){const a=await GO(r.localStore,Wn(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await IV(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&a1(r.remoteStore,a),d}async function IV(r,e,t,i,a){r.pu=(T,w,k)=>(async function(Q,F,X,ee){let U=F.view.ru(X);U.Cs&&(U=await Ob(Q.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,U))));const de=ee&&ee.targetChanges.get(F.targetId),ge=ee&&ee.targetMismatches.get(F.targetId)!=null,me=F.view.applyChanges(U,Q.isPrimaryClient,de,ge);return qb(Q,F.targetId,me.au),me.snapshot})(r,T,w,k);const l=await Ob(r.localStore,e,!0),c=new EV(e,l.Qs),d=c.ru(l.documents),p=xc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),g=c.applyChanges(d,r.isPrimaryClient,p);qb(r,t,g.au);const _=new TV(e,t,c);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function RV(r,e,t){const i=Ie(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Nd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await qg(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&By(i.remoteStore,a.targetId),Kg(i,a.targetId)})).catch(Ba)):(Kg(i,a.targetId),await qg(i.localStore,a.targetId,!0))}async function xV(r,e){const t=Ie(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),By(t.remoteStore,i.targetId))}async function CV(r,e,t){const i=E1(r);try{const a=await(function(c,d){const p=Ie(c),g=We.now(),_=d.reduce(((k,z)=>k.add(z.key)),ke());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let z=kn(),Q=ke();return p.Ns.getEntries(k,_).next((F=>{z=F,z.forEach(((X,ee)=>{ee.isValidDocument()||(Q=Q.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,z))).next((F=>{T=F;const X=[];for(const ee of d){const U=H4(ee,T.get(ee.key).overlayedDocument);U!=null&&X.push(new xr(ee.key,U,nS(U.value.mapValue),Bt.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,X,d)})).next((F=>{w=F;const X=F.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(k,F.batchId,X)}))})).then((()=>({batchId:w.batchId,changes:mS(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new pt(Se)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,t),await Dc(i,a.changes),await Nc(i.remoteStore)}catch(a){const l=Ky(a,"Failed to persist write");t.reject(l)}}async function p1(r,e){const t=Ie(r);try{const i=await FO(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ye(c.hu,14607):a.removedDocuments.size>0&&(ye(c.hu,42227),c.hu=!1))})),await Dc(t,i,e)}catch(i){await Ba(i)}}function Fb(r,e,t){const i=Ie(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=Ie(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,T)=>{for(const w of T.Sa)w.va(d)&&(g=!0)})),g&&$y(p)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function NV(r,e,t){const i=Ie(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new pt(oe.comparator);c=c.insert(l,vt.newNoDocument(l,ve.min()));const d=ke().add(l),p=new Od(ve.min(),new Map,new pt(Se),c,d);await p1(i,p),i.du=i.du.remove(l),i.Au.delete(e),Wy(i)}else await qg(i.localStore,e,!1).then((()=>Kg(i,e,t))).catch(Ba)}async function DV(r,e){const t=Ie(r),i=e.batch.batchId;try{const a=await BO(t.localStore,e);y1(t,i,null),g1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Dc(t,a)}catch(a){await Ba(a)}}async function kV(r,e,t){const i=Ie(r);try{const a=await(function(c,d){const p=Ie(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(ye(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(i.localStore,e);y1(i,e,t),g1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Dc(i,a)}catch(a){await Ba(a)}}function g1(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function y1(r,e,t){const i=Ie(r);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Kg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||_1(r,i)}))}function _1(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(By(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Wy(r))}function qb(r,e,t){for(const i of t)i instanceof f1?(r.Ru.addReference(i.key,e),OV(r,i)):i instanceof d1?(re(Jy,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||_1(r,i.key)):fe(19791,{wu:i})}function OV(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(re(Jy,"New document in limbo: "+t),r.Eu.add(i),Wy(r))}function Wy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new oe(Qe.fromString(e)),i=r.fu.next();r.Au.set(i,new bV(t)),r.du=r.du.insert(t,i),a1(r.remoteStore,new yr(Wn(Sc(t.path)),i,"TargetPurposeLimboResolution",Jn.ce))}}async function Dc(r,e,t){const i=Ie(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{c.push(i.pu(p,e,t).then((g=>{var _;if((g||t)&&i.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){a.push(g);const T=Uy.As(p.targetId,g);l.push(T)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(p,g){const _=Ie(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>j.forEach(g,(w=>j.forEach(w.Es,(k=>_.persistence.referenceDelegate.addReference(T,w.targetId,k))).next((()=>j.forEach(w.ds,(k=>_.persistence.referenceDelegate.removeReference(T,w.targetId,k)))))))))}catch(T){if(!ks(T))throw T;re(zy,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const k=_.Ms.get(w),z=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(z);_.Ms=_.Ms.insert(w,Q)}}})(i.localStore,l))}async function VV(r,e){const t=Ie(r);if(!t.currentUser.isEqual(e)){re(Jy,"User change. New user:",e.toKey());const i=await t1(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new se(J.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Dc(t,i.Ls)}}function MV(r,e){const t=Ie(r),i=t.Au.get(e);if(i&&i.hu)return ke().add(i.key);{let a=ke();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function v1(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=p1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NV.bind(null,e),e.Pu.H_=_V.bind(null,e.eventManager),e.Pu.yu=vV.bind(null,e.eventManager),e}function E1(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kV.bind(null,e),e}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ld(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return e1(this.persistence,new ZS,e.initialUser,this.serializer)}Cu(e){return new Ly(Pd.mi,this.serializer)}Du(e){return new i1}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class PV extends dc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ye(this.persistence.referenceDelegate instanceof cd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new YS(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new Ly((i=>cd.mi(i,t)),this.serializer)}}class LV extends dc{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await E1(this.xu.syncEngine),await Nc(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return e1(this.persistence,new ZS,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new YS(i,e.asyncQueue,t)}Mu(e,t){const i=new Hk(t,this.persistence);return new qk(e.asyncQueue,i)}Cu(e){const t=LO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new jy(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,WO(),Uf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new i1}}class fd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Fb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=VV.bind(null,this.syncEngine),await pV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yV})()}createDatastore(e){const t=Ld(e.databaseInfo.databaseId),i=(function(l){return new JO(l)})(e.databaseInfo);return(function(l,c,d,p){return new nV(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,d){return new rV(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Fb(this.syncEngine,t,0)),(function(){return Pb.v()?new Pb:new QO})())}createSyncEngine(e,t){return(function(a,l,c,d,p,g,_){const T=new AV(a,l,c,d,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const l=Ie(a);re(ja,"RemoteStore shutting down."),l.Ea.add(5),await Cc(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}fd.provider={build:()=>new fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="FirestoreClient";class jV{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=gy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{re(xs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(re(xs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ky(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ug(r,e){r.asyncQueue.verifyOperationInProgress(),re(xs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await t1(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Hb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await UV(r);re(xs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>jb(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>jb(e.remoteStore,a))),r._onlineComponents=e}async function UV(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){re(xs,"Using user provided OfflineComponentProvider");try{await ug(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;ka("Error using user provided cache. Falling back to memory cache: "+t),await ug(r,new dc)}}else re(xs,"Using default OfflineComponentProvider"),await ug(r,new PV(void 0));return r._offlineComponents}async function T1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(re(xs,"Using user provided OnlineComponentProvider"),await Hb(r,r._uninitializedComponentsProvider._online)):(re(xs,"Using default OnlineComponentProvider"),await Hb(r,new fd))),r._onlineComponents}function zV(r){return T1(r).then((e=>e.syncEngine))}async function dd(r){const e=await T1(r),t=e.eventManager;return t.onListen=wV.bind(null,e.syncEngine),t.onUnlisten=RV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xV.bind(null,e.syncEngine),t}function BV(r,e,t={}){const i=new Gi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new Zy({next:w=>{_.Nu(),c.enqueueAndForget((()=>Yy(l,T)));const k=w.docs.has(d);!k&&w.fromCache?g.reject(new se(J.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?g.reject(new se(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Xy(Sc(d.path),_,{includeMetadataChanges:!0,qa:!0});return Qy(l,T)})(await dd(r),r.asyncQueue,e,t,i))),i.promise}function FV(r,e,t={}){const i=new Gi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new Zy({next:w=>{_.Nu(),c.enqueueAndForget((()=>Yy(l,T))),w.fromCache&&p.source==="server"?g.reject(new se(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Xy(d,_,{includeMetadataChanges:!0,qa:!0});return Qy(l,T)})(await dd(r),r.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firestore.googleapis.com",Kb=!0;class Qb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A1,this.ssl=Kb}else this.host=e.host,this.ssl=e.ssl??Kb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EO)throw new se(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new xk;switch(i.type){case"firstParty":return new kk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new se(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Gb.get(t);i&&(re("ComponentProvider","Removing Datastore"),Gb.delete(t),i.terminate())})(this),Promise.resolve()}}function qV(r,e,t,i={}){var g;r=on(r,Ud);const a=yl(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(xA(`https://${d}`),CA("Firestore",!0)),l.host!==A1&&l.host!==d&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:i};if(!Ia(p,c)&&(r._setSettings(p),i.mockUserToken)){let _,T;if(typeof i.mockUserToken=="string")_=i.mockUserToken,T=en.MOCK_USER;else{_=L2(i.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new se(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(w)}r._authCredentials=new Ck(new Cw(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Cr(this.firestore,e,this._query)}}class Et{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(bc(t,Et._jsonSchema))return new Et(e,i||null,new oe(Qe.fromString(t.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Mt("string",Et._jsonSchemaVersion),referencePath:Mt("string")};class ws extends Cr{constructor(e,t,i){super(e,t,Sc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new oe(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function AM(r,e,...t){if(r=mt(r),Dw("collection","path",e),r instanceof Ud){const i=Qe.fromString(e,...t);return LT(i),new ws(r,null,i)}{if(!(r instanceof Et||r instanceof ws))throw new se(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Qe.fromString(e,...t));return LT(i),new ws(r.firestore,null,i)}}function e_(r,e,...t){if(r=mt(r),arguments.length===1&&(e=gy.newId()),Dw("doc","path",e),r instanceof Ud){const i=Qe.fromString(e,...t);return PT(i),new Et(r,null,new oe(i))}{if(!(r instanceof Et||r instanceof ws))throw new se(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Qe.fromString(e,...t));return PT(i),new Et(r.firestore,r instanceof ws?r.converter:null,new oe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="AsyncQueue";class $b{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new r1(this,"async_queue_retry"),this._c=()=>{const i=Uf();i&&re(Yb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Uf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Uf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ks(e))throw e;re(Yb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,fn("INTERNAL UNHANDLED ERROR: ",Xb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Gy.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&fe(47125,{Pc:Xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Xb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(r,["next","error","complete"])}class pi extends Ud{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new $b,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $b(e),this._firestoreClient=void 0,await e}}}function HV(r,e){const t=typeof r=="object"?r:PA(),i=typeof r=="string"?r:td,a=sy(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=M2("firestore");l&&qV(a,...l)}return a}function kc(r){if(r._terminated)throw new se(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||w1(r),r._firestoreClient}function w1(r){var i,a,l;const e=r._freezeSettings(),t=(function(d,p,g,_){return new v4(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,b1(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(r._databaseId,((i=r._app)==null?void 0:i.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new jV(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(r._componentsProvider))}function GV(r,e){ka("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings();return KV(r,fd.provider,{build:i=>new LV(i,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function KV(r,e,t){if((r=on(r,pi))._firestoreClient||r._terminated)throw new se(J.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(r._componentsProvider||r._getSettings().localCache)throw new se(J.FAILED_PRECONDITION,"SDK cache is already specified.");r._componentsProvider={_online:e,_offline:t},w1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Pt.fromBase64String(e))}catch(t){throw new se(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xn(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bc(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Mt("string",Xn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(bc(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Mt("string",Ki._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bc(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Qi(e.vectorValues);throw new se(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:Mt("string",Qi._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=/^__.*__$/;class YV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,t,this.fieldTransforms):new bl(e,this.data,t,this.fieldTransforms)}}class S1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new xr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function I1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ac:r})}}class t_{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return md(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(I1(this.Ac)&&QV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $V{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ld(e)}Cc(e,t,i,a=!1){return new t_({Ac:e,methodName:t,Dc:i,path:gt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mc(r){const e=r._freezeSettings(),t=Ld(r._databaseId);return new $V(r._databaseId,!!e.ignoreUndefinedProperties,t)}function n_(r,e,t,i,a,l={}){const c=r.Cc(l.merge||l.mergeFields?2:0,e,t,a);s_("Data must be an object, but it was:",c,i);const d=C1(i,c);let p,g;if(l.merge)p=new Tn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const w=Qg(e,T,t);if(!c.contains(w))throw new se(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);D1(_,w)||_.push(w)}p=new Tn(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new YV(new an(d),p,g)}class zd extends Vc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zd}}class i_ extends Vc{_toFieldTransform(e){return new xy(e.path,new ll)}isEqual(e){return e instanceof i_}}class r_ extends Vc{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new hl(e.serializer,yS(e.serializer,this.Fc));return new xy(e.path,t)}isEqual(e){return e instanceof r_&&this.Fc===e.Fc}}function R1(r,e,t,i){const a=r.Cc(1,e,t);s_("Data must be an object, but it was:",a,i);const l=[],c=an.empty();Os(i,((p,g)=>{const _=a_(e,p,t);g=mt(g);const T=a.yc(_);if(g instanceof zd)l.push(_);else{const w=Pc(g,T);w!=null&&(l.push(_),c.set(_,w))}}));const d=new Tn(l);return new S1(c,d,a.fieldTransforms)}function x1(r,e,t,i,a,l){const c=r.Cc(1,e,t),d=[Qg(e,i,t)],p=[a];if(l.length%2!=0)throw new se(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Qg(e,l[w])),p.push(l[w+1]);const g=[],_=an.empty();for(let w=d.length-1;w>=0;--w)if(!D1(g,d[w])){const k=d[w];let z=p[w];z=mt(z);const Q=c.yc(k);if(z instanceof zd)g.push(k);else{const F=Pc(z,Q);F!=null&&(g.push(k),_.set(k,F))}}const T=new Tn(g);return new S1(_,T,c.fieldTransforms)}function XV(r,e,t,i=!1){return Pc(t,r.Cc(i?4:3,e))}function Pc(r,e){if(N1(r=mt(r)))return s_("Unsupported field value:",e,r),C1(r,e);if(r instanceof Vc)return(function(i,a){if(!I1(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let p=Pc(d,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=mt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return yS(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=We.fromDate(i);return{timestampValue:fl(a.serializer,l)}}if(i instanceof We){const l=new We(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fl(a.serializer,l)}}if(i instanceof Ki)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xn)return{bytesValue:xS(a.serializer,i._byteString)};if(i instanceof Et){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Oy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Qi)return(function(c,d){return{mapValue:{fields:{[wy]:{stringValue:Sy},[rl]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ry(d.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${bd(i)}`)})(r,e)}function C1(r,e){const t={};return Qw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(r,((i,a)=>{const l=Pc(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function N1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof We||r instanceof Ki||r instanceof Xn||r instanceof Et||r instanceof Vc||r instanceof Qi)}function s_(r,e,t){if(!N1(t)||!kw(t)){const i=bd(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Qg(r,e,t){if((e=mt(e))instanceof Oc)return e._internalPath;if(typeof e=="string")return a_(r,e);throw md("Field path arguments must be of type string or ",r,!1,void 0,t)}const JV=new RegExp("[~\\*/\\[\\]]");function a_(r,e,t){if(e.search(JV)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Oc(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function md(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new se(J.INVALID_ARGUMENT,d+r+p)}function D1(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WV extends k1{data(){return super.data()}}function Bd(r,e){return typeof e=="string"?a_(r,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new se(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o_{}class l_ extends o_{}function wM(r,e,...t){let i=[];e instanceof o_&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof u_)).length,d=l.filter((p=>p instanceof Fd)).length;if(c>1||c>0&&d>0)throw new se(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class Fd extends l_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Fd(e,t,i)}_apply(e){const t=this._parse(e);return V1(e._query,t),new Cr(e.firestore,e.converter,Mg(e._query,t))}_parse(e){const t=Mc(e.firestore);return(function(l,c,d,p,g,_,T){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new se(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Zb(T,_);const z=[];for(const Q of T)z.push(Wb(p,l,Q));w={arrayValue:{values:z}}}else w=Wb(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Zb(T,_),w=XV(d,c,T,_==="in"||_==="not-in");return je.create(g,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function SM(r,e,t){const i=e,a=Bd("where",r);return Fd._create(a,i,t)}class u_ extends o_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new u_(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Ze.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)V1(c,p),c=Mg(c,p)})(e._query,t),new Cr(e.firestore,e.converter,Mg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class c_ extends l_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new c_(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new se(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new se(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fc(l,c)})(e._query,this._field,this._direction);return new Cr(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Tl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function IM(r,e="asc"){const t=e,i=Bd("orderBy",r);return c_._create(i,t)}class h_ extends l_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new h_(e,t,i)}_apply(e){return new Cr(e.firestore,e.converter,rd(e._query,this._limit,this._limitType))}}function RM(r){return Uk("limit",r),h_._create("limit",r,"F")}function Wb(r,e,t){if(typeof(t=mt(t))=="string"){if(t==="")throw new se(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cS(e)&&t.indexOf("/")!==-1)throw new se(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Qe.fromString(t));if(!oe.isDocumentKey(i))throw new se(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cc(r,new oe(i))}if(t instanceof Et)return cc(r,t._key);throw new se(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bd(t)}.`)}function Zb(r,e){if(!Array.isArray(r)||r.length===0)throw new se(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V1(r,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new se(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ZV{convertValue(e,t="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Os(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,a,l;const t=(l=(a=(i=e.fields)==null?void 0:i[rl].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>ft(c.doubleValue)));return new Qi(t)}convertGeoPoint(e){return new Ki(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=xd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const t=Ar(e);return new We(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Qe.fromString(e);ye(jS(i),9688,{name:e});const a=new Oa(i.get(1),i.get(3)),l=new oe(i.popFirst(5));return a.isEqual(t)||fn(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wa extends k1{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Bd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=wa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:Mt("string",wa._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class zf extends wa{data(e={}){return super.data(e)}}class Sa{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Fu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new zf(this._firestore,this._userDataWriter,i.key,i,new Fu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new zf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Fu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new zf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Fu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:eM(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(r){r=on(r,Et);const e=on(r.firestore,pi);return BV(kc(e),r._key).then((t=>M1(e,r,t)))}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:Mt("string",Sa._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class d_ extends ZV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}function xM(r){r=on(r,Cr);const e=on(r.firestore,pi),t=kc(e),i=new d_(e);return O1(r._query),FV(t,r._query).then((a=>new Sa(e,i,r,a)))}function CM(r,e,t){r=on(r,Et);const i=on(r.firestore,pi),a=f_(r.converter,e,t);return Lc(i,[n_(Mc(i),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Bt.none())])}function nM(r,e,t,...i){r=on(r,Et);const a=on(r.firestore,pi),l=Mc(a);let c;return c=typeof(e=mt(e))=="string"||e instanceof Oc?x1(l,"updateDoc",r._key,e,t,i):R1(l,"updateDoc",r._key,e),Lc(a,[c.toMutation(r._key,Bt.exists(!0))])}function NM(r){return Lc(on(r.firestore,pi),[new Rc(r._key,Bt.none())])}function DM(r,e){const t=on(r.firestore,pi),i=e_(r),a=f_(r.converter,e);return Lc(t,[n_(Mc(r.firestore),"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,Bt.exists(!1))]).then((()=>i))}function iM(r,...e){var p,g,_;r=mt(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Jb(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Jb(e[i])){const T=e[i];e[i]=(p=T.next)==null?void 0:p.bind(T),e[i+1]=(g=T.error)==null?void 0:g.bind(T),e[i+2]=(_=T.complete)==null?void 0:_.bind(T)}let l,c,d;if(r instanceof Et)c=on(r.firestore,pi),d=Sc(r._key.path),l={next:T=>{e[i]&&e[i](M1(c,r,T))},error:e[i+1],complete:e[i+2]};else{const T=on(r,Cr);c=on(T.firestore,pi),d=T._query;const w=new d_(c);l={next:k=>{e[i]&&e[i](new Sa(c,w,T,k))},error:e[i+1],complete:e[i+2]},O1(r._query)}return(function(w,k,z,Q){const F=new Zy(Q),X=new Xy(k,F,z);return w.asyncQueue.enqueueAndForget((async()=>Qy(await dd(w),X))),()=>{F.Nu(),w.asyncQueue.enqueueAndForget((async()=>Yy(await dd(w),X)))}})(kc(c),d,a,l)}function Lc(r,e){return(function(i,a){const l=new Gi;return i.asyncQueue.enqueueAndForget((async()=>CV(await zV(i),a,l))),l.promise})(kc(r),e)}function M1(r,e,t){const i=t.docs.get(e._key),a=new d_(r);return new wa(r,a,e._key,i,new Fu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Mc(e)}set(e,t,i){this._verifyNotCommitted();const a=cg(e,this._firestore),l=f_(a.converter,t,i),c=n_(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,Bt.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=cg(e,this._firestore);let c;return c=typeof(t=mt(t))=="string"||t instanceof Oc?x1(this._dataReader,"WriteBatch.update",l._key,t,i,a):R1(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Bt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=cg(e,this._firestore);return this._mutations=this._mutations.concat(new Rc(t._key,Bt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cg(r,e){if((r=mt(r)).firestore!==e)throw new se(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function kM(){return new i_("serverTimestamp")}function OM(r){return new r_("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(r){return kc(r=on(r,pi)),new rM(r,(e=>Lc(r,e)))}(function(e,t=!0){(function(a){El=a})(_l),Wo(new Ra("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new pi(new Nk(i.getProvider("auth-internal")),new Ok(c,i.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new se(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oa(g.options.projectId,_)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ts(kT,OT,e),Ts(kT,OT,"esm2020")})();var be=(r=>(r.USER="user",r.ADMIN_REFERRAL="admin referral code",r.ADMIN_DATABASE="admin database",r.ADMIN_REWARD="admin reward",r.ADMIN_NOTIFICATION="admin notification",r.ADMIN_LORD="admin lord",r))(be||{});const P1={apiKey:"AIzaSyDc24eHGwIFcltfsYOwuhig8whHQuhfJ7U",authDomain:"learning-english-geuwat-d7555.firebaseapp.com",projectId:"learning-english-geuwat-d7555",storageBucket:"learning-english-geuwat-d7555.firebasestorage.app",messagingSenderId:"110497450552",appId:"1:110497450552:web:1de6e8e96d77318988b4cd",measurementId:"G-SD5W12S7ZZ"},L1=ay(P1),ml=Tw(L1);mD(ml,fw).then(()=>{console.log("Auth Persistence enabled: SESSION KEPT")}).catch(r=>{console.warn("Auth Persistence setup warning:",r)});const m_=HV(L1);GV(m_).catch(r=>{r.code=="failed-precondition"?console.log("Persistence failed: Multiple tabs open"):r.code=="unimplemented"&&console.log("Persistence not supported by browser")});const sM=async(r,e)=>{try{const i=(await hD(ml,r,e)).user;if(!i.email)throw new Error("User email is missing");const a=i.email.toLowerCase();let l="users";a==="adminreferralcodegeuwat@email.com"?l="admin_referral_code":a==="admindatabasegeuwat@email.com"?l="admin_database":a==="adminrewardgeuwat@email.com"?l="admin_reward":a==="adminnotificationgeuwat@email.com"?l="admin_notification":a==="admincontentgeuwat@email.com"?l="admin_content":a==="adminlordgeuwat@email.com"&&(l="admin_lord");const c=e_(m_,l,a),d=await tM(c);if(d.exists()){const p=d.data(),g=p.role||"user";let _=be.USER;return Object.values(be).includes(g)?_=g:g==="adminReferral"?_=be.ADMIN_REFERRAL:g==="adminDatabase"?_=be.ADMIN_DATABASE:g==="adminReward"?_=be.ADMIN_REWARD:g==="adminNotification"?_=be.ADMIN_NOTIFICATION:g==="adminLord"?_=be.ADMIN_LORD:g==="admin"&&(_=be.ADMIN_DATABASE),{uid:i.uid,email:a,displayName:p.fullName||p.displayName||a.split("@")[0],photoURL:p.photoURL||null,role:_,createdAt:p.createdAt,balance:p.balance||0,level:p.level||"Rookie",referralCode:p.referralCode||"-",validUntil:p.validUntil||null}}else return a==="admindatabasegeuwat@email.com"?{uid:i.uid,email:a,displayName:"Super Admin Database",photoURL:null,role:be.ADMIN_DATABASE,createdAt:new Date}:a==="adminrewardgeuwat@email.com"?{uid:i.uid,email:a,displayName:"Admin Reward Center",photoURL:null,role:be.ADMIN_REWARD,createdAt:new Date}:a==="adminnotificationgeuwat@email.com"?{uid:i.uid,email:a,displayName:"System Notification Center",photoURL:null,role:be.ADMIN_NOTIFICATION,createdAt:new Date}:a==="adminlordgeuwat@email.com"?{uid:i.uid,email:a,displayName:"THE LORD ADMIN",photoURL:null,role:be.ADMIN_LORD,createdAt:new Date}:{uid:i.uid,email:a,displayName:a.split("@")[0],photoURL:null,role:be.USER,createdAt:new Date}}catch(t){throw["auth/user-not-found","auth/wrong-password","auth/invalid-credential"].includes(t.code)?(console.warn("Login attempt failed:",t.code),new Error("Email atau Password salah.")):t.code==="auth/too-many-requests"?(console.warn("Rate limited:",t.code),new Error("Terlalu banyak percobaan login gagal. Silakan coba lagi nanti atau reset password.")):t.code==="permission-denied"?(console.error("Firestore Permission Denied:",t),new Error("Izin ditolak oleh Database. Pastikan akun admin ada di collection yang benar.")):(console.error("Login Process Error:",t),t)}},MM=async(r,e)=>{let t;try{const i="SecondaryApp-"+new Date().getTime();t=ay(P1,i);const a=Tw(t),l=await cD(a,r,e);return await uw(a),l.user.uid}catch(i){throw console.error("Admin Create User Error:",i),i.code==="auth/email-already-in-use"?new Error("Email sudah terdaftar di Authentication."):i}finally{t&&await XC(t)}},PM=async()=>{await uw(ml),localStorage.removeItem("geuwat_session")},aM=async r=>{try{await uD(ml,r)}catch(e){throw console.error("Reset Password Error:",e),e}},oM=()=>{const r=gd(),[e,t]=G.useState(!1),[i,a]=G.useState(null),[l,c]=G.useState(null),[d,p]=G.useState(0),[g,_]=G.useState("login"),[T,w]=G.useState(""),[k,z]=G.useState(""),[Q,F]=G.useState(!1),[X,ee]=G.useState(!1),[U,de]=G.useState(!1),ge=D=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D);G.useEffect(()=>{const D=localStorage.getItem("geuwat_remember_email");D&&(w(D),ee(!0)),localStorage.removeItem("geuwat_remember_key")},[]),G.useEffect(()=>{let D;return d>0&&(D=setInterval(()=>p(P=>P-1),1e3)),()=>clearInterval(D)},[d]);const me=async D=>{if(D.preventDefault(),!(d>0)){if(!T||!k){a("Please fill in Email and Password");return}if(!ge(T)){a("Please enter a valid email address");return}t(!0),a(null);try{const P=await sM(T.trim().toLowerCase(),k);X?localStorage.setItem("geuwat_remember_email",T.trim()):localStorage.removeItem("geuwat_remember_email"),setTimeout(()=>{switch(P.role){case be.ADMIN_LORD:r("/admin/lord");break;case be.ADMIN_REFERRAL:r("/admin/referral");break;case be.ADMIN_DATABASE:r("/admin/database");break;case be.ADMIN_REWARD:r("/admin/reward");break;case be.ADMIN_NOTIFICATION:r("/admin/notification");break;case be.USER:default:r("/dashboard");break}},100)}catch(P){console.error(P),a(P.message||"Failed to login. Please check your Email and Password again."),p(5)}finally{t(!1)}}},R=async D=>{if(D.preventDefault(),!(d>0)){if(!T){a("Please enter your email.");return}t(!0),a(null),c(null);try{await aM(T.trim().toLowerCase()),c("Link reset password telah dikirim ke email Anda. Cek Folder Inbox atau Spam."),p(30)}catch(P){a(P.message||"Gagal mengirim link reset password."),p(5)}finally{t(!1)}}},I=D=>{_(D),a(null),c(null),p(0)},x=()=>g==="forgot"?"Reset Password":"Welcome Back",M=()=>g==="forgot"?"Recover your account access":"";return b.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center p-4 font-sans transition-all duration-500 ${U?"bg-slate-900":"bg-slate-50"}`,children:[b.jsx("div",{className:"mb-8 z-20",children:b.jsx("button",{onClick:()=>de(!U),className:`px-6 py-2 rounded-full font-bold text-sm transition-all duration-300 shadow-lg ${U?"bg-white hover:bg-gray-200 text-black shadow-white/50":"bg-black hover:bg-gray-800 text-white shadow-black/50"}`,children:U?"ON":"OFF"})}),b.jsxs("div",{className:`w-full max-w-md p-8 rounded-3xl shadow-xl border relative overflow-hidden transition-all duration-500 ${U?"bg-slate-800 border-slate-700 shadow-slate-900/50":"bg-white border-slate-100"}`,children:[U&&b.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[b.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-96 h-96 bg-gradient-radial from-gray-400/20 via-gray-500/10 to-transparent rounded-full blur-3xl animate-pulse"}),b.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-80 h-80 bg-gradient-radial from-gray-400/15 via-gray-500/8 to-transparent rounded-full blur-2xl animate-pulse",style:{animationDelay:"1s"}}),b.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-64 h-64 bg-gradient-radial from-gray-400/10 via-gray-500/5 to-transparent rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),b.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-indigo-50 rounded-full blur-3xl opacity-50 pointer-events-none"}),b.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-purple-50 rounded-full blur-3xl opacity-50 pointer-events-none"}),b.jsxs("div",{className:"text-center mb-8 relative z-10",children:[b.jsx("div",{className:"w-28 h-28 mx-auto flex items-center justify-center mb-6",children:b.jsx("img",{src:"/src/img/learning_english_geuwat_rb_3d.png",alt:"Logo",className:"w-full h-full object-contain"})}),b.jsx("h1",{className:`text-2xl font-bold mb-2 transition-colors duration-300 ${U?"text-slate-200":"text-slate-800"}`,children:x()}),M()&&b.jsx("p",{className:`text-sm transition-colors duration-300 ${U?"text-slate-400":"text-slate-500"}`,children:M()})]}),i&&b.jsx("div",{className:`mb-6 p-4 text-sm rounded-xl border flex items-start gap-3 animate-in fade-in slide-in-from-top-2 transition-all duration-300 ${U?"bg-red-900/20 text-red-400 border-red-800":"bg-red-50 text-red-600 border-red-100"}`,children:b.jsx("span",{children:i})}),l&&b.jsx("div",{className:`mb-6 p-4 text-sm rounded-xl border flex items-start gap-3 animate-in fade-in slide-in-from-top-2 transition-all duration-300 ${U?"bg-emerald-900/20 text-emerald-400 border-emerald-800":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:b.jsx("span",{children:l})}),g==="login"&&b.jsxs("form",{onSubmit:me,className:"space-y-5 relative z-10 animate-in fade-in slide-in-from-left-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:`text-xs font-semibold uppercase tracking-wider ml-1 transition-colors duration-300 ${U?"text-slate-400":"text-slate-500"}`,children:"Email Address"}),b.jsxs("div",{className:"relative group",children:[b.jsx("input",{type:"email",name:"email",id:"email",list:"saved-emails",autoComplete:"username",value:T,onChange:D=>w(D.target.value),className:`w-full pl-4 pr-4 py-3.5 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${U?"bg-slate-700 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:ring-black focus:bg-slate-600":"bg-slate-50 border-slate-200 focus:ring-black focus:bg-white text-slate-800 placeholder:text-slate-400"}`,placeholder:"Enter your email",required:!0}),b.jsxs("datalist",{id:"saved-emails",children:[b.jsx("option",{value:"adminlordgeuwat@email.com"}),b.jsx("option",{value:"admindatabasegeuwat@email.com"})]})]})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:`text-xs font-semibold uppercase tracking-wider ml-1 transition-colors duration-300 ${U?"text-slate-400":"text-slate-500"}`,children:"Password"}),b.jsxs("div",{className:"relative group",children:[b.jsx("input",{type:Q?"text":"password",name:"password",id:"password",autoComplete:"current-password",value:k,onChange:D=>z(D.target.value),className:`w-full pl-4 pr-12 py-3.5 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${U?"bg-slate-700 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:ring-black focus:bg-slate-600":"bg-slate-50 border-slate-200 focus:ring-black focus:bg-white text-slate-800 placeholder:text-slate-400"}`,placeholder:"Enter your password",required:!0}),b.jsx("button",{type:"button",onClick:()=>F(!Q),className:`absolute right-4 top-1/2 -translate-y-1/2 focus:outline-none transition-colors duration-300 ${U?"text-slate-500 hover:text-black":"text-slate-400 hover:text-black"}`,children:Q?b.jsx(UR,{size:20}):b.jsx(BR,{size:20})})]}),b.jsxs("div",{className:"flex items-center justify-between pt-2",children:[b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group select-none",children:[b.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-all duration-200 ${X?U?"bg-cyan-600 border-cyan-600":"bg-indigo-600 border-indigo-600":U?"bg-slate-700 border-slate-600 group-hover:border-cyan-400":"bg-white border-slate-300 group-hover:border-indigo-400"}`,children:X&&b.jsx("span",{className:"text-white text-xs font-bold",children:""})}),b.jsx("input",{type:"checkbox",className:"hidden",checked:X,onChange:D=>ee(D.target.checked)}),b.jsx("span",{className:`text-xs font-bold transition-colors ${X?U?"text-cyan-400":"text-indigo-700":U?"text-slate-400 group-hover:text-cyan-400":"text-slate-500 group-hover:text-indigo-600"}`,children:"Remember My Email"})]}),b.jsx("button",{type:"button",onClick:()=>I("forgot"),className:`text-xs font-bold hover:underline transition-colors ${U?"text-slate-400 hover:text-white":"text-slate-500 hover:text-black"}`,children:"Forgot Password?"})]})]}),b.jsx("button",{type:"submit",disabled:e||d>0,className:"w-full font-semibold py-4 px-6 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-2 bg-black hover:bg-gray-800 text-white shadow-lg shadow-black/50 hover:shadow-black/70",children:e?b.jsx(hg,{className:"animate-spin",size:20}):d>0?b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(QE,{size:18})," Wait ",d,"s"]}):b.jsx("span",{children:"Sign In"})}),b.jsx("div",{className:"pt-6 text-center",children:b.jsxs("p",{className:`text-sm transition-colors duration-300 ${U?"text-slate-400":"text-slate-500"}`,children:["Don't have an account?"," ",b.jsx(Xo,{to:"/register",className:`font-bold hover:underline transition-colors duration-300 ${U?"text-white hover:text-gray-200":"text-black hover:text-gray-800"}`,children:"Register"})]})})]}),g==="forgot"&&b.jsxs("form",{onSubmit:R,className:"space-y-5 relative z-10 animate-in fade-in slide-in-from-right-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:`text-xs font-semibold uppercase tracking-wider ml-1 transition-colors duration-300 ${U?"text-slate-400":"text-slate-500"}`,children:"Email Address"}),b.jsx("div",{className:"relative group",children:b.jsx("input",{type:"email",name:"email",value:T,onChange:D=>w(D.target.value),className:`w-full pl-4 pr-4 py-3.5 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${U?"bg-slate-700 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:ring-black focus:bg-slate-600":"bg-slate-50 border-slate-200 focus:ring-black focus:bg-white text-slate-800 placeholder:text-slate-400"}`,placeholder:"Enter your registered email",required:!0})})]}),b.jsx("button",{type:"submit",disabled:e||!!l||d>0,className:"w-full bg-slate-800 hover:bg-slate-900 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed shadow-lg shadow-slate-200 mt-8",children:e?b.jsx(hg,{className:"animate-spin",size:20}):d>0?b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(QE,{size:18})," Wait ",d,"s"]}):b.jsx("span",{children:"Send Reset Link"})}),b.jsxs("button",{type:"button",onClick:()=>I("login"),className:`w-full font-medium py-3 rounded-xl transition-colors flex items-center justify-center gap-2 ${U?"text-slate-400 hover:bg-slate-700":"text-slate-500 hover:bg-slate-50"}`,children:[b.jsx(VR,{size:18})," ",b.jsx("span",{children:"Back to Sign In"})]})]})]})]})},lM=()=>{gd();const[r,e]=G.useState(null),[t,i]=G.useState(""),[a,l]=G.useState(""),[c,d]=G.useState(""),[p,g]=G.useState(""),[_,T]=G.useState(!1),[w,k]=G.useState(!1),[z,Q]=G.useState(!1),F=ee=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ee),X=()=>{if(!t||!a||!p){e("Please fill in all required fields.");return}if(!F(a)){e("Please enter a valid email address.");return}if(!w){e("You must agree to the Terms & Conditions and Privacy Policy.");return}e(null);const ee=`Halo Admin, saya mau mendaftar. Mohon arahan selanjutnya.:
Full Name: ${t}
Email: ${a}
WhatsApp: ${p}
Referral Code: ${c}`,de=`https://wa.me/6285846003119?text=${encodeURIComponent(ee)}`;window.open(de,"_blank")};return b.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center p-4 font-sans transition-all duration-500 ${_?"bg-slate-900":"bg-slate-50"}`,children:[b.jsx("div",{className:"mb-8 z-20",children:b.jsx("button",{onClick:()=>T(!_),className:`px-6 py-2 rounded-full font-bold text-sm transition-all duration-300 shadow-lg ${_?"bg-white hover:bg-gray-200 text-black shadow-white/50":"bg-black hover:bg-gray-800 text-white shadow-black/50"}`,children:_?"ON":"OFF"})}),b.jsxs("div",{className:`w-full max-w-md p-8 rounded-3xl shadow-xl border relative overflow-hidden transition-all duration-500 ${_?"bg-slate-800 border-slate-700 shadow-slate-900/50":"bg-white border-slate-100"}`,children:[_&&b.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[b.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-96 h-96 bg-gradient-radial from-gray-400/20 via-gray-500/10 to-transparent rounded-full blur-3xl animate-pulse"}),b.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-80 h-80 bg-gradient-radial from-gray-400/15 via-gray-500/8 to-transparent rounded-full blur-2xl animate-pulse",style:{animationDelay:"1s"}}),b.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-64 h-64 bg-gradient-radial from-gray-400/10 via-gray-500/5 to-transparent rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),b.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-indigo-50 rounded-full blur-3xl opacity-50 pointer-events-none"}),b.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-purple-50 rounded-full blur-3xl opacity-50 pointer-events-none"}),b.jsxs("div",{className:"text-center mb-8 relative z-10",children:[b.jsx("div",{className:"w-28 h-28 mx-auto flex items-center justify-center mb-6",children:b.jsx("img",{src:"/src/img/learning_english_geuwat_rb_3d.png",alt:"Logo",className:"w-full h-full object-contain"})}),b.jsx("h1",{className:`text-2xl font-bold mb-2 transition-colors duration-300 ${_?"text-slate-200":"text-slate-800"}`,children:"Create Account"}),b.jsx("p",{className:`text-sm transition-colors duration-300 ${_?"text-slate-400":"text-slate-500"}`,children:"Start your English journey today"})]}),r&&b.jsxs("div",{className:`mb-6 p-4 text-sm rounded-xl border flex items-start gap-3 animate-in fade-in slide-in-from-top-2 transition-all duration-300 ${_?"bg-red-900/20 text-red-400 border-red-800":"bg-red-50 text-red-600 border-red-100"}`,children:[b.jsx(PR,{size:18,className:"mt-0.5 shrink-0"}),b.jsx("span",{children:r})]}),b.jsxs("form",{className:"space-y-5 relative z-10 animate-in fade-in slide-in-from-right-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:`text-xs font-semibold uppercase tracking-wider ml-1 transition-colors duration-300 ${_?"text-slate-400":"text-slate-500"}`,children:"Full Name"}),b.jsx("div",{className:"relative group",children:b.jsx("input",{type:"text",value:t,onChange:ee=>i(ee.target.value),className:`w-full pl-4 pr-4 py-3.5 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${_?"bg-slate-700 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:ring-black focus:bg-slate-600":"bg-slate-50 border-slate-200 focus:ring-black focus:bg-white text-slate-800 placeholder:text-slate-400"}`,placeholder:"John Doe",required:!0})})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:`text-xs font-semibold uppercase tracking-wider ml-1 transition-colors duration-300 ${_?"text-slate-400":"text-slate-500"}`,children:"Email Address"}),b.jsx("div",{className:"relative group",children:b.jsx("input",{type:"email",value:a,onChange:ee=>l(ee.target.value),className:`w-full pl-4 pr-4 py-3.5 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${_?"bg-slate-700 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:ring-black focus:bg-slate-600":"bg-slate-50 border-slate-200 focus:ring-black focus:bg-white text-slate-800 placeholder:text-slate-400"}`,placeholder:"name@example.com",required:!0})})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:`text-xs font-semibold uppercase tracking-wider ml-1 transition-colors duration-300 ${_?"text-slate-400":"text-slate-500"}`,children:"Whatsapp Number"}),b.jsx("div",{className:"relative group",children:b.jsx("input",{type:"tel",value:p,onChange:ee=>g(ee.target.value),className:`w-full pl-4 pr-4 py-3.5 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${_?"bg-slate-700 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:ring-black focus:bg-slate-600":"bg-slate-50 border-slate-200 focus:ring-black focus:bg-white text-slate-800 placeholder:text-slate-400"}`,placeholder:"08123456789",required:!0})})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:`text-xs font-semibold uppercase tracking-wider ml-1 transition-colors duration-300 ${_?"text-slate-400":"text-slate-500"}`,children:"Referral Code"}),b.jsxs("div",{className:"relative group",children:[b.jsx(qR,{className:`absolute left-4 top-1/2 -translate-y-1/2 transition-colors duration-300 ${_?"text-slate-500 group-focus-within:text-black":"text-slate-400 group-focus-within:text-black"}`,size:20}),b.jsx("input",{type:"text",value:c,onChange:ee=>d(ee.target.value),className:`w-full pl-12 pr-4 py-3.5 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${_?"bg-slate-700 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:ring-black focus:bg-slate-600":"bg-slate-50 border-slate-200 focus:ring-black focus:bg-white text-slate-800 placeholder:text-slate-400"}`,placeholder:"Enter referral code",required:!0})]})]}),b.jsxs("div",{className:"flex items-start gap-3 mt-4",children:[b.jsx("input",{type:"checkbox",id:"agree",checked:w,onChange:ee=>k(ee.target.checked),className:"mt-1"}),b.jsxs("label",{htmlFor:"agree",className:`text-sm leading-relaxed transition-colors duration-300 ${_?"text-slate-300":"text-slate-600"}`,children:["I agree to the"," ",b.jsx("button",{type:"button",onClick:()=>Q(!0),className:`font-semibold underline hover:no-underline transition-colors duration-300 ${_?"text-white hover:text-gray-200":"text-black hover:text-gray-800"}`,children:"Terms & Conditions and Privacy Policy"})]})]}),b.jsx("button",{type:"button",onClick:X,className:"w-full font-semibold py-4 px-6 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 mt-6 bg-black hover:bg-gray-800 text-white shadow-lg shadow-black/50 hover:shadow-black/70",children:b.jsx("span",{children:"Create Account"})}),b.jsx("div",{className:"pt-6 text-center",children:b.jsxs("p",{className:`text-sm transition-colors duration-300 ${_?"text-slate-400":"text-slate-500"}`,children:["Already have an account?"," ",b.jsx(Xo,{to:"/",className:`font-bold hover:underline transition-colors duration-300 ${_?"text-white hover:text-gray-200":"text-black hover:text-gray-800"}`,children:"Sign In"})]})})]}),z&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>Q(!1),children:b.jsxs("div",{className:`max-w-2xl w-full mx-4 p-6 rounded-xl shadow-xl max-h-[80vh] overflow-y-auto transition-all duration-300 ${_?"bg-slate-800 text-slate-200":"bg-white text-slate-800"}`,onClick:ee=>ee.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-xl font-bold",children:"SYARAT, KETENTUAN, DAN KEBIJAKAN PRIVASI"}),b.jsx("button",{onClick:()=>Q(!1),className:`text-2xl font-bold transition-colors duration-300 ${_?"text-slate-400 hover:text-slate-200":"text-slate-600 hover:text-slate-800"}`,children:""})]}),b.jsxs("div",{className:"text-sm space-y-4",children:[b.jsx("p",{children:b.jsx("strong",{children:"Learning English Geuwat"})}),b.jsx("p",{children:b.jsx("strong",{children:"Terakhir diperbarui: 29 Desember 2025"})}),b.jsx("p",{children:'Dokumen ini merupakan satu kesatuan yang mengatur ketentuan penggunaan layanan serta perlindungan data pribadi pada platform Learning English Geuwat ("Platform"). Dengan mendaftar atau menggunakan Platform, Anda menyetujui seluruh ketentuan di bawah ini.'}),b.jsx("hr",{}),b.jsx("h3",{className:"font-bold",children:"A. SYARAT & KETENTUAN"}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h4",{className:"font-semibold",children:"1. Definisi"}),b.jsxs("ul",{className:"list-disc list-inside",children:[b.jsx("li",{children:"Platform: Situs web/aplikasi Learning English Geuwat."}),b.jsx("li",{children:"Pengguna: Setiap individu yang mengakses atau menggunakan Platform."}),b.jsx("li",{children:"Penyelenggara: Pihak pengelola Platform Learning English Geuwat."})]}),b.jsx("h4",{className:"font-semibold",children:"2. Penerimaan Ketentuan"}),b.jsx("p",{children:"Pengguna dianggap telah membaca, memahami, dan menyetujui dokumen ini saat mendaftar, mengakses, atau menggunakan Platform."}),b.jsx("h4",{className:"font-semibold",children:"3. Persyaratan Pengguna"}),b.jsxs("ol",{className:"list-decimal list-inside",children:[b.jsx("li",{children:"Berusia minimal 13 tahun."}),b.jsx("li",{children:"Pengguna di bawah 18 tahun wajib memperoleh izin orang tua/wali."}),b.jsx("li",{children:"Menyediakan data pendaftaran yang benar dan akurat."}),b.jsx("li",{children:"Penyelenggara berhak menolak, membatasi, menangguhkan, atau menghapus akun yang melanggar ketentuan atau terindikasi penipuan."})]}),b.jsx("h4",{className:"font-semibold",children:"4. Akun & Keamanan"}),b.jsxs("ol",{className:"list-decimal list-inside",children:[b.jsx("li",{children:"Akun bersifat pribadi dan tidak dapat dipindahtangankan."}),b.jsx("li",{children:"Pengguna bertanggung jawab menjaga kerahasiaan kredensial."}),b.jsx("li",{children:"Segala aktivitas pada akun menjadi tanggung jawab Pengguna."})]}),b.jsx("h4",{className:"font-semibold",children:"5. Layanan & Konten"}),b.jsxs("ol",{className:"list-decimal list-inside",children:[b.jsx("li",{children:"Seluruh konten pembelajaran (materi, video, kuis, tantangan) adalah milik Penyelenggara atau mitra sah."}),b.jsx("li",{children:"Konten dapat diperbarui atau dihentikan sewaktu-waktu."}),b.jsx("li",{children:"Dilarang menyalin, mendistribusikan, atau memperjualbelikan konten tanpa izin tertulis."})]}),b.jsx("h4",{className:"font-semibold",children:"6. Pembayaran (Jika Berlaku)"}),b.jsxs("ol",{className:"list-decimal list-inside",children:[b.jsx("li",{children:"Harga dan metode pembayaran ditentukan oleh Penyelenggara."}),b.jsx("li",{children:"Pembayaran tidak dapat dikembalikan kecuali dinyatakan lain dalam kebijakan resmi."}),b.jsx("li",{children:"Perubahan harga tidak berlaku surut."})]}),b.jsx("h4",{className:"font-semibold",children:"7. Larangan & Sanksi"}),b.jsx("p",{children:"Pengguna dilarang melakukan tindakan melanggar hukum, peretasan, spam, penipuan, atau penyalahgunaan sistem. Pelanggaran dapat berakibat sanksi hingga penghapusan akun."}),b.jsx("h4",{className:"font-semibold",children:"8. Batasan Tanggung Jawab"}),b.jsx("p",{children:"Platform disediakan apa adanya. Penyelenggara tidak bertanggung jawab atas kerugian langsung maupun tidak langsung akibat penggunaan Platform."}),b.jsx("h4",{className:"font-semibold",children:"9. Penghentian Akun"}),b.jsx("p",{children:"Penyelenggara berhak menangguhkan atau menghapus akun berdasarkan kebijakan internal dan/atau pelanggaran ketentuan."}),b.jsx("h4",{className:"font-semibold",children:"10. Perubahan Ketentuan"}),b.jsx("p",{children:"Ketentuan dapat diperbarui dari waktu ke waktu. Pengguna disarankan meninjau dokumen ini secara berkala."}),b.jsx("h4",{className:"font-semibold",children:"11. Hukum yang Berlaku"}),b.jsx("p",{children:"Dokumen ini diatur dan ditafsirkan berdasarkan hukum Republik Indonesia."})]}),b.jsx("hr",{}),b.jsx("h3",{className:"font-bold",children:"B. KEBIJAKAN PRIVASI"}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h4",{className:"font-semibold",children:"1. Pendahuluan"}),b.jsx("p",{children:"Kebijakan Privasi ini menjelaskan bagaimana Platform mengumpulkan, menggunakan, menyimpan, dan melindungi data pribadi Pengguna sesuai prinsip GDPR dan PDPA."}),b.jsx("h4",{className:"font-semibold",children:"2. Data yang Dikumpulkan"}),b.jsxs("ul",{className:"list-disc list-inside",children:[b.jsx("li",{children:"Data Identitas: Nama, email, nomor WhatsApp, kode referral."}),b.jsx("li",{children:"Data Akun & Aktivitas: Progress belajar, riwayat interaksi."}),b.jsx("li",{children:"Data Teknis: Alamat IP, perangkat, browser, log sistem, cookies."})]}),b.jsx("h4",{className:"font-semibold",children:"3. Tujuan Pemrosesan Data"}),b.jsx("p",{children:"Data digunakan untuk:"}),b.jsxs("ol",{className:"list-decimal list-inside",children:[b.jsx("li",{children:"Pengelolaan akun dan layanan"}),b.jsx("li",{children:"Penyimpanan progress belajar"}),b.jsx("li",{children:"Komunikasi layanan"}),b.jsx("li",{children:"Analitik dan pengembangan produk"}),b.jsx("li",{children:"Keamanan dan pencegahan penyalahgunaan"})]}),b.jsx("h4",{className:"font-semibold",children:"4. Dasar Hukum Pemrosesan (GDPR)"}),b.jsx("p",{children:"Pemrosesan data didasarkan pada:"}),b.jsxs("ul",{className:"list-disc list-inside",children:[b.jsx("li",{children:"Persetujuan Pengguna"}),b.jsx("li",{children:"Pelaksanaan kontrak layanan"}),b.jsx("li",{children:"Kepentingan sah Penyelenggara"}),b.jsx("li",{children:"Kewajiban hukum (jika ada)"})]}),b.jsx("h4",{className:"font-semibold",children:"5. Penyimpanan & Keamanan Data"}),b.jsxs("ol",{className:"list-decimal list-inside",children:[b.jsx("li",{children:"Data disimpan secara aman menggunakan infrastruktur cloud."}),b.jsx("li",{children:"Akses dibatasi kepada pihak berwenang."}),b.jsx("li",{children:"Langkah teknis dan organisasi diterapkan untuk mencegah kebocoran."})]}),b.jsx("h4",{className:"font-semibold",children:"6. Pembagian Data ke Pihak Ketiga"}),b.jsx("p",{children:"Data tidak dijual. Pembagian hanya dilakukan kepada penyedia layanan pendukung atau jika diwajibkan hukum, dengan kewajiban kerahasiaan."}),b.jsx("h4",{className:"font-semibold",children:"7. Hak Pengguna"}),b.jsx("p",{children:"Pengguna berhak untuk:"}),b.jsxs("ul",{className:"list-disc list-inside",children:[b.jsx("li",{children:"Mengakses dan memperbaiki data"}),b.jsx("li",{children:"Meminta penghapusan data"}),b.jsx("li",{children:"Menarik persetujuan"}),b.jsx("li",{children:"Membatasi pemrosesan data"})]}),b.jsx("h4",{className:"font-semibold",children:"8. Retensi Data"}),b.jsx("p",{children:"Data disimpan selama akun aktif atau sesuai kebutuhan layanan dan kewajiban hukum, lalu dihapus atau dianonimkan."}),b.jsx("h4",{className:"font-semibold",children:"9. Cookies"}),b.jsx("p",{children:"Cookies digunakan untuk preferensi, analitik, dan peningkatan pengalaman. Pengguna dapat mengelola cookies melalui pengaturan browser."}),b.jsx("h4",{className:"font-semibold",children:"10. Privasi Anak"}),b.jsx("p",{children:"Platform tidak ditujukan untuk anak di bawah 13 tahun tanpa izin orang tua/wali."}),b.jsx("h4",{className:"font-semibold",children:"11. Kontak"}),b.jsx("p",{children:"Pertanyaan terkait ketentuan atau privasi dapat disampaikan melalui kontak resmi Learning English Geuwat."})]}),b.jsx("hr",{}),b.jsx("h3",{className:"font-bold",children:"Persetujuan Pengguna"}),b.jsx("p",{children:"Dengan mencentang kotak persetujuan pada halaman pendaftaran, Pengguna menyatakan telah membaca dan menyetujui Syarat, Ketentuan, dan Kebijakan Privasi ini serta memberikan persetujuan atas pemrosesan data pribadi."})]})]})})]})]})};class uM extends G.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6 font-sans",children:b.jsxs("div",{className:"bg-white max-w-md w-full p-8 rounded-3xl shadow-xl border border-slate-100 text-center",children:[b.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6 text-red-500 animate-pulse",children:b.jsx(JR,{size:40})}),b.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Oops! Terjadi Kesalahan"}),b.jsx("p",{className:"text-slate-500 text-sm mb-8 leading-relaxed",children:"Sistem mengalami kendala teknis. Jangan khawatir, data Anda aman. Silakan muat ulang halaman."}),b.jsxs("div",{className:"flex gap-3 justify-center",children:[b.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors flex items-center gap-2 shadow-lg shadow-indigo-200",children:[b.jsx(nA,{size:18})," Muat Ulang"]}),b.jsxs("button",{onClick:()=>window.location.href="/",className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-bold hover:bg-slate-200 transition-colors flex items-center gap-2",children:[b.jsx(GR,{size:18})," Beranda"]})]}),this.state.error&&b.jsx("div",{className:"mt-8 p-4 bg-slate-50 rounded-xl border border-slate-200 text-left overflow-hidden",children:b.jsxs("p",{className:"text-[10px] font-mono text-slate-400 break-all",children:["Error: ",this.state.error.toString()]})})]})}):this.props.children}}const cM=()=>{const[r,e]=G.useState(null),t=G.useRef(null),i=G.useRef(null);G.useEffect(()=>{const g="Belajar Cepat Santuy, Cas Cis Cus, Langsung Praktek!",_=t.current;if(!_)return;let T=0;const w=()=>{T<g.length&&(_.textContent+=g.charAt(T),T++,setTimeout(w,80))};w()},[]);const a=g=>e(g),l=()=>e(null);G.useEffect(()=>{const g=_=>{_.key==="Escape"&&l()};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),G.useEffect(()=>{const g=()=>{i.current&&i.current.classList.toggle("visible",window.scrollY>300)};return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[]);const c=()=>{window.scrollTo({top:0,behavior:"smooth"})},d=g=>{const _=document.querySelector(g);_&&(_.classList.remove("neon"),_.offsetWidth,_.classList.add("neon"))},p=(g,_,T=!1)=>{g.preventDefault();const w=document.querySelector(_);w&&(w.scrollIntoView({behavior:"smooth",block:"start"}),d(T?"#hero-title":`${_} h2`))};return b.jsxs(b.Fragment,{children:[b.jsx("header",{className:"site-header",children:b.jsxs("div",{className:"container",children:[b.jsx("div",{className:"logo",children:"Learning English Geuwat"}),b.jsxs("nav",{className:"nav-menu",children:[b.jsx("button",{type:"button",className:"nav-btn",onClick:g=>p(g,"#hero-title",!0),children:"Home"}),b.jsx("a",{href:"#features",onClick:g=>p(g,"#features"),children:"Features"}),b.jsx("a",{href:"#courses",onClick:g=>p(g,"#courses"),children:"Courses"}),b.jsx("a",{href:"#testimonials",onClick:g=>p(g,"#testimonials"),children:"Testimonials"}),b.jsx("a",{href:"#contact",onClick:g=>p(g,"#contact"),children:"Contact"})]}),b.jsxs("div",{className:"auth-buttons-header",children:[b.jsx(Xo,{to:"/login",className:"login-btn",children:"Login"}),b.jsx(Xo,{to:"/register",className:"register-btn",children:"Register"})]})]})}),b.jsxs("main",{children:[b.jsxs("section",{id:"hero",className:"hero",children:[b.jsx("h1",{id:"hero-title",className:"insta-fire-text",children:"Learning English Geuwat"}),b.jsx("h2",{children:"Apaan Tuh "}),b.jsx("p",{children:"Tentu, ini adalah platform pembelajaran bahasa Inggris cepat dan santuy!"}),b.jsx("p",{className:"tagline",id:"typing",ref:t,"aria-live":"polite"})]}),b.jsxs("section",{id:"welcome",children:[b.jsx("h2",{id:"welcome-title",children:" Cek Ombak, Gans!"}),b.jsx("p",{children:" Selamat Datang!"}),b.jsx("p",{children:'Pengen gaspol nguasain bahasa Inggris secepat kilat tapi gayanya tetap "SANTUY PARAH"? Ogah sama teori-teori ribet yang bikin kepala ngebul? Well, kamu sudah nyasar ke lapak yang bener! Learning English Geuwat itu platform yang fokusnya ke pembelajaran yang sat-set-sat-set and langsung tokcer. Kita ini kayak shortcut super: potong kompas biar kamu nggak perlu babibu lagi, tapi bisa langsung cas cis cus ngomong Inggris dengan pede, baik buat spik-spik harian, maupun buat naikin value di dunia profesional!'})]}),b.jsxs("section",{id:"features",children:[b.jsx("h2",{id:"features-title",children:" Kenapa Pilih Geuwat?"}),b.jsxs("div",{className:"feature-grid",children:[b.jsx("div",{className:"feature-card",onClick:()=>a("modal-metode"),children:b.jsxs("div",{className:"feature-card-inner",children:[b.jsx("h3",{children:" Metode Geuwat"}),b.jsx("p",{children:"Jurus Sat-Set! Belajarnya ngebut pol, tapi santuy."})]})}),b.jsx("div",{className:"feature-card",onClick:()=>a("modal-instruktur"),children:b.jsxs("div",{className:"feature-card-inner",children:[b.jsx("h3",{children:" Instruktur Kece"}),b.jsx("p",{children:"Mentor Spesialis! Expert yang seru and anti-krik-krik."})]})}),b.jsx("div",{className:"feature-card",onClick:()=>a("modal-materi"),children:b.jsxs("div",{className:"feature-card-inner",children:[b.jsx("h3",{children:" Materi Real Life"}),b.jsx("p",{children:"Langsung kepake buat traveling and interview."})]})}),b.jsx("div",{className:"feature-card",onClick:()=>a("modal-fleksibel"),children:b.jsxs("div",{className:"feature-card-inner",children:[b.jsx("h3",{children:" Fleksibel Parah"}),b.jsx("p",{children:"Bebas Kayak Burung! Belajar kapan aja semaumu."})]})})]})]}),b.jsxs("section",{id:"courses",children:[b.jsx("h2",{id:"courses-title",children:" Materi Gokil Kami"}),b.jsxs("div",{className:"course-grid",children:[b.jsx("div",{className:"course-card",onClick:()=>a("modal-pronunciation"),children:b.jsxs("div",{className:"course-card-inner",children:[b.jsx("h3",{children:" Geuwat PRONUNCIATION"}),b.jsx("p",{children:"Fokus: Bikin Suara Kamu Seksi Maksimal."})]})}),b.jsx("div",{className:"course-card",onClick:()=>a("modal-vocab"),children:b.jsxs("div",{className:"course-card-inner",children:[b.jsx("h3",{children:" Geuwat VOCAB"}),b.jsx("p",{children:"Fokus: Bikin Vocabulary Kamu Nggak Cupu."})]})}),b.jsx("div",{className:"course-card",onClick:()=>a("modal-grammar"),children:b.jsxs("div",{className:"course-card-inner",children:[b.jsx("h3",{children:" Geuwat GRAMMAR"}),b.jsx("p",{children:"Fokus: Struktur Kalimat Anti-Gagal."})]})}),b.jsx("div",{className:"course-card",onClick:()=>a("modal-speaking"),children:b.jsxs("div",{className:"course-card-inner",children:[b.jsx("h3",{children:" Geuwat SPEAKING"}),b.jsx("p",{children:"Fokus: Membungkam Keraguan."})]})})]})]}),b.jsxs("section",{id:"testimonials",children:[b.jsx("h2",{id:"testimonials-title",children:" Kata Mereka"}),b.jsx("p",{children:" Masih GHOIB "})]})]}),b.jsxs("section",{className:"bg-slate-900 py-20 px-6 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-600/10 blur-[100px] -z-10"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-emerald-600/10 blur-[100px] -z-10"}),b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("h3",{className:"text-white font-bold text-3xl md:text-4xl mb-4 tracking-tight",children:" Hubungi Kami"}),b.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto",children:"Ada pertanyaan atau butuh bantuan belajar? Angel dan tim siap kok nemenin Aa kapan aja!"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-8 rounded-[2.5rem] border border-white/10 hover:border-green-500/50 transition-all duration-300 group shadow-2xl hover:-translate-y-2",children:[b.jsx("div",{className:"w-14 h-14 bg-green-500/20 rounded-2xl flex items-center justify-center mb-6 group-hover:rotate-12 transition-transform",children:b.jsx("span",{className:"text-3xl",children:""})}),b.jsx("h4",{className:"text-white font-bold text-xl mb-3",children:"WhatsApp Official"}),b.jsx("p",{className:"text-slate-400 text-sm mb-6 leading-relaxed",children:"Respon cepat buat Aa yang mau nanya-nanya langsung via chat."}),b.jsx("a",{href:"https://wa.me/6282338792512",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-green-400 font-bold hover:text-green-300 gap-2 transition-colors",children:"+62 823-3879-2512"})]}),b.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-8 rounded-[2.5rem] border border-white/10 hover:border-indigo-500/50 transition-all duration-300 group shadow-2xl hover:-translate-y-2",children:[b.jsx("div",{className:"w-14 h-14 bg-indigo-500/20 rounded-2xl flex items-center justify-center mb-6 group-hover:rotate-12 transition-transform",children:b.jsx("span",{className:"text-3xl",children:""})}),b.jsx("h4",{className:"text-white font-bold text-xl mb-3",children:"Email Support"}),b.jsx("p",{className:"text-slate-400 text-sm mb-6 leading-relaxed",children:"Kirim pertanyaan formal atau kerjasama lewat sini ya A."}),b.jsx("a",{href:"mailto:fuadmuslim4@gmail.com",className:"inline-flex items-center text-indigo-400 font-bold hover:text-indigo-300 gap-2 transition-colors",children:"fuadmuslim4@gmail.com"})]}),b.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-8 rounded-[2.5rem] border border-white/10 hover:border-pink-500/50 transition-all duration-300 group shadow-2xl hover:-translate-y-2",children:[b.jsx("div",{className:"w-14 h-14 bg-pink-500/20 rounded-2xl flex items-center justify-center mb-6 group-hover:rotate-12 transition-transform",children:b.jsx("span",{className:"text-3xl",children:""})}),b.jsx("h4",{className:"text-white font-bold text-xl mb-3",children:"Ikuti Kami"}),b.jsx("p",{className:"text-slate-400 text-sm mb-6 leading-relaxed",children:"Kepoin kegiatan seru kita di media sosial juga yuk, Aa!"}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("a",{href:"https://www.instagram.com/fuadmuslym/",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-pink-600 transition-all",children:b.jsx("svg",{className:"w-5 h-5 fill-white",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 1.17.054 1.97.24 2.43.403a4.92 4.92 0 011.675 1.086 4.92 4.92 0 011.086 1.676c.163.46.35 1.26.404 2.43.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.054 1.17-.24 1.97-.404 2.43a4.92 4.92 0 01-1.086 1.675 4.92 4.92 0 01-1.676 1.086c-.46.163-1.26.35-2.43.404-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.17-.054-1.97-.24-2.43-.404a4.902 4.902 0 01-1.675-1.086 4.902 4.902 0 01-1.086-1.676c-.163-.46-.35-1.26-.404-2.43-.058-1.266-.07-1.646-.07-4.85s.012-3.584.07-4.85c.054-1.17.24-1.97.404-2.43a4.902 4.902 0 011.086-1.675 4.902 4.902 0 011.676-1.086c.46-.163 1.26-.35 2.43-.404 1.266-.058 1.646-.07 4.85-.07zm0-2.163C8.756 0 8.34.012 7.052.07 5.768.127 4.745.32 3.95.634a6.926 6.926 0 00-2.502 1.645A6.926 6.926 0 00.634 4.95c-.314.795-.507 1.818-.564 3.102C.012 8.34 0 8.756 0 12c0 3.244.012 3.66.07 4.948.057 1.284.25 2.307.564 3.102a6.926 6.926 0 001.645 2.502 6.926 6.926 0 002.502 1.645c.795.314 1.818.507 3.102.564C8.34 23.988 8.756 24 12 24s3.66-.012 4.948-.07c1.284-.057 2.307-.25 3.102-.564a6.926 6.926 0 002.502-1.645 6.926 6.926 0 001.645-2.502c.314-.795.507-1.818.564-3.102.058-1.288.07-1.704.07-4.948s-.012-3.66-.07-4.948c-.057-1.284-.25-2.307-.564-3.102a6.926 6.926 0 00-1.645-2.502A6.926 6.926 0 0019.05.634c-.795-.314-1.818-.507-3.102-.564C15.66.012 15.244 0 12 0z"})})}),b.jsx("a",{href:"https://web.facebook.com/fuadmuslym/?locale=id_ID",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-blue-600 transition-all",children:b.jsx("svg",{className:"w-5 h-5 fill-white",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M22.675 0H1.325C.593 0 0 .593 0 1.325v21.351C0 23.407.593 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.658-4.788 1.325 0 2.464.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.762v2.31h3.587l-.467 3.622h-3.12V24h6.116c.73 0 1.323-.593 1.323-1.324V1.325C24 .593 23.407 0 22.675 0z"})})}),b.jsx("a",{href:"https://www.youtube.com/@fuadmuslimn.s/playlists",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-red-600 transition-all",children:b.jsx("svg",{className:"w-5 h-5 fill-white",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M23.498 6.186a2.997 2.997 0 00-2.115-2.12C19.417 3.5 12 3.5 12 3.5s-7.417 0-9.383.566a2.997 2.997 0 00-2.115 2.12A31.797 31.797 0 000 12a31.797 31.797 0 00.502 5.814 2.997 2.997 0 002.115 2.12C4.583 20.5 12 20.5 12 20.5s7.417 0 9.383-.566a2.997 2.997 0 002.115-2.12A31.797 31.797 0 0024 12a31.797 31.797 0 00-.502-5.814zM9.545 15.568V8.432l6.182 3.568-6.182 3.568z"})})})]})]})]})]})]}),b.jsx("footer",{className:"bg-slate-950 border-t border-slate-800 py-10 px-6",children:b.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center font-bold text-white shadow-lg shadow-indigo-500/20",children:"G"}),b.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:[" 2025 ",b.jsx("span",{className:"text-indigo-400",children:"Learning English Geuwat"}),". Dibuat dengan cinta."]})]}),b.jsxs("nav",{className:"flex gap-8",children:[b.jsx("a",{href:"#",className:"text-slate-400 hover:text-indigo-400 text-xs font-bold uppercase tracking-widest transition-colors",children:"Privacy Policy"}),b.jsx("a",{href:"#",className:"text-slate-400 hover:text-indigo-400 text-xs font-bold uppercase tracking-widest transition-colors",children:"Terms of Service"})]})]})}),r==="modal-metode"&&b.jsx("div",{className:"modal active",onClick:l,children:b.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[b.jsx("span",{className:"close",onClick:l,"aria-label":"Close modal",children:""}),b.jsx("h3",{children:" Metode Geuwat"}),b.jsxs("p",{children:[b.jsx("strong",{children:"Jurus Sat-Set!"})," Belajarnya ngebut pol, tapi santuy. Kami nggak suka basa-basi teori yang bikin pusing."]}),b.jsx("p",{children:"Fokus utama kami adalah efisiensi. Kamu akan belajar pola bahasa yang paling sering digunakan dalam percakapan nyata, bukan sekadar menghafal rumus yang jarang terpakai. Potong kompas, langsung ke inti, dan biarkan kemampuanmu berkembang secepat kilat!"})]})}),r==="modal-instruktur"&&b.jsx("div",{className:"modal active",onClick:l,children:b.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[b.jsx("span",{className:"close",onClick:l,children:""}),b.jsx("h3",{children:" Instruktur Kece"}),b.jsxs("p",{children:[b.jsx("strong",{children:"Mentor Spesialis!"})," Diajar sama para expert yang seru and anti-krik-krik."]}),b.jsx("p",{children:"Mentor di Geuwat bukan cuma guru, tapi partner belajar yang asik. Mereka punya pengalaman bertahun-tahun dan cara mengajar yang jauh dari kata membosankan. Kamu bakal merasa lagi nongkrong bareng temen sambil upgrade skill bahasa Inggris kamu!"})]})}),r==="modal-materi"&&b.jsx("div",{className:"modal active",onClick:l,children:b.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[b.jsx("span",{className:"close",onClick:l,children:""}),b.jsx("h3",{children:" Materi Real Life"}),b.jsxs("p",{children:[b.jsx("strong",{children:"Materi Nggak Kaleng-Kaleng."})," Langsung kepake buat traveling, interview, dan keseharian."]}),b.jsx("p",{children:"Kami menyusun kurikulum berdasarkan kebutuhan dunia nyata. Mau spik-spik harian? Siap. Mau tampil meyakinkan pas interview kerja? Bisa banget. Atau sekadar pengen punya value lebih di dunia profesional? Ini tempatnya!"})]})}),r==="modal-fleksibel"&&b.jsx("div",{className:"modal active",onClick:l,children:b.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[b.jsx("span",{className:"close",onClick:l,children:""}),b.jsx("h3",{children:" Fleksibel Parah"}),b.jsxs("p",{children:[b.jsx("strong",{children:"Bebas Kayak Burung!"})," Mau belajar sambil rebahan jam 3 pagi? Gas!"]}),b.jsx("p",{children:"Kami tahu kesibukanmu nggak menentu. Makanya, Learning English Geuwat didesain untuk bisa diakses kapan saja dan di mana saja. Nggak ada jadwal yang mengikat leher, kamu yang pegang kendali penuh atas waktu belajarmu sendiri. Belajar jadi tanpa beban!"})]})}),r==="modal-pronunciation"&&b.jsx("div",{className:"modal active",onClick:l,children:b.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[b.jsx("span",{className:"close",onClick:l,"aria-label":"Close modal",children:""}),b.jsx("h3",{children:" Geuwat PRONUNCIATION"}),b.jsx("p",{children:" Fokus: Bikin Suara Kamu Seksi Maksimal (Pronunciation). MUSNAHKAN pelafalan yang bikin kamu terdengar seperti NPC. Waktunya jadi MC (Main Character) terisekai."}),b.jsx("p",{children:" Isi Course: o Jurus Mimic Cepat (Shadowing): Kita tiru ucapan native speaker secepat flash! o Latihan Otot Mulut: Drill intensif biar artikulasi kamu clean banget. o Bedah Suara Ajaib: Fokus ke bunyi-bunyi 'kembar' (Sheep vs Ship)."}),b.jsx("p",{children:"Hasilnya: Ucapannya clean, clear, dan nggak perlu diulang!"})]})}),r==="modal-vocab"&&b.jsx("div",{className:"modal active",onClick:l,children:b.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[b.jsx("span",{className:"close",onClick:l,children:""}),b.jsx("h3",{children:" Geuwat VOCAB"}),b.jsx("p",{children:'Fokus: Bikin Vocabulary Kamu Nggak Cupu (Vocabulary). Dari kata "Good" bisa jadi "Splendid".'}),b.jsx("p",{children:'Isi Course: Metode Hack Otak Kanan buat nge-lock ribuan kata. Koleksi "Kata-kata Mewah" buat nge-gombal and "Kata-kata Masa Kini" buat chatting.'}),b.jsx("p",{children:"Hasilnya: Stock kata melimpah ruah, nggak perlu pakai kata 'pokoknya' lagi!"})]})}),r==="modal-grammar"&&b.jsx("div",{className:"modal active",onClick:l,children:b.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[b.jsx("span",{className:"close",onClick:l,children:""}),b.jsx("h3",{children:" Geuwat GRAMMAR"}),b.jsx("p",{children:" Fokus: Struktur Kalimat Anti-Gagal (Grammar). Stop drama tenses!"}),b.jsx("p",{children:" Isi Course: o Metode Bodo Amat Tenses: Cuma fokus ke 3 tenses Dewa. o Jurus Anti-Malu: Kuasai Verb dan Preposition yang sering nyasar. o Cheat Sheet Nulis: Grammar Hacks buat email atau caption smart."}),b.jsx("p",{children:"Hasilnya: Ngomong dan nulis jadi rapi tanpa terbebani."})]})}),r==="modal-speaking"&&b.jsx("div",{className:"modal active",onClick:l,children:b.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[b.jsx("span",{className:"close",onClick:l,children:""}),b.jsx("h3",{children:" Geuwat SPEAKING"}),b.jsx("p",{children:" Fokus: Membungkam Keraguan (Speaking)."}),b.jsx("p",{children:" Isi Course: Live practice intensif dan teknik improvisasi seketika."}),b.jsx("p",{children:"Hasilnya: Kamu jadi Pede Level Max. Siap stand up comedy di depan bule!"})]})}),b.jsx("button",{id:"scrollTopBtn",ref:i,onClick:c,title:"Go to top","aria-label":"Scroll to top",children:""})]})},hM=Cs.lazy(()=>Ua(()=>import("./UserDashboard-4vzgmi2Y.js"),__vite__mapDeps([0,1,2,3])).then(r=>({default:r.UserDashboard}))),fM=Cs.lazy(()=>Ua(()=>import("./ProfileSettings-suejE3dg.js"),__vite__mapDeps([4,1,2,3,5,6])).then(r=>({default:r.ProfileSettings}))),dM=Cs.lazy(()=>Ua(()=>import("./AdminReferral-BdWLM7sC.js"),__vite__mapDeps([7,8,2,9,10,11,12])).then(r=>({default:r.AdminReferral}))),mM=Cs.lazy(()=>Ua(()=>import("./AdminDatabase-DvhX7lBT.js"),__vite__mapDeps([13,8,2,9,5,14,12])).then(r=>({default:r.AdminDatabase}))),pM=Cs.lazy(()=>Ua(()=>import("./AdminReward-CRhKHsF8.js"),__vite__mapDeps([15,8,2,9,10,5,14])).then(r=>({default:r.AdminReward}))),gM=Cs.lazy(()=>Ua(()=>import("./AdminNotification-DFlNTnFr.js"),__vite__mapDeps([16,8,2,5,11,3])).then(r=>({default:r.AdminNotification}))),yM=Cs.lazy(()=>Ua(()=>import("./AdminLord-CgMEc3R7.js"),__vite__mapDeps([17,8,2,6])).then(r=>({default:r.AdminLord}))),Yg=r=>{switch(r){case be.ADMIN_LORD:return"/admin/lord";case be.ADMIN_REFERRAL:return"/admin/referral";case be.ADMIN_DATABASE:return"/admin/database";case be.ADMIN_REWARD:return"/admin/reward";case be.ADMIN_NOTIFICATION:return"/admin/notification";case be.USER:default:return"/dashboard"}},fa=({children:r,allowedRoles:e,user:t})=>{if(!t)return b.jsx(Ff,{to:"/"});if(e){const i=t.role;if(!(e.includes(i)||i===be.ADMIN_LORD))return b.jsx(Ff,{to:Yg(i)})}return b.jsx(b.Fragment,{children:r})},_M=()=>{const r=G.useRef(`sess_${Date.now()}_${Math.random().toString(36).substring(2,9)}`).current,[e,t]=G.useState(!1),[i,a]=G.useState({user:null,loading:!0,error:null});return G.useEffect(()=>{let l=null;const c=yD(ml,async d=>{if(l&&(l(),l=null),d&&d.email){const p=d.email.toLowerCase(),g=p==="adminreferralcodegeuwat@email.com",_=p==="admindatabasegeuwat@email.com",T=p==="adminrewardgeuwat@email.com",w=p==="adminnotificationgeuwat@email.com",k=p==="adminlordgeuwat@email.com";let z="users";g?z="admin_referral_code":_?z="admin_database":T?z="admin_reward":w?z="admin_notification":k&&(z="admin_lord");const Q=e_(m_,z,p);try{await nM(Q,{lastSessionId:r})}catch(F){console.warn("Session claim warning:",F)}l=iM(Q,F=>{if(F.exists()){const X=F.data();if(X.lastSessionId&&X.lastSessionId!==r){t(!0);return}t(!1);const ee=X.role||"user";let U=be.USER;g?U=be.ADMIN_REFERRAL:_?U=be.ADMIN_DATABASE:T?U=be.ADMIN_REWARD:w?U=be.ADMIN_NOTIFICATION:k?U=be.ADMIN_LORD:Object.values(be).includes(ee)?U=ee:ee==="adminReferral"?U=be.ADMIN_REFERRAL:ee==="adminDatabase"?U=be.ADMIN_DATABASE:ee==="adminReward"?U=be.ADMIN_REWARD:ee==="adminNotification"?U=be.ADMIN_NOTIFICATION:ee==="adminLord"?U=be.ADMIN_LORD:ee==="admin"&&(U=be.ADMIN_DATABASE),a({user:{uid:d.uid,email:p,displayName:X.fullName||X.displayName||p.split("@")[0],photoURL:X.photoURL||null,role:U,createdAt:X.createdAt,balance:X.balance,level:X.level,referralCode:X.referralCode,validUntil:X.validUntil,lastSessionId:X.lastSessionId},loading:!1,error:null})}else{let X=be.USER;g&&(X=be.ADMIN_REFERRAL),_&&(X=be.ADMIN_DATABASE),T&&(X=be.ADMIN_REWARD),w&&(X=be.ADMIN_NOTIFICATION),k&&(X=be.ADMIN_LORD),a({user:{uid:d.uid,email:p,displayName:p.split("@")[0]||"User",photoURL:null,role:X,createdAt:new Date},loading:!1,error:null})}},F=>{ml.currentUser&&a(X=>({...X,loading:!1,error:"Gagal memuat data profil."}))})}else a({user:null,loading:!1,error:null}),t(!1)});return()=>{c(),l&&l()}},[]),e?b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-900 text-white p-6 text-center animate-in fade-in duration-500",children:[b.jsx("div",{className:"w-20 h-20 bg-slate-800 rounded-full flex items-center justify-center mb-6 shadow-2xl shadow-black ring-4 ring-slate-700",children:b.jsx(YR,{size:40,className:"text-red-500"})}),b.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Koneksi Terputus"}),b.jsx("p",{className:"text-slate-400 max-w-md mb-8 leading-relaxed",children:"Akun Anda sedang dibuka di perangkat lain. Klik tombol di bawah untuk menggunakan akun di sini."}),b.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-indigo-600 hover:bg-indigo-500 text-white px-8 py-3 rounded-xl font-bold transition-all flex items-center gap-2 shadow-lg shadow-indigo-900/50",children:[b.jsx(nA,{size:18})," Gunakan Di Sini"]})]}):i.loading?b.jsx(YE,{}):b.jsx(uM,{children:b.jsx(_2,{children:b.jsx(G.Suspense,{fallback:b.jsx(YE,{}),children:b.jsxs(Yx,{children:[b.jsx(hi,{path:"/",element:b.jsx(cM,{})}),b.jsx(hi,{path:"/login",element:i.user?b.jsx(Ff,{to:Yg(i.user.role),replace:!0}):b.jsx(oM,{})}),b.jsx(hi,{path:"/register",element:i.user?b.jsx(Ff,{to:Yg(i.user.role),replace:!0}):b.jsx(lM,{})}),b.jsx(hi,{path:"/dashboard",element:b.jsx(fa,{user:i.user,children:b.jsx(hM,{user:i.user})})}),b.jsx(hi,{path:"/settings",element:b.jsx(fa,{user:i.user,children:b.jsx(fM,{user:i.user})})}),b.jsx(hi,{path:"/admin/lord",element:b.jsx(fa,{user:i.user,allowedRoles:[be.ADMIN_LORD],children:b.jsx(yM,{user:i.user})})}),b.jsx(hi,{path:"/admin/referral",element:b.jsx(fa,{user:i.user,allowedRoles:[be.ADMIN_REFERRAL],children:b.jsx(dM,{user:i.user})})}),b.jsx(hi,{path:"/admin/database",element:b.jsx(fa,{user:i.user,allowedRoles:[be.ADMIN_DATABASE],children:b.jsx(mM,{user:i.user})})}),b.jsx(hi,{path:"/admin/reward",element:b.jsx(fa,{user:i.user,allowedRoles:[be.ADMIN_REWARD],children:b.jsx(pM,{user:i.user})})}),b.jsx(hi,{path:"/admin/notification",element:b.jsx(fa,{user:i.user,allowedRoles:[be.ADMIN_NOTIFICATION],children:b.jsx(gM,{user:i.user})})})]})})})})},j1=document.getElementById("root");if(!j1)throw new Error("Could not find root element to mount to");const vM=SR.createRoot(j1);vM.render(b.jsx(Cs.StrictMode,{children:b.jsx(_M,{})}));export{VR as A,OM as B,PR as C,DM as D,BR as E,hg as L,nA as R,JR as T,be as U,ml as a,EM as b,gi as c,nM as d,e_ as e,m_ as f,TM as g,Ns as h,AM as i,b as j,PM as k,RM as l,QE as m,tM as n,iM as o,VM as p,wM as q,G as r,kM as s,NM as t,gd as u,xM as v,SM as w,IM as x,MM as y,CM as z};
